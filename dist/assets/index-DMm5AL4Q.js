var qS=Object.defineProperty;var yA=m=>{throw TypeError(m)};var YS=(m,t,e)=>t in m?qS(m,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):m[t]=e;var yt=(m,t,e)=>YS(m,typeof t!="symbol"?t+"":t,e),Mg=(m,t,e)=>t.has(m)||yA("Cannot "+e);var l=(m,t,e)=>(Mg(m,t,"read from private field"),e?e.call(m):t.get(m)),b=(m,t,e)=>t.has(m)?yA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(m):t.set(m,e),w=(m,t,e,s)=>(Mg(m,t,"write to private field"),s?s.call(m,e):t.set(m,e),e),S=(m,t,e)=>(Mg(m,t,"access private method"),e);var tn=(m,t,e,s)=>({set _(r){w(m,t,r,e)},get _(){return l(m,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();var Ig={exports:{}},Cu={},Fg={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA;function KS(){if(AA)return Lt;AA=1;var m=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,x={};function R(M,B,ot){this.props=M,this.context=B,this.refs=x,this.updater=ot||E}R.prototype.isReactComponent={},R.prototype.setState=function(M,B){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,B,"setState")},R.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function T(){}T.prototype=R.prototype;function F(M,B,ot){this.props=M,this.context=B,this.refs=x,this.updater=ot||E}var N=F.prototype=new T;N.constructor=F,C(N,R.prototype),N.isPureReactComponent=!0;var O=Array.isArray,j=Object.prototype.hasOwnProperty,H={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function q(M,B,ot){var wt,Pt={},gt=null,ft=null;if(B!=null)for(wt in B.ref!==void 0&&(ft=B.ref),B.key!==void 0&&(gt=""+B.key),B)j.call(B,wt)&&!V.hasOwnProperty(wt)&&(Pt[wt]=B[wt]);var Ft=arguments.length-2;if(Ft===1)Pt.children=ot;else if(1<Ft){for(var Wt=Array(Ft),Qe=0;Qe<Ft;Qe++)Wt[Qe]=arguments[Qe+2];Pt.children=Wt}if(M&&M.defaultProps)for(wt in Ft=M.defaultProps,Ft)Pt[wt]===void 0&&(Pt[wt]=Ft[wt]);return{$$typeof:m,type:M,key:gt,ref:ft,props:Pt,_owner:H.current}}function st(M,B){return{$$typeof:m,type:M.type,key:B,ref:M.ref,props:M.props,_owner:M._owner}}function pt(M){return typeof M=="object"&&M!==null&&M.$$typeof===m}function ut(M){var B={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ot){return B[ot]})}var xt=/\/+/g;function vt(M,B){return typeof M=="object"&&M!==null&&M.key!=null?ut(""+M.key):B.toString(36)}function Et(M,B,ot,wt,Pt){var gt=typeof M;(gt==="undefined"||gt==="boolean")&&(M=null);var ft=!1;if(M===null)ft=!0;else switch(gt){case"string":case"number":ft=!0;break;case"object":switch(M.$$typeof){case m:case t:ft=!0}}if(ft)return ft=M,Pt=Pt(ft),M=wt===""?"."+vt(ft,0):wt,O(Pt)?(ot="",M!=null&&(ot=M.replace(xt,"$&/")+"/"),Et(Pt,B,ot,"",function(Qe){return Qe})):Pt!=null&&(pt(Pt)&&(Pt=st(Pt,ot+(!Pt.key||ft&&ft.key===Pt.key?"":(""+Pt.key).replace(xt,"$&/")+"/")+M)),B.push(Pt)),1;if(ft=0,wt=wt===""?".":wt+":",O(M))for(var Ft=0;Ft<M.length;Ft++){gt=M[Ft];var Wt=wt+vt(gt,Ft);ft+=Et(gt,B,ot,Wt,Pt)}else if(Wt=A(M),typeof Wt=="function")for(M=Wt.call(M),Ft=0;!(gt=M.next()).done;)gt=gt.value,Wt=wt+vt(gt,Ft++),ft+=Et(gt,B,ot,Wt,Pt);else if(gt==="object")throw B=String(M),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return ft}function kt(M,B,ot){if(M==null)return M;var wt=[],Pt=0;return Et(M,wt,"","",function(gt){return B.call(ot,gt,Pt++)}),wt}function Tt(M){if(M._status===-1){var B=M._result;B=B(),B.then(function(ot){(M._status===0||M._status===-1)&&(M._status=1,M._result=ot)},function(ot){(M._status===0||M._status===-1)&&(M._status=2,M._result=ot)}),M._status===-1&&(M._status=0,M._result=B)}if(M._status===1)return M._result.default;throw M._result}var J={current:null},U={transition:null},at={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:U,ReactCurrentOwner:H};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Lt.Children={map:kt,forEach:function(M,B,ot){kt(M,function(){B.apply(this,arguments)},ot)},count:function(M){var B=0;return kt(M,function(){B++}),B},toArray:function(M){return kt(M,function(B){return B})||[]},only:function(M){if(!pt(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Lt.Component=R,Lt.Fragment=e,Lt.Profiler=r,Lt.PureComponent=F,Lt.StrictMode=s,Lt.Suspense=d,Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=at,Lt.act=Q,Lt.cloneElement=function(M,B,ot){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var wt=C({},M.props),Pt=M.key,gt=M.ref,ft=M._owner;if(B!=null){if(B.ref!==void 0&&(gt=B.ref,ft=H.current),B.key!==void 0&&(Pt=""+B.key),M.type&&M.type.defaultProps)var Ft=M.type.defaultProps;for(Wt in B)j.call(B,Wt)&&!V.hasOwnProperty(Wt)&&(wt[Wt]=B[Wt]===void 0&&Ft!==void 0?Ft[Wt]:B[Wt])}var Wt=arguments.length-2;if(Wt===1)wt.children=ot;else if(1<Wt){Ft=Array(Wt);for(var Qe=0;Qe<Wt;Qe++)Ft[Qe]=arguments[Qe+2];wt.children=Ft}return{$$typeof:m,type:M.type,key:Pt,ref:gt,props:wt,_owner:ft}},Lt.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},Lt.createElement=q,Lt.createFactory=function(M){var B=q.bind(null,M);return B.type=M,B},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(M){return{$$typeof:c,render:M}},Lt.isValidElement=pt,Lt.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:Tt}},Lt.memo=function(M,B){return{$$typeof:p,type:M,compare:B===void 0?null:B}},Lt.startTransition=function(M){var B=U.transition;U.transition={};try{M()}finally{U.transition=B}},Lt.unstable_act=Q,Lt.useCallback=function(M,B){return J.current.useCallback(M,B)},Lt.useContext=function(M){return J.current.useContext(M)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(M){return J.current.useDeferredValue(M)},Lt.useEffect=function(M,B){return J.current.useEffect(M,B)},Lt.useId=function(){return J.current.useId()},Lt.useImperativeHandle=function(M,B,ot){return J.current.useImperativeHandle(M,B,ot)},Lt.useInsertionEffect=function(M,B){return J.current.useInsertionEffect(M,B)},Lt.useLayoutEffect=function(M,B){return J.current.useLayoutEffect(M,B)},Lt.useMemo=function(M,B){return J.current.useMemo(M,B)},Lt.useReducer=function(M,B,ot){return J.current.useReducer(M,B,ot)},Lt.useRef=function(M){return J.current.useRef(M)},Lt.useState=function(M){return J.current.useState(M)},Lt.useSyncExternalStore=function(M,B,ot){return J.current.useSyncExternalStore(M,B,ot)},Lt.useTransition=function(){return J.current.useTransition()},Lt.version="18.3.1",Lt}var wA;function av(){return wA||(wA=1,Fg.exports=KS()),Fg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _A;function QS(){if(_A)return Cu;_A=1;var m=av(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(c,d,p){var g,y={},A=null,E=null;p!==void 0&&(A=""+p),d.key!==void 0&&(A=""+d.key),d.ref!==void 0&&(E=d.ref);for(g in d)s.call(d,g)&&!a.hasOwnProperty(g)&&(y[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:t,type:c,key:A,ref:E,props:y,_owner:r.current}}return Cu.Fragment=e,Cu.jsx=u,Cu.jsxs=u,Cu}var SA;function ZS(){return SA||(SA=1,Ig.exports=QS()),Ig.exports}var Qo=ZS(),Ld=av(),bd={},Dg={exports:{}},fn={},Ng={exports:{}},Og={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA;function JS(){return EA||(EA=1,function(m){function t(U,at){var Q=U.length;U.push(at);t:for(;0<Q;){var M=Q-1>>>1,B=U[M];if(0<r(B,at))U[M]=at,U[Q]=B,Q=M;else break t}}function e(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var at=U[0],Q=U.pop();if(Q!==at){U[0]=Q;t:for(var M=0,B=U.length,ot=B>>>1;M<ot;){var wt=2*(M+1)-1,Pt=U[wt],gt=wt+1,ft=U[gt];if(0>r(Pt,Q))gt<B&&0>r(ft,Pt)?(U[M]=ft,U[gt]=Q,M=gt):(U[M]=Pt,U[wt]=Q,M=wt);else if(gt<B&&0>r(ft,Q))U[M]=ft,U[gt]=Q,M=gt;else break t}}return at}function r(U,at){var Q=U.sortIndex-at.sortIndex;return Q!==0?Q:U.id-at.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;m.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();m.unstable_now=function(){return u.now()-c}}var d=[],p=[],g=1,y=null,A=3,E=!1,C=!1,x=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(U){for(var at=e(p);at!==null;){if(at.callback===null)s(p);else if(at.startTime<=U)s(p),at.sortIndex=at.expirationTime,t(d,at);else break;at=e(p)}}function O(U){if(x=!1,N(U),!C)if(e(d)!==null)C=!0,Tt(j);else{var at=e(p);at!==null&&J(O,at.startTime-U)}}function j(U,at){C=!1,x&&(x=!1,T(q),q=-1),E=!0;var Q=A;try{for(N(at),y=e(d);y!==null&&(!(y.expirationTime>at)||U&&!ut());){var M=y.callback;if(typeof M=="function"){y.callback=null,A=y.priorityLevel;var B=M(y.expirationTime<=at);at=m.unstable_now(),typeof B=="function"?y.callback=B:y===e(d)&&s(d),N(at)}else s(d);y=e(d)}if(y!==null)var ot=!0;else{var wt=e(p);wt!==null&&J(O,wt.startTime-at),ot=!1}return ot}finally{y=null,A=Q,E=!1}}var H=!1,V=null,q=-1,st=5,pt=-1;function ut(){return!(m.unstable_now()-pt<st)}function xt(){if(V!==null){var U=m.unstable_now();pt=U;var at=!0;try{at=V(!0,U)}finally{at?vt():(H=!1,V=null)}}else H=!1}var vt;if(typeof F=="function")vt=function(){F(xt)};else if(typeof MessageChannel<"u"){var Et=new MessageChannel,kt=Et.port2;Et.port1.onmessage=xt,vt=function(){kt.postMessage(null)}}else vt=function(){R(xt,0)};function Tt(U){V=U,H||(H=!0,vt())}function J(U,at){q=R(function(){U(m.unstable_now())},at)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(U){U.callback=null},m.unstable_continueExecution=function(){C||E||(C=!0,Tt(j))},m.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):st=0<U?Math.floor(1e3/U):5},m.unstable_getCurrentPriorityLevel=function(){return A},m.unstable_getFirstCallbackNode=function(){return e(d)},m.unstable_next=function(U){switch(A){case 1:case 2:case 3:var at=3;break;default:at=A}var Q=A;A=at;try{return U()}finally{A=Q}},m.unstable_pauseExecution=function(){},m.unstable_requestPaint=function(){},m.unstable_runWithPriority=function(U,at){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Q=A;A=U;try{return at()}finally{A=Q}},m.unstable_scheduleCallback=function(U,at,Q){var M=m.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?M+Q:M):Q=M,U){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,U={id:g++,callback:at,priorityLevel:U,startTime:Q,expirationTime:B,sortIndex:-1},Q>M?(U.sortIndex=Q,t(p,U),e(d)===null&&U===e(p)&&(x?(T(q),q=-1):x=!0,J(O,Q-M))):(U.sortIndex=B,t(d,U),C||E||(C=!0,Tt(j))),U},m.unstable_shouldYield=ut,m.unstable_wrapCallback=function(U){var at=A;return function(){var Q=A;A=at;try{return U.apply(this,arguments)}finally{A=Q}}}}(Og)),Og}var bA;function tE(){return bA||(bA=1,Ng.exports=JS()),Ng.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA;function eE(){if(CA)return fn;CA=1;var m=av(),t=tE();function e(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,r={};function a(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(r[n]=i,n=0;n<i.length;n++)s.add(i[n])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function A(n){return d.call(y,n)?!0:d.call(g,n)?!1:p.test(n)?y[n]=!0:(g[n]=!0,!1)}function E(n,i,o,h){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function C(n,i,o,h){if(i===null||typeof i>"u"||E(n,i,o,h))return!0;if(h)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function x(n,i,o,h,f,v,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=n,this.type=i,this.sanitizeURL=v,this.removeEmptyString=_}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){R[n]=new x(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];R[i]=new x(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){R[n]=new x(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){R[n]=new x(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){R[n]=new x(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){R[n]=new x(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){R[n]=new x(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){R[n]=new x(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){R[n]=new x(n,5,!1,n.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function F(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(T,F);R[i]=new x(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(T,F);R[i]=new x(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(T,F);R[i]=new x(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){R[n]=new x(n,1,!1,n.toLowerCase(),null,!1,!1)}),R.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){R[n]=new x(n,1,!1,n.toLowerCase(),null,!0,!0)});function N(n,i,o,h){var f=R.hasOwnProperty(i)?R[i]:null;(f!==null?f.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,o,f,h)&&(o=null),h||f===null?A(i)&&(o===null?n.removeAttribute(i):n.setAttribute(i,""+o)):f.mustUseProperty?n[f.propertyName]=o===null?f.type===3?!1:"":o:(i=f.attributeName,h=f.attributeNamespace,o===null?n.removeAttribute(i):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,h?n.setAttributeNS(h,i,o):n.setAttribute(i,o))))}var O=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),H=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),pt=Symbol.for("react.provider"),ut=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),U=Symbol.iterator;function at(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var Q=Object.assign,M;function B(n){if(M===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+n}var ot=!1;function wt(n,i){if(!n||ot)return"";ot=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var h=z}Reflect.construct(n,[],i)}else{try{i.call()}catch(z){h=z}n.call(i.prototype)}else{try{throw Error()}catch(z){h=z}n()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),v=h.stack.split(`
`),_=f.length-1,k=v.length-1;1<=_&&0<=k&&f[_]!==v[k];)k--;for(;1<=_&&0<=k;_--,k--)if(f[_]!==v[k]){if(_!==1||k!==1)do if(_--,k--,0>k||f[_]!==v[k]){var P=`
`+f[_].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=_&&0<=k);break}}}finally{ot=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?B(n):""}function Pt(n){switch(n.tag){case 5:return B(n.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return n=wt(n.type,!1),n;case 11:return n=wt(n.type.render,!1),n;case 1:return n=wt(n.type,!0),n;default:return""}}function gt(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case V:return"Fragment";case H:return"Portal";case st:return"Profiler";case q:return"StrictMode";case vt:return"Suspense";case Et:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ut:return(n.displayName||"Context")+".Consumer";case pt:return(n._context.displayName||"Context")+".Provider";case xt:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case kt:return i=n.displayName||null,i!==null?i:gt(n.type)||"Memo";case Tt:i=n._payload,n=n._init;try{return gt(n(i))}catch{}}return null}function ft(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gt(i);case 8:return i===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ft(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Wt(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qe(n){var i=Wt(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),h=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,v=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){h=""+_,v.call(this,_)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ph(n){n._valueTracker||(n._valueTracker=Qe(n))}function bv(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),h="";return n&&(h=Wt(n)?n.checked?"true":"false":n.value),n=h,n!==o?(i.setValue(n),!0):!1}function gh(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Hf(n,i){var o=i.checked;return Q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function Cv(n,i){var o=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;o=Ft(i.value!=null?i.value:o),n._wrapperState={initialChecked:h,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function xv(n,i){i=i.checked,i!=null&&N(n,"checked",i,!1)}function Bf(n,i){xv(n,i);var o=Ft(i.value),h=i.type;if(o!=null)h==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?jf(n,i.type,o):i.hasOwnProperty("defaultValue")&&jf(n,i.type,Ft(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function kv(n,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,o||i===n.value||(n.value=i),n.defaultValue=i}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function jf(n,i,o){(i!=="number"||gh(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var Bl=Array.isArray;function oa(n,i,o,h){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&h&&(n[o].defaultSelected=!0)}else{for(o=""+Ft(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,h&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Uf(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(e(91));return Q({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Tv(n,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(e(92));if(Bl(o)){if(1<o.length)throw Error(e(93));o=o[0]}i=o}i==null&&(i=""),o=i}n._wrapperState={initialValue:Ft(o)}}function Rv(n,i){var o=Ft(i.value),h=Ft(i.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),i.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),h!=null&&(n.defaultValue=""+h)}function Pv(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Lv(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $f(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Lv(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var mh,Mv=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,h,f){MSApp.execUnsafeLocalFunction(function(){return n(i,o,h,f)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(mh=mh||document.createElement("div"),mh.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function jl(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J1=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(n){J1.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Ul[i]=Ul[n]})});function Iv(n,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||Ul.hasOwnProperty(n)&&Ul[n]?(""+i).trim():i+"px"}function Fv(n,i){n=n.style;for(var o in i)if(i.hasOwnProperty(o)){var h=o.indexOf("--")===0,f=Iv(o,i[o],h);o==="float"&&(o="cssFloat"),h?n.setProperty(o,f):n[o]=f}}var t_=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wf(n,i){if(i){if(t_[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(e(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(e(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(e(61))}if(i.style!=null&&typeof i.style!="object")throw Error(e(62))}}function Vf(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=null;function Xf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qf=null,aa=null,la=null;function Dv(n){if(n=cu(n)){if(typeof qf!="function")throw Error(e(280));var i=n.stateNode;i&&(i=Hh(i),qf(n.stateNode,n.type,i))}}function Nv(n){aa?la?la.push(n):la=[n]:aa=n}function Ov(){if(aa){var n=aa,i=la;if(la=aa=null,Dv(n),i)for(n=0;n<i.length;n++)Dv(i[n])}}function zv(n,i){return n(i)}function Hv(){}var Yf=!1;function Bv(n,i,o){if(Yf)return n(i,o);Yf=!0;try{return zv(n,i,o)}finally{Yf=!1,(aa!==null||la!==null)&&(Hv(),Ov())}}function $l(n,i){var o=n.stateNode;if(o===null)return null;var h=Hh(o);if(h===null)return null;o=h[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(e(231,i,typeof o));return o}var Kf=!1;if(c)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){Kf=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{Kf=!1}function e_(n,i,o,h,f,v,_,k,P){var z=Array.prototype.slice.call(arguments,3);try{i.apply(o,z)}catch(W){this.onError(W)}}var Vl=!1,vh=null,yh=!1,Qf=null,n_={onError:function(n){Vl=!0,vh=n}};function i_(n,i,o,h,f,v,_,k,P){Vl=!1,vh=null,e_.apply(n_,arguments)}function s_(n,i,o,h,f,v,_,k,P){if(i_.apply(this,arguments),Vl){if(Vl){var z=vh;Vl=!1,vh=null}else throw Error(e(198));yh||(yh=!0,Qf=z)}}function Dr(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function jv(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Uv(n){if(Dr(n)!==n)throw Error(e(188))}function r_(n){var i=n.alternate;if(!i){if(i=Dr(n),i===null)throw Error(e(188));return i!==n?null:n}for(var o=n,h=i;;){var f=o.return;if(f===null)break;var v=f.alternate;if(v===null){if(h=f.return,h!==null){o=h;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===o)return Uv(f),n;if(v===h)return Uv(f),i;v=v.sibling}throw Error(e(188))}if(o.return!==h.return)o=f,h=v;else{for(var _=!1,k=f.child;k;){if(k===o){_=!0,o=f,h=v;break}if(k===h){_=!0,h=f,o=v;break}k=k.sibling}if(!_){for(k=v.child;k;){if(k===o){_=!0,o=v,h=f;break}if(k===h){_=!0,h=v,o=f;break}k=k.sibling}if(!_)throw Error(e(189))}}if(o.alternate!==h)throw Error(e(190))}if(o.tag!==3)throw Error(e(188));return o.stateNode.current===o?n:i}function $v(n){return n=r_(n),n!==null?Wv(n):null}function Wv(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Wv(n);if(i!==null)return i;n=n.sibling}return null}var Vv=t.unstable_scheduleCallback,Gv=t.unstable_cancelCallback,o_=t.unstable_shouldYield,a_=t.unstable_requestPaint,le=t.unstable_now,l_=t.unstable_getCurrentPriorityLevel,Zf=t.unstable_ImmediatePriority,Xv=t.unstable_UserBlockingPriority,Ah=t.unstable_NormalPriority,u_=t.unstable_LowPriority,qv=t.unstable_IdlePriority,wh=null,Si=null;function c_(n){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(wh,n,void 0,(n.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:f_,h_=Math.log,d_=Math.LN2;function f_(n){return n>>>=0,n===0?32:31-(h_(n)/d_|0)|0}var _h=64,Sh=4194304;function Gl(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Eh(n,i){var o=n.pendingLanes;if(o===0)return 0;var h=0,f=n.suspendedLanes,v=n.pingedLanes,_=o&268435455;if(_!==0){var k=_&~f;k!==0?h=Gl(k):(v&=_,v!==0&&(h=Gl(v)))}else _=o&~f,_!==0?h=Gl(_):v!==0&&(h=Gl(v));if(h===0)return 0;if(i!==0&&i!==h&&!(i&f)&&(f=h&-h,v=i&-i,f>=v||f===16&&(v&4194240)!==0))return i;if(h&4&&(h|=o&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=h;0<i;)o=31-Jn(i),f=1<<o,h|=n[o],i&=~f;return h}function p_(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g_(n,i){for(var o=n.suspendedLanes,h=n.pingedLanes,f=n.expirationTimes,v=n.pendingLanes;0<v;){var _=31-Jn(v),k=1<<_,P=f[_];P===-1?(!(k&o)||k&h)&&(f[_]=p_(k,i)):P<=i&&(n.expiredLanes|=k),v&=~k}}function Jf(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Yv(){var n=_h;return _h<<=1,!(_h&4194240)&&(_h=64),n}function tp(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Xl(n,i,o){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Jn(i),n[i]=o}function m_(n,i){var o=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<o;){var f=31-Jn(o),v=1<<f;i[f]=0,h[f]=-1,n[f]=-1,o&=~v}}function ep(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var h=31-Jn(o),f=1<<h;f&i|n[h]&i&&(n[h]|=i),o&=~f}}var Bt=0;function Kv(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Qv,np,Zv,Jv,ty,ip=!1,bh=[],Ds=null,Ns=null,Os=null,ql=new Map,Yl=new Map,zs=[],v_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ey(n,i){switch(n){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(i.pointerId)}}function Kl(n,i,o,h,f,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:o,eventSystemFlags:h,nativeEvent:v,targetContainers:[f]},i!==null&&(i=cu(i),i!==null&&np(i)),n):(n.eventSystemFlags|=h,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function y_(n,i,o,h,f){switch(i){case"focusin":return Ds=Kl(Ds,n,i,o,h,f),!0;case"dragenter":return Ns=Kl(Ns,n,i,o,h,f),!0;case"mouseover":return Os=Kl(Os,n,i,o,h,f),!0;case"pointerover":var v=f.pointerId;return ql.set(v,Kl(ql.get(v)||null,n,i,o,h,f)),!0;case"gotpointercapture":return v=f.pointerId,Yl.set(v,Kl(Yl.get(v)||null,n,i,o,h,f)),!0}return!1}function ny(n){var i=Nr(n.target);if(i!==null){var o=Dr(i);if(o!==null){if(i=o.tag,i===13){if(i=jv(o),i!==null){n.blockedOn=i,ty(n.priority,function(){Zv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ch(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=rp(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var h=new o.constructor(o.type,o);Gf=h,o.target.dispatchEvent(h),Gf=null}else return i=cu(o),i!==null&&np(i),n.blockedOn=o,!1;i.shift()}return!0}function iy(n,i,o){Ch(n)&&o.delete(i)}function A_(){ip=!1,Ds!==null&&Ch(Ds)&&(Ds=null),Ns!==null&&Ch(Ns)&&(Ns=null),Os!==null&&Ch(Os)&&(Os=null),ql.forEach(iy),Yl.forEach(iy)}function Ql(n,i){n.blockedOn===i&&(n.blockedOn=null,ip||(ip=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,A_)))}function Zl(n){function i(f){return Ql(f,n)}if(0<bh.length){Ql(bh[0],n);for(var o=1;o<bh.length;o++){var h=bh[o];h.blockedOn===n&&(h.blockedOn=null)}}for(Ds!==null&&Ql(Ds,n),Ns!==null&&Ql(Ns,n),Os!==null&&Ql(Os,n),ql.forEach(i),Yl.forEach(i),o=0;o<zs.length;o++)h=zs[o],h.blockedOn===n&&(h.blockedOn=null);for(;0<zs.length&&(o=zs[0],o.blockedOn===null);)ny(o),o.blockedOn===null&&zs.shift()}var ua=O.ReactCurrentBatchConfig,xh=!0;function w_(n,i,o,h){var f=Bt,v=ua.transition;ua.transition=null;try{Bt=1,sp(n,i,o,h)}finally{Bt=f,ua.transition=v}}function __(n,i,o,h){var f=Bt,v=ua.transition;ua.transition=null;try{Bt=4,sp(n,i,o,h)}finally{Bt=f,ua.transition=v}}function sp(n,i,o,h){if(xh){var f=rp(n,i,o,h);if(f===null)Sp(n,i,h,kh,o),ey(n,h);else if(y_(f,n,i,o,h))h.stopPropagation();else if(ey(n,h),i&4&&-1<v_.indexOf(n)){for(;f!==null;){var v=cu(f);if(v!==null&&Qv(v),v=rp(n,i,o,h),v===null&&Sp(n,i,h,kh,o),v===f)break;f=v}f!==null&&h.stopPropagation()}else Sp(n,i,h,null,o)}}var kh=null;function rp(n,i,o,h){if(kh=null,n=Xf(h),n=Nr(n),n!==null)if(i=Dr(n),i===null)n=null;else if(o=i.tag,o===13){if(n=jv(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return kh=n,null}function sy(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l_()){case Zf:return 1;case Xv:return 4;case Ah:case u_:return 16;case qv:return 536870912;default:return 16}default:return 16}}var Hs=null,op=null,Th=null;function ry(){if(Th)return Th;var n,i=op,o=i.length,h,f="value"in Hs?Hs.value:Hs.textContent,v=f.length;for(n=0;n<o&&i[n]===f[n];n++);var _=o-n;for(h=1;h<=_&&i[o-h]===f[v-h];h++);return Th=f.slice(n,1<h?1-h:void 0)}function Rh(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ph(){return!0}function oy(){return!1}function _n(n){function i(o,h,f,v,_){this._reactName=o,this._targetInst=f,this.type=h,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(o=n[k],this[k]=o?o(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ph:oy,this.isPropagationStopped=oy,this}return Q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),i}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ap=_n(ca),Jl=Q({},ca,{view:0,detail:0}),S_=_n(Jl),lp,up,tu,Lh=Q({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hp,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==tu&&(tu&&n.type==="mousemove"?(lp=n.screenX-tu.screenX,up=n.screenY-tu.screenY):up=lp=0,tu=n),lp)},movementY:function(n){return"movementY"in n?n.movementY:up}}),ay=_n(Lh),E_=Q({},Lh,{dataTransfer:0}),b_=_n(E_),C_=Q({},Jl,{relatedTarget:0}),cp=_n(C_),x_=Q({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),k_=_n(x_),T_=Q({},ca,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),R_=_n(T_),P_=Q({},ca,{data:0}),ly=_n(P_),L_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F_(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=I_[n])?!!i[n]:!1}function hp(){return F_}var D_=Q({},Jl,{key:function(n){if(n.key){var i=L_[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Rh(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?M_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hp,charCode:function(n){return n.type==="keypress"?Rh(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Rh(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),N_=_n(D_),O_=Q({},Lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uy=_n(O_),z_=Q({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hp}),H_=_n(z_),B_=Q({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),j_=_n(B_),U_=Q({},Lh,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$_=_n(U_),W_=[9,13,27,32],dp=c&&"CompositionEvent"in window,eu=null;c&&"documentMode"in document&&(eu=document.documentMode);var V_=c&&"TextEvent"in window&&!eu,cy=c&&(!dp||eu&&8<eu&&11>=eu),hy=" ",dy=!1;function fy(n,i){switch(n){case"keyup":return W_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ha=!1;function G_(n,i){switch(n){case"compositionend":return py(i);case"keypress":return i.which!==32?null:(dy=!0,hy);case"textInput":return n=i.data,n===hy&&dy?null:n;default:return null}}function X_(n,i){if(ha)return n==="compositionend"||!dp&&fy(n,i)?(n=ry(),Th=op=Hs=null,ha=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return cy&&i.locale!=="ko"?null:i.data;default:return null}}var q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gy(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!q_[n.type]:i==="textarea"}function my(n,i,o,h){Nv(h),i=Nh(i,"onChange"),0<i.length&&(o=new ap("onChange","change",null,o,h),n.push({event:o,listeners:i}))}var nu=null,iu=null;function Y_(n){Fy(n,0)}function Mh(n){var i=ma(n);if(bv(i))return n}function K_(n,i){if(n==="change")return i}var vy=!1;if(c){var fp;if(c){var pp="oninput"in document;if(!pp){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),pp=typeof yy.oninput=="function"}fp=pp}else fp=!1;vy=fp&&(!document.documentMode||9<document.documentMode)}function Ay(){nu&&(nu.detachEvent("onpropertychange",wy),iu=nu=null)}function wy(n){if(n.propertyName==="value"&&Mh(iu)){var i=[];my(i,iu,n,Xf(n)),Bv(Y_,i)}}function Q_(n,i,o){n==="focusin"?(Ay(),nu=i,iu=o,nu.attachEvent("onpropertychange",wy)):n==="focusout"&&Ay()}function Z_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Mh(iu)}function J_(n,i){if(n==="click")return Mh(i)}function tS(n,i){if(n==="input"||n==="change")return Mh(i)}function eS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ti=typeof Object.is=="function"?Object.is:eS;function su(n,i){if(ti(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),h=Object.keys(i);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var f=o[h];if(!d.call(i,f)||!ti(n[f],i[f]))return!1}return!0}function _y(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sy(n,i){var o=_y(n);n=0;for(var h;o;){if(o.nodeType===3){if(h=n+o.textContent.length,n<=i&&h>=i)return{node:o,offset:i-n};n=h}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=_y(o)}}function Ey(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ey(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function by(){for(var n=window,i=gh();i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=gh(n.document)}return i}function gp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function nS(n){var i=by(),o=n.focusedElem,h=n.selectionRange;if(i!==o&&o&&o.ownerDocument&&Ey(o.ownerDocument.documentElement,o)){if(h!==null&&gp(o)){if(i=h.start,n=h.end,n===void 0&&(n=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(n,o.value.length);else if(n=(i=o.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=o.textContent.length,v=Math.min(h.start,f);h=h.end===void 0?v:Math.min(h.end,f),!n.extend&&v>h&&(f=h,h=v,v=f),f=Sy(o,v);var _=Sy(o,h);f&&_&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),v>h?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=o;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)n=i[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var iS=c&&"documentMode"in document&&11>=document.documentMode,da=null,mp=null,ru=null,vp=!1;function Cy(n,i,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vp||da==null||da!==gh(h)||(h=da,"selectionStart"in h&&gp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ru&&su(ru,h)||(ru=h,h=Nh(mp,"onSelect"),0<h.length&&(i=new ap("onSelect","select",null,i,o),n.push({event:i,listeners:h}),i.target=da)))}function Ih(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var fa={animationend:Ih("Animation","AnimationEnd"),animationiteration:Ih("Animation","AnimationIteration"),animationstart:Ih("Animation","AnimationStart"),transitionend:Ih("Transition","TransitionEnd")},yp={},xy={};c&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Fh(n){if(yp[n])return yp[n];if(!fa[n])return n;var i=fa[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in xy)return yp[n]=i[o];return n}var ky=Fh("animationend"),Ty=Fh("animationiteration"),Ry=Fh("animationstart"),Py=Fh("transitionend"),Ly=new Map,My="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(n,i){Ly.set(n,i),a(i,[n])}for(var Ap=0;Ap<My.length;Ap++){var wp=My[Ap],sS=wp.toLowerCase(),rS=wp[0].toUpperCase()+wp.slice(1);Bs(sS,"on"+rS)}Bs(ky,"onAnimationEnd"),Bs(Ty,"onAnimationIteration"),Bs(Ry,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(Py,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ou));function Iy(n,i,o){var h=n.type||"unknown-event";n.currentTarget=o,s_(h,i,void 0,n),n.currentTarget=null}function Fy(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var h=n[o],f=h.event;h=h.listeners;t:{var v=void 0;if(i)for(var _=h.length-1;0<=_;_--){var k=h[_],P=k.instance,z=k.currentTarget;if(k=k.listener,P!==v&&f.isPropagationStopped())break t;Iy(f,k,z),v=P}else for(_=0;_<h.length;_++){if(k=h[_],P=k.instance,z=k.currentTarget,k=k.listener,P!==v&&f.isPropagationStopped())break t;Iy(f,k,z),v=P}}}if(yh)throw n=Qf,yh=!1,Qf=null,n}function Yt(n,i){var o=i[Tp];o===void 0&&(o=i[Tp]=new Set);var h=n+"__bubble";o.has(h)||(Dy(i,n,2,!1),o.add(h))}function _p(n,i,o){var h=0;i&&(h|=4),Dy(o,n,h,i)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function au(n){if(!n[Dh]){n[Dh]=!0,s.forEach(function(o){o!=="selectionchange"&&(oS.has(o)||_p(o,!1,n),_p(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Dh]||(i[Dh]=!0,_p("selectionchange",!1,i))}}function Dy(n,i,o,h){switch(sy(i)){case 1:var f=w_;break;case 4:f=__;break;default:f=sp}o=f.bind(null,i,o,n),f=void 0,!Kf||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),h?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function Sp(n,i,o,h,f){var v=h;if(!(i&1)&&!(i&2)&&h!==null)t:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var k=h.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(_===4)for(_=h.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;_=_.return}for(;k!==null;){if(_=Nr(k),_===null)return;if(P=_.tag,P===5||P===6){h=v=_;continue t}k=k.parentNode}}h=h.return}Bv(function(){var z=v,W=Xf(o),G=[];t:{var $=Ly.get(n);if($!==void 0){var Z=ap,nt=n;switch(n){case"keypress":if(Rh(o)===0)break t;case"keydown":case"keyup":Z=N_;break;case"focusin":nt="focus",Z=cp;break;case"focusout":nt="blur",Z=cp;break;case"beforeblur":case"afterblur":Z=cp;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ay;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=b_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=H_;break;case ky:case Ty:case Ry:Z=k_;break;case Py:Z=j_;break;case"scroll":Z=S_;break;case"wheel":Z=$_;break;case"copy":case"cut":case"paste":Z=R_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=uy}var it=(i&4)!==0,ue=!it&&n==="scroll",I=it?$!==null?$+"Capture":null:$;it=[];for(var L=z,D;L!==null;){D=L;var X=D.stateNode;if(D.tag===5&&X!==null&&(D=X,I!==null&&(X=$l(L,I),X!=null&&it.push(lu(L,X,D)))),ue)break;L=L.return}0<it.length&&($=new Z($,nt,null,o,W),G.push({event:$,listeners:it}))}}if(!(i&7)){t:{if($=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",$&&o!==Gf&&(nt=o.relatedTarget||o.fromElement)&&(Nr(nt)||nt[Gi]))break t;if((Z||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(nt=o.relatedTarget||o.toElement,Z=z,nt=nt?Nr(nt):null,nt!==null&&(ue=Dr(nt),nt!==ue||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(Z=null,nt=z),Z!==nt)){if(it=ay,X="onMouseLeave",I="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(it=uy,X="onPointerLeave",I="onPointerEnter",L="pointer"),ue=Z==null?$:ma(Z),D=nt==null?$:ma(nt),$=new it(X,L+"leave",Z,o,W),$.target=ue,$.relatedTarget=D,X=null,Nr(W)===z&&(it=new it(I,L+"enter",nt,o,W),it.target=D,it.relatedTarget=ue,X=it),ue=X,Z&&nt)e:{for(it=Z,I=nt,L=0,D=it;D;D=pa(D))L++;for(D=0,X=I;X;X=pa(X))D++;for(;0<L-D;)it=pa(it),L--;for(;0<D-L;)I=pa(I),D--;for(;L--;){if(it===I||I!==null&&it===I.alternate)break e;it=pa(it),I=pa(I)}it=null}else it=null;Z!==null&&Ny(G,$,Z,it,!1),nt!==null&&ue!==null&&Ny(G,ue,nt,it,!0)}}t:{if($=z?ma(z):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var rt=K_;else if(gy($))if(vy)rt=tS;else{rt=Z_;var ht=Q_}else(Z=$.nodeName)&&Z.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(rt=J_);if(rt&&(rt=rt(n,z))){my(G,rt,o,W);break t}ht&&ht(n,$,z),n==="focusout"&&(ht=$._wrapperState)&&ht.controlled&&$.type==="number"&&jf($,"number",$.value)}switch(ht=z?ma(z):window,n){case"focusin":(gy(ht)||ht.contentEditable==="true")&&(da=ht,mp=z,ru=null);break;case"focusout":ru=mp=da=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,Cy(G,o,W);break;case"selectionchange":if(iS)break;case"keydown":case"keyup":Cy(G,o,W)}var dt;if(dp)t:{switch(n){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else ha?fy(n,o)&&(mt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(mt="onCompositionStart");mt&&(cy&&o.locale!=="ko"&&(ha||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&ha&&(dt=ry()):(Hs=W,op="value"in Hs?Hs.value:Hs.textContent,ha=!0)),ht=Nh(z,mt),0<ht.length&&(mt=new ly(mt,n,null,o,W),G.push({event:mt,listeners:ht}),dt?mt.data=dt:(dt=py(o),dt!==null&&(mt.data=dt)))),(dt=V_?G_(n,o):X_(n,o))&&(z=Nh(z,"onBeforeInput"),0<z.length&&(W=new ly("onBeforeInput","beforeinput",null,o,W),G.push({event:W,listeners:z}),W.data=dt))}Fy(G,i)})}function lu(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Nh(n,i){for(var o=i+"Capture",h=[];n!==null;){var f=n,v=f.stateNode;f.tag===5&&v!==null&&(f=v,v=$l(n,o),v!=null&&h.unshift(lu(n,v,f)),v=$l(n,i),v!=null&&h.push(lu(n,v,f))),n=n.return}return h}function pa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ny(n,i,o,h,f){for(var v=i._reactName,_=[];o!==null&&o!==h;){var k=o,P=k.alternate,z=k.stateNode;if(P!==null&&P===h)break;k.tag===5&&z!==null&&(k=z,f?(P=$l(o,v),P!=null&&_.unshift(lu(o,P,k))):f||(P=$l(o,v),P!=null&&_.push(lu(o,P,k)))),o=o.return}_.length!==0&&n.push({event:i,listeners:_})}var aS=/\r\n?/g,lS=/\u0000|\uFFFD/g;function Oy(n){return(typeof n=="string"?n:""+n).replace(aS,`
`).replace(lS,"")}function Oh(n,i,o){if(i=Oy(i),Oy(n)!==i&&o)throw Error(e(425))}function zh(){}var Ep=null,bp=null;function Cp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xp=typeof setTimeout=="function"?setTimeout:void 0,uS=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,cS=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(n){return zy.resolve(null).then(n).catch(hS)}:xp;function hS(n){setTimeout(function(){throw n})}function kp(n,i){var o=i,h=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(h===0){n.removeChild(f),Zl(i);return}h--}else o!=="$"&&o!=="$?"&&o!=="$!"||h++;o=f}while(o);Zl(i)}function js(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Hy(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}var ga=Math.random().toString(36).slice(2),Ei="__reactFiber$"+ga,uu="__reactProps$"+ga,Gi="__reactContainer$"+ga,Tp="__reactEvents$"+ga,dS="__reactListeners$"+ga,fS="__reactHandles$"+ga;function Nr(n){var i=n[Ei];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Gi]||o[Ei]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=Hy(n);n!==null;){if(o=n[Ei])return o;n=Hy(n)}return i}n=o,o=n.parentNode}return null}function cu(n){return n=n[Ei]||n[Gi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ma(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(e(33))}function Hh(n){return n[uu]||null}var Rp=[],va=-1;function Us(n){return{current:n}}function Kt(n){0>va||(n.current=Rp[va],Rp[va]=null,va--)}function Xt(n,i){va++,Rp[va]=n.current,n.current=i}var $s={},Be=Us($s),ln=Us(!1),Or=$s;function ya(n,i){var o=n.type.contextTypes;if(!o)return $s;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var f={},v;for(v in o)f[v]=i[v];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function un(n){return n=n.childContextTypes,n!=null}function Bh(){Kt(ln),Kt(Be)}function By(n,i,o){if(Be.current!==$s)throw Error(e(168));Xt(Be,i),Xt(ln,o)}function jy(n,i,o){var h=n.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return o;h=h.getChildContext();for(var f in h)if(!(f in i))throw Error(e(108,ft(n)||"Unknown",f));return Q({},o,h)}function jh(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||$s,Or=Be.current,Xt(Be,n),Xt(ln,ln.current),!0}function Uy(n,i,o){var h=n.stateNode;if(!h)throw Error(e(169));o?(n=jy(n,i,Or),h.__reactInternalMemoizedMergedChildContext=n,Kt(ln),Kt(Be),Xt(Be,n)):Kt(ln),Xt(ln,o)}var Xi=null,Uh=!1,Pp=!1;function $y(n){Xi===null?Xi=[n]:Xi.push(n)}function pS(n){Uh=!0,$y(n)}function Ws(){if(!Pp&&Xi!==null){Pp=!0;var n=0,i=Bt;try{var o=Xi;for(Bt=1;n<o.length;n++){var h=o[n];do h=h(!0);while(h!==null)}Xi=null,Uh=!1}catch(f){throw Xi!==null&&(Xi=Xi.slice(n+1)),Vv(Zf,Ws),f}finally{Bt=i,Pp=!1}}return null}var Aa=[],wa=0,$h=null,Wh=0,On=[],zn=0,zr=null,qi=1,Yi="";function Hr(n,i){Aa[wa++]=Wh,Aa[wa++]=$h,$h=n,Wh=i}function Wy(n,i,o){On[zn++]=qi,On[zn++]=Yi,On[zn++]=zr,zr=n;var h=qi;n=Yi;var f=32-Jn(h)-1;h&=~(1<<f),o+=1;var v=32-Jn(i)+f;if(30<v){var _=f-f%5;v=(h&(1<<_)-1).toString(32),h>>=_,f-=_,qi=1<<32-Jn(i)+f|o<<f|h,Yi=v+n}else qi=1<<v|o<<f|h,Yi=n}function Lp(n){n.return!==null&&(Hr(n,1),Wy(n,1,0))}function Mp(n){for(;n===$h;)$h=Aa[--wa],Aa[wa]=null,Wh=Aa[--wa],Aa[wa]=null;for(;n===zr;)zr=On[--zn],On[zn]=null,Yi=On[--zn],On[zn]=null,qi=On[--zn],On[zn]=null}var Sn=null,En=null,Zt=!1,ei=null;function Vy(n,i){var o=Un(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=n,i=n.deletions,i===null?(n.deletions=[o],n.flags|=16):i.push(o)}function Gy(n,i){switch(n.tag){case 5:var o=n.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Sn=n,En=js(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Sn=n,En=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=zr!==null?{id:qi,overflow:Yi}:null,n.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Un(18,null,null,0),o.stateNode=i,o.return=n,n.child=o,Sn=n,En=null,!0):!1;default:return!1}}function Ip(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Fp(n){if(Zt){var i=En;if(i){var o=i;if(!Gy(n,i)){if(Ip(n))throw Error(e(418));i=js(o.nextSibling);var h=Sn;i&&Gy(n,i)?Vy(h,o):(n.flags=n.flags&-4097|2,Zt=!1,Sn=n)}}else{if(Ip(n))throw Error(e(418));n.flags=n.flags&-4097|2,Zt=!1,Sn=n}}}function Xy(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Sn=n}function Vh(n){if(n!==Sn)return!1;if(!Zt)return Xy(n),Zt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Cp(n.type,n.memoizedProps)),i&&(i=En)){if(Ip(n))throw qy(),Error(e(418));for(;i;)Vy(n,i),i=js(i.nextSibling)}if(Xy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(e(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(i===0){En=js(n.nextSibling);break t}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}n=n.nextSibling}En=null}}else En=Sn?js(n.stateNode.nextSibling):null;return!0}function qy(){for(var n=En;n;)n=js(n.nextSibling)}function _a(){En=Sn=null,Zt=!1}function Dp(n){ei===null?ei=[n]:ei.push(n)}var gS=O.ReactCurrentBatchConfig;function hu(n,i,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(e(309));var h=o.stateNode}if(!h)throw Error(e(147,n));var f=h,v=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(_){var k=f.refs;_===null?delete k[v]:k[v]=_},i._stringRef=v,i)}if(typeof n!="string")throw Error(e(284));if(!o._owner)throw Error(e(290,n))}return n}function Gh(n,i){throw n=Object.prototype.toString.call(i),Error(e(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Yy(n){var i=n._init;return i(n._payload)}function Ky(n){function i(I,L){if(n){var D=I.deletions;D===null?(I.deletions=[L],I.flags|=16):D.push(L)}}function o(I,L){if(!n)return null;for(;L!==null;)i(I,L),L=L.sibling;return null}function h(I,L){for(I=new Map;L!==null;)L.key!==null?I.set(L.key,L):I.set(L.index,L),L=L.sibling;return I}function f(I,L){return I=Zs(I,L),I.index=0,I.sibling=null,I}function v(I,L,D){return I.index=D,n?(D=I.alternate,D!==null?(D=D.index,D<L?(I.flags|=2,L):D):(I.flags|=2,L)):(I.flags|=1048576,L)}function _(I){return n&&I.alternate===null&&(I.flags|=2),I}function k(I,L,D,X){return L===null||L.tag!==6?(L=xg(D,I.mode,X),L.return=I,L):(L=f(L,D),L.return=I,L)}function P(I,L,D,X){var rt=D.type;return rt===V?W(I,L,D.props.children,X,D.key):L!==null&&(L.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Tt&&Yy(rt)===L.type)?(X=f(L,D.props),X.ref=hu(I,L,D),X.return=I,X):(X=md(D.type,D.key,D.props,null,I.mode,X),X.ref=hu(I,L,D),X.return=I,X)}function z(I,L,D,X){return L===null||L.tag!==4||L.stateNode.containerInfo!==D.containerInfo||L.stateNode.implementation!==D.implementation?(L=kg(D,I.mode,X),L.return=I,L):(L=f(L,D.children||[]),L.return=I,L)}function W(I,L,D,X,rt){return L===null||L.tag!==7?(L=Xr(D,I.mode,X,rt),L.return=I,L):(L=f(L,D),L.return=I,L)}function G(I,L,D){if(typeof L=="string"&&L!==""||typeof L=="number")return L=xg(""+L,I.mode,D),L.return=I,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return D=md(L.type,L.key,L.props,null,I.mode,D),D.ref=hu(I,null,L),D.return=I,D;case H:return L=kg(L,I.mode,D),L.return=I,L;case Tt:var X=L._init;return G(I,X(L._payload),D)}if(Bl(L)||at(L))return L=Xr(L,I.mode,D,null),L.return=I,L;Gh(I,L)}return null}function $(I,L,D,X){var rt=L!==null?L.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return rt!==null?null:k(I,L,""+D,X);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case j:return D.key===rt?P(I,L,D,X):null;case H:return D.key===rt?z(I,L,D,X):null;case Tt:return rt=D._init,$(I,L,rt(D._payload),X)}if(Bl(D)||at(D))return rt!==null?null:W(I,L,D,X,null);Gh(I,D)}return null}function Z(I,L,D,X,rt){if(typeof X=="string"&&X!==""||typeof X=="number")return I=I.get(D)||null,k(L,I,""+X,rt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:return I=I.get(X.key===null?D:X.key)||null,P(L,I,X,rt);case H:return I=I.get(X.key===null?D:X.key)||null,z(L,I,X,rt);case Tt:var ht=X._init;return Z(I,L,D,ht(X._payload),rt)}if(Bl(X)||at(X))return I=I.get(D)||null,W(L,I,X,rt,null);Gh(L,X)}return null}function nt(I,L,D,X){for(var rt=null,ht=null,dt=L,mt=L=0,ke=null;dt!==null&&mt<D.length;mt++){dt.index>mt?(ke=dt,dt=null):ke=dt.sibling;var Ot=$(I,dt,D[mt],X);if(Ot===null){dt===null&&(dt=ke);break}n&&dt&&Ot.alternate===null&&i(I,dt),L=v(Ot,L,mt),ht===null?rt=Ot:ht.sibling=Ot,ht=Ot,dt=ke}if(mt===D.length)return o(I,dt),Zt&&Hr(I,mt),rt;if(dt===null){for(;mt<D.length;mt++)dt=G(I,D[mt],X),dt!==null&&(L=v(dt,L,mt),ht===null?rt=dt:ht.sibling=dt,ht=dt);return Zt&&Hr(I,mt),rt}for(dt=h(I,dt);mt<D.length;mt++)ke=Z(dt,I,mt,D[mt],X),ke!==null&&(n&&ke.alternate!==null&&dt.delete(ke.key===null?mt:ke.key),L=v(ke,L,mt),ht===null?rt=ke:ht.sibling=ke,ht=ke);return n&&dt.forEach(function(Js){return i(I,Js)}),Zt&&Hr(I,mt),rt}function it(I,L,D,X){var rt=at(D);if(typeof rt!="function")throw Error(e(150));if(D=rt.call(D),D==null)throw Error(e(151));for(var ht=rt=null,dt=L,mt=L=0,ke=null,Ot=D.next();dt!==null&&!Ot.done;mt++,Ot=D.next()){dt.index>mt?(ke=dt,dt=null):ke=dt.sibling;var Js=$(I,dt,Ot.value,X);if(Js===null){dt===null&&(dt=ke);break}n&&dt&&Js.alternate===null&&i(I,dt),L=v(Js,L,mt),ht===null?rt=Js:ht.sibling=Js,ht=Js,dt=ke}if(Ot.done)return o(I,dt),Zt&&Hr(I,mt),rt;if(dt===null){for(;!Ot.done;mt++,Ot=D.next())Ot=G(I,Ot.value,X),Ot!==null&&(L=v(Ot,L,mt),ht===null?rt=Ot:ht.sibling=Ot,ht=Ot);return Zt&&Hr(I,mt),rt}for(dt=h(I,dt);!Ot.done;mt++,Ot=D.next())Ot=Z(dt,I,mt,Ot.value,X),Ot!==null&&(n&&Ot.alternate!==null&&dt.delete(Ot.key===null?mt:Ot.key),L=v(Ot,L,mt),ht===null?rt=Ot:ht.sibling=Ot,ht=Ot);return n&&dt.forEach(function(XS){return i(I,XS)}),Zt&&Hr(I,mt),rt}function ue(I,L,D,X){if(typeof D=="object"&&D!==null&&D.type===V&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case j:t:{for(var rt=D.key,ht=L;ht!==null;){if(ht.key===rt){if(rt=D.type,rt===V){if(ht.tag===7){o(I,ht.sibling),L=f(ht,D.props.children),L.return=I,I=L;break t}}else if(ht.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Tt&&Yy(rt)===ht.type){o(I,ht.sibling),L=f(ht,D.props),L.ref=hu(I,ht,D),L.return=I,I=L;break t}o(I,ht);break}else i(I,ht);ht=ht.sibling}D.type===V?(L=Xr(D.props.children,I.mode,X,D.key),L.return=I,I=L):(X=md(D.type,D.key,D.props,null,I.mode,X),X.ref=hu(I,L,D),X.return=I,I=X)}return _(I);case H:t:{for(ht=D.key;L!==null;){if(L.key===ht)if(L.tag===4&&L.stateNode.containerInfo===D.containerInfo&&L.stateNode.implementation===D.implementation){o(I,L.sibling),L=f(L,D.children||[]),L.return=I,I=L;break t}else{o(I,L);break}else i(I,L);L=L.sibling}L=kg(D,I.mode,X),L.return=I,I=L}return _(I);case Tt:return ht=D._init,ue(I,L,ht(D._payload),X)}if(Bl(D))return nt(I,L,D,X);if(at(D))return it(I,L,D,X);Gh(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,L!==null&&L.tag===6?(o(I,L.sibling),L=f(L,D),L.return=I,I=L):(o(I,L),L=xg(D,I.mode,X),L.return=I,I=L),_(I)):o(I,L)}return ue}var Sa=Ky(!0),Qy=Ky(!1),Xh=Us(null),qh=null,Ea=null,Np=null;function Op(){Np=Ea=qh=null}function zp(n){var i=Xh.current;Kt(Xh),n._currentValue=i}function Hp(n,i,o){for(;n!==null;){var h=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),n===o)break;n=n.return}}function ba(n,i){qh=n,Np=Ea=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(cn=!0),n.firstContext=null)}function Hn(n){var i=n._currentValue;if(Np!==n)if(n={context:n,memoizedValue:i,next:null},Ea===null){if(qh===null)throw Error(e(308));Ea=n,qh.dependencies={lanes:0,firstContext:n}}else Ea=Ea.next=n;return i}var Br=null;function Bp(n){Br===null?Br=[n]:Br.push(n)}function Zy(n,i,o,h){var f=i.interleaved;return f===null?(o.next=o,Bp(i)):(o.next=f.next,f.next=o),i.interleaved=o,Ki(n,h)}function Ki(n,i){n.lanes|=i;var o=n.alternate;for(o!==null&&(o.lanes|=i),o=n,n=n.return;n!==null;)n.childLanes|=i,o=n.alternate,o!==null&&(o.childLanes|=i),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Vs=!1;function jp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jy(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Qi(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Gs(n,i,o){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,Nt&2){var f=h.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),h.pending=i,Ki(n,o)}return f=h.interleaved,f===null?(i.next=i,Bp(h)):(i.next=f.next,f.next=i),h.interleaved=i,Ki(n,o)}function Yh(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var h=i.lanes;h&=n.pendingLanes,o|=h,i.lanes=o,ep(n,o)}}function t0(n,i){var o=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var f=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};v===null?f=v=_:v=v.next=_,o=o.next}while(o!==null);v===null?f=v=i:v=v.next=i}else f=v=i;o={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:h.shared,effects:h.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}function Kh(n,i,o,h){var f=n.updateQueue;Vs=!1;var v=f.firstBaseUpdate,_=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var P=k,z=P.next;P.next=null,_===null?v=z:_.next=z,_=P;var W=n.alternate;W!==null&&(W=W.updateQueue,k=W.lastBaseUpdate,k!==_&&(k===null?W.firstBaseUpdate=z:k.next=z,W.lastBaseUpdate=P))}if(v!==null){var G=f.baseState;_=0,W=z=P=null,k=v;do{var $=k.lane,Z=k.eventTime;if((h&$)===$){W!==null&&(W=W.next={eventTime:Z,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});t:{var nt=n,it=k;switch($=i,Z=o,it.tag){case 1:if(nt=it.payload,typeof nt=="function"){G=nt.call(Z,G,$);break t}G=nt;break t;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=it.payload,$=typeof nt=="function"?nt.call(Z,G,$):nt,$==null)break t;G=Q({},G,$);break t;case 2:Vs=!0}}k.callback!==null&&k.lane!==0&&(n.flags|=64,$=f.effects,$===null?f.effects=[k]:$.push(k))}else Z={eventTime:Z,lane:$,tag:k.tag,payload:k.payload,callback:k.callback,next:null},W===null?(z=W=Z,P=G):W=W.next=Z,_|=$;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;$=k,k=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);if(W===null&&(P=G),f.baseState=P,f.firstBaseUpdate=z,f.lastBaseUpdate=W,i=f.shared.interleaved,i!==null){f=i;do _|=f.lane,f=f.next;while(f!==i)}else v===null&&(f.shared.lanes=0);$r|=_,n.lanes=_,n.memoizedState=G}}function e0(n,i,o){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var h=n[i],f=h.callback;if(f!==null){if(h.callback=null,h=o,typeof f!="function")throw Error(e(191,f));f.call(h)}}}var du={},bi=Us(du),fu=Us(du),pu=Us(du);function jr(n){if(n===du)throw Error(e(174));return n}function Up(n,i){switch(Xt(pu,i),Xt(fu,n),Xt(bi,du),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:$f(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=$f(i,n)}Kt(bi),Xt(bi,i)}function Ca(){Kt(bi),Kt(fu),Kt(pu)}function n0(n){jr(pu.current);var i=jr(bi.current),o=$f(i,n.type);i!==o&&(Xt(fu,n),Xt(bi,o))}function $p(n){fu.current===n&&(Kt(bi),Kt(fu))}var te=Us(0);function Qh(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wp=[];function Vp(){for(var n=0;n<Wp.length;n++)Wp[n]._workInProgressVersionPrimary=null;Wp.length=0}var Zh=O.ReactCurrentDispatcher,Gp=O.ReactCurrentBatchConfig,Ur=0,ee=null,me=null,Ce=null,Jh=!1,gu=!1,mu=0,mS=0;function je(){throw Error(e(321))}function Xp(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!ti(n[o],i[o]))return!1;return!0}function qp(n,i,o,h,f,v){if(Ur=v,ee=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Zh.current=n===null||n.memoizedState===null?wS:_S,n=o(h,f),gu){v=0;do{if(gu=!1,mu=0,25<=v)throw Error(e(301));v+=1,Ce=me=null,i.updateQueue=null,Zh.current=SS,n=o(h,f)}while(gu)}if(Zh.current=nd,i=me!==null&&me.next!==null,Ur=0,Ce=me=ee=null,Jh=!1,i)throw Error(e(300));return n}function Yp(){var n=mu!==0;return mu=0,n}function Ci(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ee.memoizedState=Ce=n:Ce=Ce.next=n,Ce}function Bn(){if(me===null){var n=ee.alternate;n=n!==null?n.memoizedState:null}else n=me.next;var i=Ce===null?ee.memoizedState:Ce.next;if(i!==null)Ce=i,me=n;else{if(n===null)throw Error(e(310));me=n,n={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},Ce===null?ee.memoizedState=Ce=n:Ce=Ce.next=n}return Ce}function vu(n,i){return typeof i=="function"?i(n):i}function Kp(n){var i=Bn(),o=i.queue;if(o===null)throw Error(e(311));o.lastRenderedReducer=n;var h=me,f=h.baseQueue,v=o.pending;if(v!==null){if(f!==null){var _=f.next;f.next=v.next,v.next=_}h.baseQueue=f=v,o.pending=null}if(f!==null){v=f.next,h=h.baseState;var k=_=null,P=null,z=v;do{var W=z.lane;if((Ur&W)===W)P!==null&&(P=P.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:n(h,z.action);else{var G={lane:W,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};P===null?(k=P=G,_=h):P=P.next=G,ee.lanes|=W,$r|=W}z=z.next}while(z!==null&&z!==v);P===null?_=h:P.next=k,ti(h,i.memoizedState)||(cn=!0),i.memoizedState=h,i.baseState=_,i.baseQueue=P,o.lastRenderedState=h}if(n=o.interleaved,n!==null){f=n;do v=f.lane,ee.lanes|=v,$r|=v,f=f.next;while(f!==n)}else f===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function Qp(n){var i=Bn(),o=i.queue;if(o===null)throw Error(e(311));o.lastRenderedReducer=n;var h=o.dispatch,f=o.pending,v=i.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do v=n(v,_.action),_=_.next;while(_!==f);ti(v,i.memoizedState)||(cn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),o.lastRenderedState=v}return[v,h]}function i0(){}function s0(n,i){var o=ee,h=Bn(),f=i(),v=!ti(h.memoizedState,f);if(v&&(h.memoizedState=f,cn=!0),h=h.queue,Zp(a0.bind(null,o,h,n),[n]),h.getSnapshot!==i||v||Ce!==null&&Ce.memoizedState.tag&1){if(o.flags|=2048,yu(9,o0.bind(null,o,h,f,i),void 0,null),xe===null)throw Error(e(349));Ur&30||r0(o,i,f)}return f}function r0(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=ee.updateQueue,i===null?(i={lastEffect:null,stores:null},ee.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function o0(n,i,o,h){i.value=o,i.getSnapshot=h,l0(i)&&u0(n)}function a0(n,i,o){return o(function(){l0(i)&&u0(n)})}function l0(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!ti(n,o)}catch{return!0}}function u0(n){var i=Ki(n,1);i!==null&&ri(i,n,1,-1)}function c0(n){var i=Ci();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:n},i.queue=n,n=n.dispatch=AS.bind(null,ee,n),[i.memoizedState,n]}function yu(n,i,o,h){return n={tag:n,create:i,destroy:o,deps:h,next:null},i=ee.updateQueue,i===null?(i={lastEffect:null,stores:null},ee.updateQueue=i,i.lastEffect=n.next=n):(o=i.lastEffect,o===null?i.lastEffect=n.next=n:(h=o.next,o.next=n,n.next=h,i.lastEffect=n)),n}function h0(){return Bn().memoizedState}function td(n,i,o,h){var f=Ci();ee.flags|=n,f.memoizedState=yu(1|i,o,void 0,h===void 0?null:h)}function ed(n,i,o,h){var f=Bn();h=h===void 0?null:h;var v=void 0;if(me!==null){var _=me.memoizedState;if(v=_.destroy,h!==null&&Xp(h,_.deps)){f.memoizedState=yu(i,o,v,h);return}}ee.flags|=n,f.memoizedState=yu(1|i,o,v,h)}function d0(n,i){return td(8390656,8,n,i)}function Zp(n,i){return ed(2048,8,n,i)}function f0(n,i){return ed(4,2,n,i)}function p0(n,i){return ed(4,4,n,i)}function g0(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function m0(n,i,o){return o=o!=null?o.concat([n]):null,ed(4,4,g0.bind(null,i,n),o)}function Jp(){}function v0(n,i){var o=Bn();i=i===void 0?null:i;var h=o.memoizedState;return h!==null&&i!==null&&Xp(i,h[1])?h[0]:(o.memoizedState=[n,i],n)}function y0(n,i){var o=Bn();i=i===void 0?null:i;var h=o.memoizedState;return h!==null&&i!==null&&Xp(i,h[1])?h[0]:(n=n(),o.memoizedState=[n,i],n)}function A0(n,i,o){return Ur&21?(ti(o,i)||(o=Yv(),ee.lanes|=o,$r|=o,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,cn=!0),n.memoizedState=o)}function vS(n,i){var o=Bt;Bt=o!==0&&4>o?o:4,n(!0);var h=Gp.transition;Gp.transition={};try{n(!1),i()}finally{Bt=o,Gp.transition=h}}function w0(){return Bn().memoizedState}function yS(n,i,o){var h=Ks(n);if(o={lane:h,action:o,hasEagerState:!1,eagerState:null,next:null},_0(n))S0(i,o);else if(o=Zy(n,i,o,h),o!==null){var f=Je();ri(o,n,h,f),E0(o,i,h)}}function AS(n,i,o){var h=Ks(n),f={lane:h,action:o,hasEagerState:!1,eagerState:null,next:null};if(_0(n))S0(i,f);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var _=i.lastRenderedState,k=v(_,o);if(f.hasEagerState=!0,f.eagerState=k,ti(k,_)){var P=i.interleaved;P===null?(f.next=f,Bp(i)):(f.next=P.next,P.next=f),i.interleaved=f;return}}catch{}finally{}o=Zy(n,i,f,h),o!==null&&(f=Je(),ri(o,n,h,f),E0(o,i,h))}}function _0(n){var i=n.alternate;return n===ee||i!==null&&i===ee}function S0(n,i){gu=Jh=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function E0(n,i,o){if(o&4194240){var h=i.lanes;h&=n.pendingLanes,o|=h,i.lanes=o,ep(n,o)}}var nd={readContext:Hn,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},wS={readContext:Hn,useCallback:function(n,i){return Ci().memoizedState=[n,i===void 0?null:i],n},useContext:Hn,useEffect:d0,useImperativeHandle:function(n,i,o){return o=o!=null?o.concat([n]):null,td(4194308,4,g0.bind(null,i,n),o)},useLayoutEffect:function(n,i){return td(4194308,4,n,i)},useInsertionEffect:function(n,i){return td(4,2,n,i)},useMemo:function(n,i){var o=Ci();return i=i===void 0?null:i,n=n(),o.memoizedState=[n,i],n},useReducer:function(n,i,o){var h=Ci();return i=o!==void 0?o(i):i,h.memoizedState=h.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},h.queue=n,n=n.dispatch=yS.bind(null,ee,n),[h.memoizedState,n]},useRef:function(n){var i=Ci();return n={current:n},i.memoizedState=n},useState:c0,useDebugValue:Jp,useDeferredValue:function(n){return Ci().memoizedState=n},useTransition:function(){var n=c0(!1),i=n[0];return n=vS.bind(null,n[1]),Ci().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,o){var h=ee,f=Ci();if(Zt){if(o===void 0)throw Error(e(407));o=o()}else{if(o=i(),xe===null)throw Error(e(349));Ur&30||r0(h,i,o)}f.memoizedState=o;var v={value:o,getSnapshot:i};return f.queue=v,d0(a0.bind(null,h,v,n),[n]),h.flags|=2048,yu(9,o0.bind(null,h,v,o,i),void 0,null),o},useId:function(){var n=Ci(),i=xe.identifierPrefix;if(Zt){var o=Yi,h=qi;o=(h&~(1<<32-Jn(h)-1)).toString(32)+o,i=":"+i+"R"+o,o=mu++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=mS++,i=":"+i+"r"+o.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},_S={readContext:Hn,useCallback:v0,useContext:Hn,useEffect:Zp,useImperativeHandle:m0,useInsertionEffect:f0,useLayoutEffect:p0,useMemo:y0,useReducer:Kp,useRef:h0,useState:function(){return Kp(vu)},useDebugValue:Jp,useDeferredValue:function(n){var i=Bn();return A0(i,me.memoizedState,n)},useTransition:function(){var n=Kp(vu)[0],i=Bn().memoizedState;return[n,i]},useMutableSource:i0,useSyncExternalStore:s0,useId:w0,unstable_isNewReconciler:!1},SS={readContext:Hn,useCallback:v0,useContext:Hn,useEffect:Zp,useImperativeHandle:m0,useInsertionEffect:f0,useLayoutEffect:p0,useMemo:y0,useReducer:Qp,useRef:h0,useState:function(){return Qp(vu)},useDebugValue:Jp,useDeferredValue:function(n){var i=Bn();return me===null?i.memoizedState=n:A0(i,me.memoizedState,n)},useTransition:function(){var n=Qp(vu)[0],i=Bn().memoizedState;return[n,i]},useMutableSource:i0,useSyncExternalStore:s0,useId:w0,unstable_isNewReconciler:!1};function ni(n,i){if(n&&n.defaultProps){i=Q({},i),n=n.defaultProps;for(var o in n)i[o]===void 0&&(i[o]=n[o]);return i}return i}function tg(n,i,o,h){i=n.memoizedState,o=o(h,i),o=o==null?i:Q({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var id={isMounted:function(n){return(n=n._reactInternals)?Dr(n)===n:!1},enqueueSetState:function(n,i,o){n=n._reactInternals;var h=Je(),f=Ks(n),v=Qi(h,f);v.payload=i,o!=null&&(v.callback=o),i=Gs(n,v,f),i!==null&&(ri(i,n,f,h),Yh(i,n,f))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var h=Je(),f=Ks(n),v=Qi(h,f);v.tag=1,v.payload=i,o!=null&&(v.callback=o),i=Gs(n,v,f),i!==null&&(ri(i,n,f,h),Yh(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Je(),h=Ks(n),f=Qi(o,h);f.tag=2,i!=null&&(f.callback=i),i=Gs(n,f,h),i!==null&&(ri(i,n,h,o),Yh(i,n,h))}};function b0(n,i,o,h,f,v,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,v,_):i.prototype&&i.prototype.isPureReactComponent?!su(o,h)||!su(f,v):!0}function C0(n,i,o){var h=!1,f=$s,v=i.contextType;return typeof v=="object"&&v!==null?v=Hn(v):(f=un(i)?Or:Be.current,h=i.contextTypes,v=(h=h!=null)?ya(n,f):$s),i=new i(o,v),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=id,n.stateNode=i,i._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=v),i}function x0(n,i,o,h){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,h),i.state!==n&&id.enqueueReplaceState(i,i.state,null)}function eg(n,i,o,h){var f=n.stateNode;f.props=o,f.state=n.memoizedState,f.refs={},jp(n);var v=i.contextType;typeof v=="object"&&v!==null?f.context=Hn(v):(v=un(i)?Or:Be.current,f.context=ya(n,v)),f.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(tg(n,i,v,o),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&id.enqueueReplaceState(f,f.state,null),Kh(n,o,f,h),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function xa(n,i){try{var o="",h=i;do o+=Pt(h),h=h.return;while(h);var f=o}catch(v){f=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:i,stack:f,digest:null}}function ng(n,i,o){return{value:n,source:null,stack:o??null,digest:i??null}}function ig(n,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var ES=typeof WeakMap=="function"?WeakMap:Map;function k0(n,i,o){o=Qi(-1,o),o.tag=3,o.payload={element:null};var h=i.value;return o.callback=function(){cd||(cd=!0,yg=h),ig(n,i)},o}function T0(n,i,o){o=Qi(-1,o),o.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var f=i.value;o.payload=function(){return h(f)},o.callback=function(){ig(n,i)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(o.callback=function(){ig(n,i),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),o}function R0(n,i,o){var h=n.pingCache;if(h===null){h=n.pingCache=new ES;var f=new Set;h.set(i,f)}else f=h.get(i),f===void 0&&(f=new Set,h.set(i,f));f.has(o)||(f.add(o),n=OS.bind(null,n,i,o),i.then(n,n))}function P0(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function L0(n,i,o,h,f){return n.mode&1?(n.flags|=65536,n.lanes=f,n):(n===i?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=Qi(-1,1),i.tag=2,Gs(o,i,1))),o.lanes|=1),n)}var bS=O.ReactCurrentOwner,cn=!1;function Ze(n,i,o,h){i.child=n===null?Qy(i,null,o,h):Sa(i,n.child,o,h)}function M0(n,i,o,h,f){o=o.render;var v=i.ref;return ba(i,f),h=qp(n,i,o,h,v,f),o=Yp(),n!==null&&!cn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Zi(n,i,f)):(Zt&&o&&Lp(i),i.flags|=1,Ze(n,i,h,f),i.child)}function I0(n,i,o,h,f){if(n===null){var v=o.type;return typeof v=="function"&&!Cg(v)&&v.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=v,F0(n,i,v,h,f)):(n=md(o.type,null,h,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,!(n.lanes&f)){var _=v.memoizedProps;if(o=o.compare,o=o!==null?o:su,o(_,h)&&n.ref===i.ref)return Zi(n,i,f)}return i.flags|=1,n=Zs(v,h),n.ref=i.ref,n.return=i,i.child=n}function F0(n,i,o,h,f){if(n!==null){var v=n.memoizedProps;if(su(v,h)&&n.ref===i.ref)if(cn=!1,i.pendingProps=h=v,(n.lanes&f)!==0)n.flags&131072&&(cn=!0);else return i.lanes=n.lanes,Zi(n,i,f)}return sg(n,i,o,h,f)}function D0(n,i,o){var h=i.pendingProps,f=h.children,v=n!==null?n.memoizedState:null;if(h.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Ta,bn),bn|=o;else{if(!(o&1073741824))return n=v!==null?v.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Xt(Ta,bn),bn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:o,Xt(Ta,bn),bn|=h}else v!==null?(h=v.baseLanes|o,i.memoizedState=null):h=o,Xt(Ta,bn),bn|=h;return Ze(n,i,f,o),i.child}function N0(n,i){var o=i.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function sg(n,i,o,h,f){var v=un(o)?Or:Be.current;return v=ya(i,v),ba(i,f),o=qp(n,i,o,h,v,f),h=Yp(),n!==null&&!cn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Zi(n,i,f)):(Zt&&h&&Lp(i),i.flags|=1,Ze(n,i,o,f),i.child)}function O0(n,i,o,h,f){if(un(o)){var v=!0;jh(i)}else v=!1;if(ba(i,f),i.stateNode===null)rd(n,i),C0(i,o,h),eg(i,o,h,f),h=!0;else if(n===null){var _=i.stateNode,k=i.memoizedProps;_.props=k;var P=_.context,z=o.contextType;typeof z=="object"&&z!==null?z=Hn(z):(z=un(o)?Or:Be.current,z=ya(i,z));var W=o.getDerivedStateFromProps,G=typeof W=="function"||typeof _.getSnapshotBeforeUpdate=="function";G||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==h||P!==z)&&x0(i,_,h,z),Vs=!1;var $=i.memoizedState;_.state=$,Kh(i,h,_,f),P=i.memoizedState,k!==h||$!==P||ln.current||Vs?(typeof W=="function"&&(tg(i,o,W,h),P=i.memoizedState),(k=Vs||b0(i,o,k,h,$,P,z))?(G||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=P),_.props=h,_.state=P,_.context=z,h=k):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{_=i.stateNode,Jy(n,i),k=i.memoizedProps,z=i.type===i.elementType?k:ni(i.type,k),_.props=z,G=i.pendingProps,$=_.context,P=o.contextType,typeof P=="object"&&P!==null?P=Hn(P):(P=un(o)?Or:Be.current,P=ya(i,P));var Z=o.getDerivedStateFromProps;(W=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==G||$!==P)&&x0(i,_,h,P),Vs=!1,$=i.memoizedState,_.state=$,Kh(i,h,_,f);var nt=i.memoizedState;k!==G||$!==nt||ln.current||Vs?(typeof Z=="function"&&(tg(i,o,Z,h),nt=i.memoizedState),(z=Vs||b0(i,o,z,h,$,nt,P)||!1)?(W||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,nt,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,nt,P)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||k===n.memoizedProps&&$===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&$===n.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=nt),_.props=h,_.state=nt,_.context=P,h=z):(typeof _.componentDidUpdate!="function"||k===n.memoizedProps&&$===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&$===n.memoizedState||(i.flags|=1024),h=!1)}return rg(n,i,o,h,v,f)}function rg(n,i,o,h,f,v){N0(n,i);var _=(i.flags&128)!==0;if(!h&&!_)return f&&Uy(i,o,!1),Zi(n,i,v);h=i.stateNode,bS.current=i;var k=_&&typeof o.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,n!==null&&_?(i.child=Sa(i,n.child,null,v),i.child=Sa(i,null,k,v)):Ze(n,i,k,v),i.memoizedState=h.state,f&&Uy(i,o,!0),i.child}function z0(n){var i=n.stateNode;i.pendingContext?By(n,i.pendingContext,i.pendingContext!==i.context):i.context&&By(n,i.context,!1),Up(n,i.containerInfo)}function H0(n,i,o,h,f){return _a(),Dp(f),i.flags|=256,Ze(n,i,o,h),i.child}var og={dehydrated:null,treeContext:null,retryLane:0};function ag(n){return{baseLanes:n,cachePool:null,transitions:null}}function B0(n,i,o){var h=i.pendingProps,f=te.current,v=!1,_=(i.flags&128)!==0,k;if((k=_)||(k=n!==null&&n.memoizedState===null?!1:(f&2)!==0),k?(v=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Xt(te,f&1),n===null)return Fp(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=h.children,n=h.fallback,v?(h=i.mode,v=i.child,_={mode:"hidden",children:_},!(h&1)&&v!==null?(v.childLanes=0,v.pendingProps=_):v=vd(_,h,0,null),n=Xr(n,h,o,null),v.return=i,n.return=i,v.sibling=n,i.child=v,i.child.memoizedState=ag(o),i.memoizedState=og,n):lg(i,_));if(f=n.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return CS(n,i,_,h,k,f,o);if(v){v=h.fallback,_=i.mode,f=n.child,k=f.sibling;var P={mode:"hidden",children:h.children};return!(_&1)&&i.child!==f?(h=i.child,h.childLanes=0,h.pendingProps=P,i.deletions=null):(h=Zs(f,P),h.subtreeFlags=f.subtreeFlags&14680064),k!==null?v=Zs(k,v):(v=Xr(v,_,o,null),v.flags|=2),v.return=i,h.return=i,h.sibling=v,i.child=h,h=v,v=i.child,_=n.child.memoizedState,_=_===null?ag(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},v.memoizedState=_,v.childLanes=n.childLanes&~o,i.memoizedState=og,h}return v=n.child,n=v.sibling,h=Zs(v,{mode:"visible",children:h.children}),!(i.mode&1)&&(h.lanes=o),h.return=i,h.sibling=null,n!==null&&(o=i.deletions,o===null?(i.deletions=[n],i.flags|=16):o.push(n)),i.child=h,i.memoizedState=null,h}function lg(n,i){return i=vd({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function sd(n,i,o,h){return h!==null&&Dp(h),Sa(i,n.child,null,o),n=lg(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function CS(n,i,o,h,f,v,_){if(o)return i.flags&256?(i.flags&=-257,h=ng(Error(e(422))),sd(n,i,_,h)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(v=h.fallback,f=i.mode,h=vd({mode:"visible",children:h.children},f,0,null),v=Xr(v,f,_,null),v.flags|=2,h.return=i,v.return=i,h.sibling=v,i.child=h,i.mode&1&&Sa(i,n.child,null,_),i.child.memoizedState=ag(_),i.memoizedState=og,v);if(!(i.mode&1))return sd(n,i,_,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var k=h.dgst;return h=k,v=Error(e(419)),h=ng(v,h,void 0),sd(n,i,_,h)}if(k=(_&n.childLanes)!==0,cn||k){if(h=xe,h!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|_)?0:f,f!==0&&f!==v.retryLane&&(v.retryLane=f,Ki(n,f),ri(h,n,f,-1))}return bg(),h=ng(Error(e(421))),sd(n,i,_,h)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=zS.bind(null,n),f._reactRetry=i,null):(n=v.treeContext,En=js(f.nextSibling),Sn=i,Zt=!0,ei=null,n!==null&&(On[zn++]=qi,On[zn++]=Yi,On[zn++]=zr,qi=n.id,Yi=n.overflow,zr=i),i=lg(i,h.children),i.flags|=4096,i)}function j0(n,i,o){n.lanes|=i;var h=n.alternate;h!==null&&(h.lanes|=i),Hp(n.return,i,o)}function ug(n,i,o,h,f){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:f}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=o,v.tailMode=f)}function U0(n,i,o){var h=i.pendingProps,f=h.revealOrder,v=h.tail;if(Ze(n,i,h.children,o),h=te.current,h&2)h=h&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&j0(n,o,i);else if(n.tag===19)j0(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(Xt(te,h),!(i.mode&1))i.memoizedState=null;else switch(f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&Qh(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),ug(i,!1,f,o,v);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Qh(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}ug(i,!0,o,null,v);break;case"together":ug(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function rd(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Zi(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),$r|=i.lanes,!(o&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(e(153));if(i.child!==null){for(n=i.child,o=Zs(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Zs(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function xS(n,i,o){switch(i.tag){case 3:z0(i),_a();break;case 5:n0(i);break;case 1:un(i.type)&&jh(i);break;case 4:Up(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,f=i.memoizedProps.value;Xt(Xh,h._currentValue),h._currentValue=f;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Xt(te,te.current&1),i.flags|=128,null):o&i.child.childLanes?B0(n,i,o):(Xt(te,te.current&1),n=Zi(n,i,o),n!==null?n.sibling:null);Xt(te,te.current&1);break;case 19:if(h=(o&i.childLanes)!==0,n.flags&128){if(h)return U0(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xt(te,te.current),h)break;return null;case 22:case 23:return i.lanes=0,D0(n,i,o)}return Zi(n,i,o)}var $0,cg,W0,V0;$0=function(n,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},cg=function(){},W0=function(n,i,o,h){var f=n.memoizedProps;if(f!==h){n=i.stateNode,jr(bi.current);var v=null;switch(o){case"input":f=Hf(n,f),h=Hf(n,h),v=[];break;case"select":f=Q({},f,{value:void 0}),h=Q({},h,{value:void 0}),v=[];break;case"textarea":f=Uf(n,f),h=Uf(n,h),v=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=zh)}Wf(o,h);var _;o=null;for(z in f)if(!h.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var k=f[z];for(_ in k)k.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(r.hasOwnProperty(z)?v||(v=[]):(v=v||[]).push(z,null));for(z in h){var P=h[z];if(k=f!=null?f[z]:void 0,h.hasOwnProperty(z)&&P!==k&&(P!=null||k!=null))if(z==="style")if(k){for(_ in k)!k.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in P)P.hasOwnProperty(_)&&k[_]!==P[_]&&(o||(o={}),o[_]=P[_])}else o||(v||(v=[]),v.push(z,o)),o=P;else z==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,k=k?k.__html:void 0,P!=null&&k!==P&&(v=v||[]).push(z,P)):z==="children"?typeof P!="string"&&typeof P!="number"||(v=v||[]).push(z,""+P):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(r.hasOwnProperty(z)?(P!=null&&z==="onScroll"&&Yt("scroll",n),v||k===P||(v=[])):(v=v||[]).push(z,P))}o&&(v=v||[]).push("style",o);var z=v;(i.updateQueue=z)&&(i.flags|=4)}},V0=function(n,i,o,h){o!==h&&(i.flags|=4)};function Au(n,i){if(!Zt)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Ue(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,h=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=h,n.childLanes=o,i}function kS(n,i,o){var h=i.pendingProps;switch(Mp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(i),null;case 1:return un(i.type)&&Bh(),Ue(i),null;case 3:return h=i.stateNode,Ca(),Kt(ln),Kt(Be),Vp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(Vh(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,ei!==null&&(_g(ei),ei=null))),cg(n,i),Ue(i),null;case 5:$p(i);var f=jr(pu.current);if(o=i.type,n!==null&&i.stateNode!=null)W0(n,i,o,h,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(e(166));return Ue(i),null}if(n=jr(bi.current),Vh(i)){h=i.stateNode,o=i.type;var v=i.memoizedProps;switch(h[Ei]=i,h[uu]=v,n=(i.mode&1)!==0,o){case"dialog":Yt("cancel",h),Yt("close",h);break;case"iframe":case"object":case"embed":Yt("load",h);break;case"video":case"audio":for(f=0;f<ou.length;f++)Yt(ou[f],h);break;case"source":Yt("error",h);break;case"img":case"image":case"link":Yt("error",h),Yt("load",h);break;case"details":Yt("toggle",h);break;case"input":Cv(h,v),Yt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Yt("invalid",h);break;case"textarea":Tv(h,v),Yt("invalid",h)}Wf(o,v),f=null;for(var _ in v)if(v.hasOwnProperty(_)){var k=v[_];_==="children"?typeof k=="string"?h.textContent!==k&&(v.suppressHydrationWarning!==!0&&Oh(h.textContent,k,n),f=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(v.suppressHydrationWarning!==!0&&Oh(h.textContent,k,n),f=["children",""+k]):r.hasOwnProperty(_)&&k!=null&&_==="onScroll"&&Yt("scroll",h)}switch(o){case"input":ph(h),kv(h,v,!0);break;case"textarea":ph(h),Pv(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=zh)}h=f,i.updateQueue=h,h!==null&&(i.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Lv(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=_.createElement(o,{is:h.is}):(n=_.createElement(o),o==="select"&&(_=n,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):n=_.createElementNS(n,o),n[Ei]=i,n[uu]=h,$0(n,i,!1,!1),i.stateNode=n;t:{switch(_=Vf(o,h),o){case"dialog":Yt("cancel",n),Yt("close",n),f=h;break;case"iframe":case"object":case"embed":Yt("load",n),f=h;break;case"video":case"audio":for(f=0;f<ou.length;f++)Yt(ou[f],n);f=h;break;case"source":Yt("error",n),f=h;break;case"img":case"image":case"link":Yt("error",n),Yt("load",n),f=h;break;case"details":Yt("toggle",n),f=h;break;case"input":Cv(n,h),f=Hf(n,h),Yt("invalid",n);break;case"option":f=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},f=Q({},h,{value:void 0}),Yt("invalid",n);break;case"textarea":Tv(n,h),f=Uf(n,h),Yt("invalid",n);break;default:f=h}Wf(o,f),k=f;for(v in k)if(k.hasOwnProperty(v)){var P=k[v];v==="style"?Fv(n,P):v==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Mv(n,P)):v==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&jl(n,P):typeof P=="number"&&jl(n,""+P):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(r.hasOwnProperty(v)?P!=null&&v==="onScroll"&&Yt("scroll",n):P!=null&&N(n,v,P,_))}switch(o){case"input":ph(n),kv(n,h,!1);break;case"textarea":ph(n),Pv(n);break;case"option":h.value!=null&&n.setAttribute("value",""+Ft(h.value));break;case"select":n.multiple=!!h.multiple,v=h.value,v!=null?oa(n,!!h.multiple,v,!1):h.defaultValue!=null&&oa(n,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=zh)}switch(o){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ue(i),null;case 6:if(n&&i.stateNode!=null)V0(n,i,n.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(e(166));if(o=jr(pu.current),jr(bi.current),Vh(i)){if(h=i.stateNode,o=i.memoizedProps,h[Ei]=i,(v=h.nodeValue!==o)&&(n=Sn,n!==null))switch(n.tag){case 3:Oh(h.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Oh(h.nodeValue,o,(n.mode&1)!==0)}v&&(i.flags|=4)}else h=(o.nodeType===9?o:o.ownerDocument).createTextNode(h),h[Ei]=i,i.stateNode=h}return Ue(i),null;case 13:if(Kt(te),h=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Zt&&En!==null&&i.mode&1&&!(i.flags&128))qy(),_a(),i.flags|=98560,v=!1;else if(v=Vh(i),h!==null&&h.dehydrated!==null){if(n===null){if(!v)throw Error(e(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(e(317));v[Ei]=i}else _a(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Ue(i),v=!1}else ei!==null&&(_g(ei),ei=null),v=!0;if(!v)return i.flags&65536?i:null}return i.flags&128?(i.lanes=o,i):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(i.child.flags|=8192,i.mode&1&&(n===null||te.current&1?ve===0&&(ve=3):bg())),i.updateQueue!==null&&(i.flags|=4),Ue(i),null);case 4:return Ca(),cg(n,i),n===null&&au(i.stateNode.containerInfo),Ue(i),null;case 10:return zp(i.type._context),Ue(i),null;case 17:return un(i.type)&&Bh(),Ue(i),null;case 19:if(Kt(te),v=i.memoizedState,v===null)return Ue(i),null;if(h=(i.flags&128)!==0,_=v.rendering,_===null)if(h)Au(v,!1);else{if(ve!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(_=Qh(n),_!==null){for(i.flags|=128,Au(v,!1),h=_.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=o,o=i.child;o!==null;)v=o,n=h,v.flags&=14680066,_=v.alternate,_===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=_.childLanes,v.lanes=_.lanes,v.child=_.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=_.memoizedProps,v.memoizedState=_.memoizedState,v.updateQueue=_.updateQueue,v.type=_.type,n=_.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return Xt(te,te.current&1|2),i.child}n=n.sibling}v.tail!==null&&le()>Ra&&(i.flags|=128,h=!0,Au(v,!1),i.lanes=4194304)}else{if(!h)if(n=Qh(_),n!==null){if(i.flags|=128,h=!0,o=n.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Au(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!Zt)return Ue(i),null}else 2*le()-v.renderingStartTime>Ra&&o!==1073741824&&(i.flags|=128,h=!0,Au(v,!1),i.lanes=4194304);v.isBackwards?(_.sibling=i.child,i.child=_):(o=v.last,o!==null?o.sibling=_:i.child=_,v.last=_)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=le(),i.sibling=null,o=te.current,Xt(te,h?o&1|2:o&1),i):(Ue(i),null);case 22:case 23:return Eg(),h=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(i.flags|=8192),h&&i.mode&1?bn&1073741824&&(Ue(i),i.subtreeFlags&6&&(i.flags|=8192)):Ue(i),null;case 24:return null;case 25:return null}throw Error(e(156,i.tag))}function TS(n,i){switch(Mp(i),i.tag){case 1:return un(i.type)&&Bh(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ca(),Kt(ln),Kt(Be),Vp(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return $p(i),null;case 13:if(Kt(te),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(e(340));_a()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Kt(te),null;case 4:return Ca(),null;case 10:return zp(i.type._context),null;case 22:case 23:return Eg(),null;case 24:return null;default:return null}}var od=!1,$e=!1,RS=typeof WeakSet=="function"?WeakSet:Set,et=null;function ka(n,i){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(h){oe(n,i,h)}else o.current=null}function hg(n,i,o){try{o()}catch(h){oe(n,i,h)}}var G0=!1;function PS(n,i){if(Ep=xh,n=by(),gp(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var f=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break t}var _=0,k=-1,P=-1,z=0,W=0,G=n,$=null;e:for(;;){for(var Z;G!==o||f!==0&&G.nodeType!==3||(k=_+f),G!==v||h!==0&&G.nodeType!==3||(P=_+h),G.nodeType===3&&(_+=G.nodeValue.length),(Z=G.firstChild)!==null;)$=G,G=Z;for(;;){if(G===n)break e;if($===o&&++z===f&&(k=_),$===v&&++W===h&&(P=_),(Z=G.nextSibling)!==null)break;G=$,$=G.parentNode}G=Z}o=k===-1||P===-1?null:{start:k,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(bp={focusedElem:n,selectionRange:o},xh=!1,et=i;et!==null;)if(i=et,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,et=n;else for(;et!==null;){i=et;try{var nt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var it=nt.memoizedProps,ue=nt.memoizedState,I=i.stateNode,L=I.getSnapshotBeforeUpdate(i.elementType===i.type?it:ni(i.type,it),ue);I.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var D=i.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(X){oe(i,i.return,X)}if(n=i.sibling,n!==null){n.return=i.return,et=n;break}et=i.return}return nt=G0,G0=!1,nt}function wu(n,i,o){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&n)===n){var v=f.destroy;f.destroy=void 0,v!==void 0&&hg(i,o,v)}f=f.next}while(f!==h)}}function ad(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&n)===n){var h=o.create;o.destroy=h()}o=o.next}while(o!==i)}}function dg(n){var i=n.ref;if(i!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof i=="function"?i(n):i.current=n}}function X0(n){var i=n.alternate;i!==null&&(n.alternate=null,X0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Ei],delete i[uu],delete i[Tp],delete i[dS],delete i[fS])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function q0(n){return n.tag===5||n.tag===3||n.tag===4}function Y0(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||q0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function fg(n,i,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(n,i):o.insertBefore(n,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(n,o)):(i=o,i.appendChild(n)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=zh));else if(h!==4&&(n=n.child,n!==null))for(fg(n,i,o),n=n.sibling;n!==null;)fg(n,i,o),n=n.sibling}function pg(n,i,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(pg(n,i,o),n=n.sibling;n!==null;)pg(n,i,o),n=n.sibling}var Ie=null,ii=!1;function Xs(n,i,o){for(o=o.child;o!==null;)K0(n,i,o),o=o.sibling}function K0(n,i,o){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(wh,o)}catch{}switch(o.tag){case 5:$e||ka(o,i);case 6:var h=Ie,f=ii;Ie=null,Xs(n,i,o),Ie=h,ii=f,Ie!==null&&(ii?(n=Ie,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):Ie.removeChild(o.stateNode));break;case 18:Ie!==null&&(ii?(n=Ie,o=o.stateNode,n.nodeType===8?kp(n.parentNode,o):n.nodeType===1&&kp(n,o),Zl(n)):kp(Ie,o.stateNode));break;case 4:h=Ie,f=ii,Ie=o.stateNode.containerInfo,ii=!0,Xs(n,i,o),Ie=h,ii=f;break;case 0:case 11:case 14:case 15:if(!$e&&(h=o.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var v=f,_=v.destroy;v=v.tag,_!==void 0&&(v&2||v&4)&&hg(o,i,_),f=f.next}while(f!==h)}Xs(n,i,o);break;case 1:if(!$e&&(ka(o,i),h=o.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=o.memoizedProps,h.state=o.memoizedState,h.componentWillUnmount()}catch(k){oe(o,i,k)}Xs(n,i,o);break;case 21:Xs(n,i,o);break;case 22:o.mode&1?($e=(h=$e)||o.memoizedState!==null,Xs(n,i,o),$e=h):Xs(n,i,o);break;default:Xs(n,i,o)}}function Q0(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new RS),i.forEach(function(h){var f=HS.bind(null,n,h);o.has(h)||(o.add(h),h.then(f,f))})}}function si(n,i){var o=i.deletions;if(o!==null)for(var h=0;h<o.length;h++){var f=o[h];try{var v=n,_=i,k=_;t:for(;k!==null;){switch(k.tag){case 5:Ie=k.stateNode,ii=!1;break t;case 3:Ie=k.stateNode.containerInfo,ii=!0;break t;case 4:Ie=k.stateNode.containerInfo,ii=!0;break t}k=k.return}if(Ie===null)throw Error(e(160));K0(v,_,f),Ie=null,ii=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(z){oe(f,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Z0(i,n),i=i.sibling}function Z0(n,i){var o=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(si(i,n),xi(n),h&4){try{wu(3,n,n.return),ad(3,n)}catch(it){oe(n,n.return,it)}try{wu(5,n,n.return)}catch(it){oe(n,n.return,it)}}break;case 1:si(i,n),xi(n),h&512&&o!==null&&ka(o,o.return);break;case 5:if(si(i,n),xi(n),h&512&&o!==null&&ka(o,o.return),n.flags&32){var f=n.stateNode;try{jl(f,"")}catch(it){oe(n,n.return,it)}}if(h&4&&(f=n.stateNode,f!=null)){var v=n.memoizedProps,_=o!==null?o.memoizedProps:v,k=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{k==="input"&&v.type==="radio"&&v.name!=null&&xv(f,v),Vf(k,_);var z=Vf(k,v);for(_=0;_<P.length;_+=2){var W=P[_],G=P[_+1];W==="style"?Fv(f,G):W==="dangerouslySetInnerHTML"?Mv(f,G):W==="children"?jl(f,G):N(f,W,G,z)}switch(k){case"input":Bf(f,v);break;case"textarea":Rv(f,v);break;case"select":var $=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!v.multiple;var Z=v.value;Z!=null?oa(f,!!v.multiple,Z,!1):$!==!!v.multiple&&(v.defaultValue!=null?oa(f,!!v.multiple,v.defaultValue,!0):oa(f,!!v.multiple,v.multiple?[]:"",!1))}f[uu]=v}catch(it){oe(n,n.return,it)}}break;case 6:if(si(i,n),xi(n),h&4){if(n.stateNode===null)throw Error(e(162));f=n.stateNode,v=n.memoizedProps;try{f.nodeValue=v}catch(it){oe(n,n.return,it)}}break;case 3:if(si(i,n),xi(n),h&4&&o!==null&&o.memoizedState.isDehydrated)try{Zl(i.containerInfo)}catch(it){oe(n,n.return,it)}break;case 4:si(i,n),xi(n);break;case 13:si(i,n),xi(n),f=n.child,f.flags&8192&&(v=f.memoizedState!==null,f.stateNode.isHidden=v,!v||f.alternate!==null&&f.alternate.memoizedState!==null||(vg=le())),h&4&&Q0(n);break;case 22:if(W=o!==null&&o.memoizedState!==null,n.mode&1?($e=(z=$e)||W,si(i,n),$e=z):si(i,n),xi(n),h&8192){if(z=n.memoizedState!==null,(n.stateNode.isHidden=z)&&!W&&n.mode&1)for(et=n,W=n.child;W!==null;){for(G=et=W;et!==null;){switch($=et,Z=$.child,$.tag){case 0:case 11:case 14:case 15:wu(4,$,$.return);break;case 1:ka($,$.return);var nt=$.stateNode;if(typeof nt.componentWillUnmount=="function"){h=$,o=$.return;try{i=h,nt.props=i.memoizedProps,nt.state=i.memoizedState,nt.componentWillUnmount()}catch(it){oe(h,o,it)}}break;case 5:ka($,$.return);break;case 22:if($.memoizedState!==null){eA(G);continue}}Z!==null?(Z.return=$,et=Z):eA(G)}W=W.sibling}t:for(W=null,G=n;;){if(G.tag===5){if(W===null){W=G;try{f=G.stateNode,z?(v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(k=G.stateNode,P=G.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,k.style.display=Iv("display",_))}catch(it){oe(n,n.return,it)}}}else if(G.tag===6){if(W===null)try{G.stateNode.nodeValue=z?"":G.memoizedProps}catch(it){oe(n,n.return,it)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===n)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===n)break t;for(;G.sibling===null;){if(G.return===null||G.return===n)break t;W===G&&(W=null),G=G.return}W===G&&(W=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:si(i,n),xi(n),h&4&&Q0(n);break;case 21:break;default:si(i,n),xi(n)}}function xi(n){var i=n.flags;if(i&2){try{t:{for(var o=n.return;o!==null;){if(q0(o)){var h=o;break t}o=o.return}throw Error(e(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(jl(f,""),h.flags&=-33);var v=Y0(n);pg(n,v,f);break;case 3:case 4:var _=h.stateNode.containerInfo,k=Y0(n);fg(n,k,_);break;default:throw Error(e(161))}}catch(P){oe(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function LS(n,i,o){et=n,J0(n)}function J0(n,i,o){for(var h=(n.mode&1)!==0;et!==null;){var f=et,v=f.child;if(f.tag===22&&h){var _=f.memoizedState!==null||od;if(!_){var k=f.alternate,P=k!==null&&k.memoizedState!==null||$e;k=od;var z=$e;if(od=_,($e=P)&&!z)for(et=f;et!==null;)_=et,P=_.child,_.tag===22&&_.memoizedState!==null?nA(f):P!==null?(P.return=_,et=P):nA(f);for(;v!==null;)et=v,J0(v),v=v.sibling;et=f,od=k,$e=z}tA(n)}else f.subtreeFlags&8772&&v!==null?(v.return=f,et=v):tA(n)}}function tA(n){for(;et!==null;){var i=et;if(i.flags&8772){var o=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:$e||ad(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!$e)if(o===null)h.componentDidMount();else{var f=i.elementType===i.type?o.memoizedProps:ni(i.type,o.memoizedProps);h.componentDidUpdate(f,o.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&e0(i,v,h);break;case 3:var _=i.updateQueue;if(_!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}e0(i,_,o)}break;case 5:var k=i.stateNode;if(o===null&&i.flags&4){o=k;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var W=z.memoizedState;if(W!==null){var G=W.dehydrated;G!==null&&Zl(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}$e||i.flags&512&&dg(i)}catch($){oe(i,i.return,$)}}if(i===n){et=null;break}if(o=i.sibling,o!==null){o.return=i.return,et=o;break}et=i.return}}function eA(n){for(;et!==null;){var i=et;if(i===n){et=null;break}var o=i.sibling;if(o!==null){o.return=i.return,et=o;break}et=i.return}}function nA(n){for(;et!==null;){var i=et;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{ad(4,i)}catch(P){oe(i,o,P)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var f=i.return;try{h.componentDidMount()}catch(P){oe(i,f,P)}}var v=i.return;try{dg(i)}catch(P){oe(i,v,P)}break;case 5:var _=i.return;try{dg(i)}catch(P){oe(i,_,P)}}}catch(P){oe(i,i.return,P)}if(i===n){et=null;break}var k=i.sibling;if(k!==null){k.return=i.return,et=k;break}et=i.return}}var MS=Math.ceil,ld=O.ReactCurrentDispatcher,gg=O.ReactCurrentOwner,jn=O.ReactCurrentBatchConfig,Nt=0,xe=null,de=null,Fe=0,bn=0,Ta=Us(0),ve=0,_u=null,$r=0,ud=0,mg=0,Su=null,hn=null,vg=0,Ra=1/0,Ji=null,cd=!1,yg=null,qs=null,hd=!1,Ys=null,dd=0,Eu=0,Ag=null,fd=-1,pd=0;function Je(){return Nt&6?le():fd!==-1?fd:fd=le()}function Ks(n){return n.mode&1?Nt&2&&Fe!==0?Fe&-Fe:gS.transition!==null?(pd===0&&(pd=Yv()),pd):(n=Bt,n!==0||(n=window.event,n=n===void 0?16:sy(n.type)),n):1}function ri(n,i,o,h){if(50<Eu)throw Eu=0,Ag=null,Error(e(185));Xl(n,o,h),(!(Nt&2)||n!==xe)&&(n===xe&&(!(Nt&2)&&(ud|=o),ve===4&&Qs(n,Fe)),dn(n,h),o===1&&Nt===0&&!(i.mode&1)&&(Ra=le()+500,Uh&&Ws()))}function dn(n,i){var o=n.callbackNode;g_(n,i);var h=Eh(n,n===xe?Fe:0);if(h===0)o!==null&&Gv(o),n.callbackNode=null,n.callbackPriority=0;else if(i=h&-h,n.callbackPriority!==i){if(o!=null&&Gv(o),i===1)n.tag===0?pS(sA.bind(null,n)):$y(sA.bind(null,n)),cS(function(){!(Nt&6)&&Ws()}),o=null;else{switch(Kv(h)){case 1:o=Zf;break;case 4:o=Xv;break;case 16:o=Ah;break;case 536870912:o=qv;break;default:o=Ah}o=dA(o,iA.bind(null,n))}n.callbackPriority=i,n.callbackNode=o}}function iA(n,i){if(fd=-1,pd=0,Nt&6)throw Error(e(327));var o=n.callbackNode;if(Pa()&&n.callbackNode!==o)return null;var h=Eh(n,n===xe?Fe:0);if(h===0)return null;if(h&30||h&n.expiredLanes||i)i=gd(n,h);else{i=h;var f=Nt;Nt|=2;var v=oA();(xe!==n||Fe!==i)&&(Ji=null,Ra=le()+500,Vr(n,i));do try{DS();break}catch(k){rA(n,k)}while(!0);Op(),ld.current=v,Nt=f,de!==null?i=0:(xe=null,Fe=0,i=ve)}if(i!==0){if(i===2&&(f=Jf(n),f!==0&&(h=f,i=wg(n,f))),i===1)throw o=_u,Vr(n,0),Qs(n,h),dn(n,le()),o;if(i===6)Qs(n,h);else{if(f=n.current.alternate,!(h&30)&&!IS(f)&&(i=gd(n,h),i===2&&(v=Jf(n),v!==0&&(h=v,i=wg(n,v))),i===1))throw o=_u,Vr(n,0),Qs(n,h),dn(n,le()),o;switch(n.finishedWork=f,n.finishedLanes=h,i){case 0:case 1:throw Error(e(345));case 2:Gr(n,hn,Ji);break;case 3:if(Qs(n,h),(h&130023424)===h&&(i=vg+500-le(),10<i)){if(Eh(n,0)!==0)break;if(f=n.suspendedLanes,(f&h)!==h){Je(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=xp(Gr.bind(null,n,hn,Ji),i);break}Gr(n,hn,Ji);break;case 4:if(Qs(n,h),(h&4194240)===h)break;for(i=n.eventTimes,f=-1;0<h;){var _=31-Jn(h);v=1<<_,_=i[_],_>f&&(f=_),h&=~v}if(h=f,h=le()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*MS(h/1960))-h,10<h){n.timeoutHandle=xp(Gr.bind(null,n,hn,Ji),h);break}Gr(n,hn,Ji);break;case 5:Gr(n,hn,Ji);break;default:throw Error(e(329))}}}return dn(n,le()),n.callbackNode===o?iA.bind(null,n):null}function wg(n,i){var o=Su;return n.current.memoizedState.isDehydrated&&(Vr(n,i).flags|=256),n=gd(n,i),n!==2&&(i=hn,hn=o,i!==null&&_g(i)),n}function _g(n){hn===null?hn=n:hn.push.apply(hn,n)}function IS(n){for(var i=n;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var h=0;h<o.length;h++){var f=o[h],v=f.getSnapshot;f=f.value;try{if(!ti(v(),f))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qs(n,i){for(i&=~mg,i&=~ud,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var o=31-Jn(i),h=1<<o;n[o]=-1,i&=~h}}function sA(n){if(Nt&6)throw Error(e(327));Pa();var i=Eh(n,0);if(!(i&1))return dn(n,le()),null;var o=gd(n,i);if(n.tag!==0&&o===2){var h=Jf(n);h!==0&&(i=h,o=wg(n,h))}if(o===1)throw o=_u,Vr(n,0),Qs(n,i),dn(n,le()),o;if(o===6)throw Error(e(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Gr(n,hn,Ji),dn(n,le()),null}function Sg(n,i){var o=Nt;Nt|=1;try{return n(i)}finally{Nt=o,Nt===0&&(Ra=le()+500,Uh&&Ws())}}function Wr(n){Ys!==null&&Ys.tag===0&&!(Nt&6)&&Pa();var i=Nt;Nt|=1;var o=jn.transition,h=Bt;try{if(jn.transition=null,Bt=1,n)return n()}finally{Bt=h,jn.transition=o,Nt=i,!(Nt&6)&&Ws()}}function Eg(){bn=Ta.current,Kt(Ta)}function Vr(n,i){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,uS(o)),de!==null)for(o=de.return;o!==null;){var h=o;switch(Mp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Bh();break;case 3:Ca(),Kt(ln),Kt(Be),Vp();break;case 5:$p(h);break;case 4:Ca();break;case 13:Kt(te);break;case 19:Kt(te);break;case 10:zp(h.type._context);break;case 22:case 23:Eg()}o=o.return}if(xe=n,de=n=Zs(n.current,null),Fe=bn=i,ve=0,_u=null,mg=ud=$r=0,hn=Su=null,Br!==null){for(i=0;i<Br.length;i++)if(o=Br[i],h=o.interleaved,h!==null){o.interleaved=null;var f=h.next,v=o.pending;if(v!==null){var _=v.next;v.next=f,h.next=_}o.pending=h}Br=null}return n}function rA(n,i){do{var o=de;try{if(Op(),Zh.current=nd,Jh){for(var h=ee.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Jh=!1}if(Ur=0,Ce=me=ee=null,gu=!1,mu=0,gg.current=null,o===null||o.return===null){ve=1,_u=i,de=null;break}t:{var v=n,_=o.return,k=o,P=i;if(i=Fe,k.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var z=P,W=k,G=W.tag;if(!(W.mode&1)&&(G===0||G===11||G===15)){var $=W.alternate;$?(W.updateQueue=$.updateQueue,W.memoizedState=$.memoizedState,W.lanes=$.lanes):(W.updateQueue=null,W.memoizedState=null)}var Z=P0(_);if(Z!==null){Z.flags&=-257,L0(Z,_,k,v,i),Z.mode&1&&R0(v,z,i),i=Z,P=z;var nt=i.updateQueue;if(nt===null){var it=new Set;it.add(P),i.updateQueue=it}else nt.add(P);break t}else{if(!(i&1)){R0(v,z,i),bg();break t}P=Error(e(426))}}else if(Zt&&k.mode&1){var ue=P0(_);if(ue!==null){!(ue.flags&65536)&&(ue.flags|=256),L0(ue,_,k,v,i),Dp(xa(P,k));break t}}v=P=xa(P,k),ve!==4&&(ve=2),Su===null?Su=[v]:Su.push(v),v=_;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var I=k0(v,P,i);t0(v,I);break t;case 1:k=P;var L=v.type,D=v.stateNode;if(!(v.flags&128)&&(typeof L.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(qs===null||!qs.has(D)))){v.flags|=65536,i&=-i,v.lanes|=i;var X=T0(v,k,i);t0(v,X);break t}}v=v.return}while(v!==null)}lA(o)}catch(rt){i=rt,de===o&&o!==null&&(de=o=o.return);continue}break}while(!0)}function oA(){var n=ld.current;return ld.current=nd,n===null?nd:n}function bg(){(ve===0||ve===3||ve===2)&&(ve=4),xe===null||!($r&268435455)&&!(ud&268435455)||Qs(xe,Fe)}function gd(n,i){var o=Nt;Nt|=2;var h=oA();(xe!==n||Fe!==i)&&(Ji=null,Vr(n,i));do try{FS();break}catch(f){rA(n,f)}while(!0);if(Op(),Nt=o,ld.current=h,de!==null)throw Error(e(261));return xe=null,Fe=0,ve}function FS(){for(;de!==null;)aA(de)}function DS(){for(;de!==null&&!o_();)aA(de)}function aA(n){var i=hA(n.alternate,n,bn);n.memoizedProps=n.pendingProps,i===null?lA(n):de=i,gg.current=null}function lA(n){var i=n;do{var o=i.alternate;if(n=i.return,i.flags&32768){if(o=TS(o,i),o!==null){o.flags&=32767,de=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ve=6,de=null;return}}else if(o=kS(o,i,bn),o!==null){de=o;return}if(i=i.sibling,i!==null){de=i;return}de=i=n}while(i!==null);ve===0&&(ve=5)}function Gr(n,i,o){var h=Bt,f=jn.transition;try{jn.transition=null,Bt=1,NS(n,i,o,h)}finally{jn.transition=f,Bt=h}return null}function NS(n,i,o,h){do Pa();while(Ys!==null);if(Nt&6)throw Error(e(327));o=n.finishedWork;var f=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(e(177));n.callbackNode=null,n.callbackPriority=0;var v=o.lanes|o.childLanes;if(m_(n,v),n===xe&&(de=xe=null,Fe=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||hd||(hd=!0,dA(Ah,function(){return Pa(),null})),v=(o.flags&15990)!==0,o.subtreeFlags&15990||v){v=jn.transition,jn.transition=null;var _=Bt;Bt=1;var k=Nt;Nt|=4,gg.current=null,PS(n,o),Z0(o,n),nS(bp),xh=!!Ep,bp=Ep=null,n.current=o,LS(o),a_(),Nt=k,Bt=_,jn.transition=v}else n.current=o;if(hd&&(hd=!1,Ys=n,dd=f),v=n.pendingLanes,v===0&&(qs=null),c_(o.stateNode),dn(n,le()),i!==null)for(h=n.onRecoverableError,o=0;o<i.length;o++)f=i[o],h(f.value,{componentStack:f.stack,digest:f.digest});if(cd)throw cd=!1,n=yg,yg=null,n;return dd&1&&n.tag!==0&&Pa(),v=n.pendingLanes,v&1?n===Ag?Eu++:(Eu=0,Ag=n):Eu=0,Ws(),null}function Pa(){if(Ys!==null){var n=Kv(dd),i=jn.transition,o=Bt;try{if(jn.transition=null,Bt=16>n?16:n,Ys===null)var h=!1;else{if(n=Ys,Ys=null,dd=0,Nt&6)throw Error(e(331));var f=Nt;for(Nt|=4,et=n.current;et!==null;){var v=et,_=v.child;if(et.flags&16){var k=v.deletions;if(k!==null){for(var P=0;P<k.length;P++){var z=k[P];for(et=z;et!==null;){var W=et;switch(W.tag){case 0:case 11:case 15:wu(8,W,v)}var G=W.child;if(G!==null)G.return=W,et=G;else for(;et!==null;){W=et;var $=W.sibling,Z=W.return;if(X0(W),W===z){et=null;break}if($!==null){$.return=Z,et=$;break}et=Z}}}var nt=v.alternate;if(nt!==null){var it=nt.child;if(it!==null){nt.child=null;do{var ue=it.sibling;it.sibling=null,it=ue}while(it!==null)}}et=v}}if(v.subtreeFlags&2064&&_!==null)_.return=v,et=_;else t:for(;et!==null;){if(v=et,v.flags&2048)switch(v.tag){case 0:case 11:case 15:wu(9,v,v.return)}var I=v.sibling;if(I!==null){I.return=v.return,et=I;break t}et=v.return}}var L=n.current;for(et=L;et!==null;){_=et;var D=_.child;if(_.subtreeFlags&2064&&D!==null)D.return=_,et=D;else t:for(_=L;et!==null;){if(k=et,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:ad(9,k)}}catch(rt){oe(k,k.return,rt)}if(k===_){et=null;break t}var X=k.sibling;if(X!==null){X.return=k.return,et=X;break t}et=k.return}}if(Nt=f,Ws(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(wh,n)}catch{}h=!0}return h}finally{Bt=o,jn.transition=i}}return!1}function uA(n,i,o){i=xa(o,i),i=k0(n,i,1),n=Gs(n,i,1),i=Je(),n!==null&&(Xl(n,1,i),dn(n,i))}function oe(n,i,o){if(n.tag===3)uA(n,n,o);else for(;i!==null;){if(i.tag===3){uA(i,n,o);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(qs===null||!qs.has(h))){n=xa(o,n),n=T0(i,n,1),i=Gs(i,n,1),n=Je(),i!==null&&(Xl(i,1,n),dn(i,n));break}}i=i.return}}function OS(n,i,o){var h=n.pingCache;h!==null&&h.delete(i),i=Je(),n.pingedLanes|=n.suspendedLanes&o,xe===n&&(Fe&o)===o&&(ve===4||ve===3&&(Fe&130023424)===Fe&&500>le()-vg?Vr(n,0):mg|=o),dn(n,i)}function cA(n,i){i===0&&(n.mode&1?(i=Sh,Sh<<=1,!(Sh&130023424)&&(Sh=4194304)):i=1);var o=Je();n=Ki(n,i),n!==null&&(Xl(n,i,o),dn(n,o))}function zS(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),cA(n,o)}function HS(n,i){var o=0;switch(n.tag){case 13:var h=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(e(314))}h!==null&&h.delete(i),cA(n,o)}var hA;hA=function(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps||ln.current)cn=!0;else{if(!(n.lanes&o)&&!(i.flags&128))return cn=!1,xS(n,i,o);cn=!!(n.flags&131072)}else cn=!1,Zt&&i.flags&1048576&&Wy(i,Wh,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;rd(n,i),n=i.pendingProps;var f=ya(i,Be.current);ba(i,o),f=qp(null,i,h,n,f,o);var v=Yp();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,un(h)?(v=!0,jh(i)):v=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,jp(i),f.updater=id,i.stateNode=f,f._reactInternals=i,eg(i,h,n,o),i=rg(null,i,h,!0,v,o)):(i.tag=0,Zt&&v&&Lp(i),Ze(null,i,f,o),i=i.child),i;case 16:h=i.elementType;t:{switch(rd(n,i),n=i.pendingProps,f=h._init,h=f(h._payload),i.type=h,f=i.tag=jS(h),n=ni(h,n),f){case 0:i=sg(null,i,h,n,o);break t;case 1:i=O0(null,i,h,n,o);break t;case 11:i=M0(null,i,h,n,o);break t;case 14:i=I0(null,i,h,ni(h.type,n),o);break t}throw Error(e(306,h,""))}return i;case 0:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:ni(h,f),sg(n,i,h,f,o);case 1:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:ni(h,f),O0(n,i,h,f,o);case 3:t:{if(z0(i),n===null)throw Error(e(387));h=i.pendingProps,v=i.memoizedState,f=v.element,Jy(n,i),Kh(i,h,null,o);var _=i.memoizedState;if(h=_.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){f=xa(Error(e(423)),i),i=H0(n,i,h,o,f);break t}else if(h!==f){f=xa(Error(e(424)),i),i=H0(n,i,h,o,f);break t}else for(En=js(i.stateNode.containerInfo.firstChild),Sn=i,Zt=!0,ei=null,o=Qy(i,null,h,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(_a(),h===f){i=Zi(n,i,o);break t}Ze(n,i,h,o)}i=i.child}return i;case 5:return n0(i),n===null&&Fp(i),h=i.type,f=i.pendingProps,v=n!==null?n.memoizedProps:null,_=f.children,Cp(h,f)?_=null:v!==null&&Cp(h,v)&&(i.flags|=32),N0(n,i),Ze(n,i,_,o),i.child;case 6:return n===null&&Fp(i),null;case 13:return B0(n,i,o);case 4:return Up(i,i.stateNode.containerInfo),h=i.pendingProps,n===null?i.child=Sa(i,null,h,o):Ze(n,i,h,o),i.child;case 11:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:ni(h,f),M0(n,i,h,f,o);case 7:return Ze(n,i,i.pendingProps,o),i.child;case 8:return Ze(n,i,i.pendingProps.children,o),i.child;case 12:return Ze(n,i,i.pendingProps.children,o),i.child;case 10:t:{if(h=i.type._context,f=i.pendingProps,v=i.memoizedProps,_=f.value,Xt(Xh,h._currentValue),h._currentValue=_,v!==null)if(ti(v.value,_)){if(v.children===f.children&&!ln.current){i=Zi(n,i,o);break t}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var k=v.dependencies;if(k!==null){_=v.child;for(var P=k.firstContext;P!==null;){if(P.context===h){if(v.tag===1){P=Qi(-1,o&-o),P.tag=2;var z=v.updateQueue;if(z!==null){z=z.shared;var W=z.pending;W===null?P.next=P:(P.next=W.next,W.next=P),z.pending=P}}v.lanes|=o,P=v.alternate,P!==null&&(P.lanes|=o),Hp(v.return,o,i),k.lanes|=o;break}P=P.next}}else if(v.tag===10)_=v.type===i.type?null:v.child;else if(v.tag===18){if(_=v.return,_===null)throw Error(e(341));_.lanes|=o,k=_.alternate,k!==null&&(k.lanes|=o),Hp(_,o,i),_=v.sibling}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===i){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}Ze(n,i,f.children,o),i=i.child}return i;case 9:return f=i.type,h=i.pendingProps.children,ba(i,o),f=Hn(f),h=h(f),i.flags|=1,Ze(n,i,h,o),i.child;case 14:return h=i.type,f=ni(h,i.pendingProps),f=ni(h.type,f),I0(n,i,h,f,o);case 15:return F0(n,i,i.type,i.pendingProps,o);case 17:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:ni(h,f),rd(n,i),i.tag=1,un(h)?(n=!0,jh(i)):n=!1,ba(i,o),C0(i,h,f),eg(i,h,f,o),rg(null,i,h,!0,n,o);case 19:return U0(n,i,o);case 22:return D0(n,i,o)}throw Error(e(156,i.tag))};function dA(n,i){return Vv(n,i)}function BS(n,i,o,h){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(n,i,o,h){return new BS(n,i,o,h)}function Cg(n){return n=n.prototype,!(!n||!n.isReactComponent)}function jS(n){if(typeof n=="function")return Cg(n)?1:0;if(n!=null){if(n=n.$$typeof,n===xt)return 11;if(n===kt)return 14}return 2}function Zs(n,i){var o=n.alternate;return o===null?(o=Un(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function md(n,i,o,h,f,v){var _=2;if(h=n,typeof n=="function")Cg(n)&&(_=1);else if(typeof n=="string")_=5;else t:switch(n){case V:return Xr(o.children,f,v,i);case q:_=8,f|=8;break;case st:return n=Un(12,o,i,f|2),n.elementType=st,n.lanes=v,n;case vt:return n=Un(13,o,i,f),n.elementType=vt,n.lanes=v,n;case Et:return n=Un(19,o,i,f),n.elementType=Et,n.lanes=v,n;case J:return vd(o,f,v,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case pt:_=10;break t;case ut:_=9;break t;case xt:_=11;break t;case kt:_=14;break t;case Tt:_=16,h=null;break t}throw Error(e(130,n==null?n:typeof n,""))}return i=Un(_,o,i,f),i.elementType=n,i.type=h,i.lanes=v,i}function Xr(n,i,o,h){return n=Un(7,n,h,i),n.lanes=o,n}function vd(n,i,o,h){return n=Un(22,n,h,i),n.elementType=J,n.lanes=o,n.stateNode={isHidden:!1},n}function xg(n,i,o){return n=Un(6,n,null,i),n.lanes=o,n}function kg(n,i,o){return i=Un(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function US(n,i,o,h,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tp(0),this.expirationTimes=tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tp(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Tg(n,i,o,h,f,v,_,k,P){return n=new US(n,i,o,k,P),i===1?(i=1,v===!0&&(i|=8)):i=0,v=Un(3,null,null,i),n.current=v,v.stateNode=n,v.memoizedState={element:h,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},jp(v),n}function $S(n,i,o){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:h==null?null:""+h,children:n,containerInfo:i,implementation:o}}function fA(n){if(!n)return $s;n=n._reactInternals;t:{if(Dr(n)!==n||n.tag!==1)throw Error(e(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break t;case 1:if(un(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break t}}i=i.return}while(i!==null);throw Error(e(171))}if(n.tag===1){var o=n.type;if(un(o))return jy(n,o,i)}return i}function pA(n,i,o,h,f,v,_,k,P){return n=Tg(o,h,!0,n,f,v,_,k,P),n.context=fA(null),o=n.current,h=Je(),f=Ks(o),v=Qi(h,f),v.callback=i??null,Gs(o,v,f),n.current.lanes=f,Xl(n,f,h),dn(n,h),n}function yd(n,i,o,h){var f=i.current,v=Je(),_=Ks(f);return o=fA(o),i.context===null?i.context=o:i.pendingContext=o,i=Qi(v,_),i.payload={element:n},h=h===void 0?null:h,h!==null&&(i.callback=h),n=Gs(f,i,_),n!==null&&(ri(n,f,_,v),Yh(n,f,_)),_}function Ad(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function gA(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Rg(n,i){gA(n,i),(n=n.alternate)&&gA(n,i)}var mA=typeof reportError=="function"?reportError:function(n){console.error(n)};function Pg(n){this._internalRoot=n}wd.prototype.render=Pg.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(e(409));yd(n,i,null,null)},wd.prototype.unmount=Pg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Wr(function(){yd(null,n,null,null)}),i[Gi]=null}};function wd(n){this._internalRoot=n}wd.prototype.unstable_scheduleHydration=function(n){if(n){var i=Jv();n={blockedOn:null,target:n,priority:i};for(var o=0;o<zs.length&&i!==0&&i<zs[o].priority;o++);zs.splice(o,0,n),o===0&&ny(n)}};function Lg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function _d(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function vA(){}function WS(n,i,o,h,f){if(f){if(typeof h=="function"){var v=h;h=function(){var z=Ad(_);v.call(z)}}var _=pA(i,h,n,0,null,!1,!1,"",vA);return n._reactRootContainer=_,n[Gi]=_.current,au(n.nodeType===8?n.parentNode:n),Wr(),_}for(;f=n.lastChild;)n.removeChild(f);if(typeof h=="function"){var k=h;h=function(){var z=Ad(P);k.call(z)}}var P=Tg(n,0,!1,null,null,!1,!1,"",vA);return n._reactRootContainer=P,n[Gi]=P.current,au(n.nodeType===8?n.parentNode:n),Wr(function(){yd(i,P,o,h)}),P}function Sd(n,i,o,h,f){var v=o._reactRootContainer;if(v){var _=v;if(typeof f=="function"){var k=f;f=function(){var P=Ad(_);k.call(P)}}yd(i,_,n,f)}else _=WS(o,i,n,f,h);return Ad(_)}Qv=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var o=Gl(i.pendingLanes);o!==0&&(ep(i,o|1),dn(i,le()),!(Nt&6)&&(Ra=le()+500,Ws()))}break;case 13:Wr(function(){var h=Ki(n,1);if(h!==null){var f=Je();ri(h,n,1,f)}}),Rg(n,1)}},np=function(n){if(n.tag===13){var i=Ki(n,134217728);if(i!==null){var o=Je();ri(i,n,134217728,o)}Rg(n,134217728)}},Zv=function(n){if(n.tag===13){var i=Ks(n),o=Ki(n,i);if(o!==null){var h=Je();ri(o,n,i,h)}Rg(n,i)}},Jv=function(){return Bt},ty=function(n,i){var o=Bt;try{return Bt=n,i()}finally{Bt=o}},qf=function(n,i,o){switch(i){case"input":if(Bf(n,o),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var h=o[i];if(h!==n&&h.form===n.form){var f=Hh(h);if(!f)throw Error(e(90));bv(h),Bf(h,f)}}}break;case"textarea":Rv(n,o);break;case"select":i=o.value,i!=null&&oa(n,!!o.multiple,i,!1)}},zv=Sg,Hv=Wr;var VS={usingClientEntryPoint:!1,Events:[cu,ma,Hh,Nv,Ov,Sg]},bu={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GS={bundleType:bu.bundleType,version:bu.version,rendererPackageName:bu.rendererPackageName,rendererConfig:bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=$v(n),n===null?null:n.stateNode},findFiberByHostInstance:bu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ed.isDisabled&&Ed.supportsFiber)try{wh=Ed.inject(GS),Si=Ed}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VS,fn.createPortal=function(n,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lg(i))throw Error(e(200));return $S(n,i,null,o)},fn.createRoot=function(n,i){if(!Lg(n))throw Error(e(299));var o=!1,h="",f=mA;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Tg(n,1,!1,null,null,o,!1,h,f),n[Gi]=i.current,au(n.nodeType===8?n.parentNode:n),new Pg(i)},fn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(e(188)):(n=Object.keys(n).join(","),Error(e(268,n)));return n=$v(i),n=n===null?null:n.stateNode,n},fn.flushSync=function(n){return Wr(n)},fn.hydrate=function(n,i,o){if(!_d(i))throw Error(e(200));return Sd(null,n,i,!0,o)},fn.hydrateRoot=function(n,i,o){if(!Lg(n))throw Error(e(405));var h=o!=null&&o.hydratedSources||null,f=!1,v="",_=mA;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),i=pA(i,null,n,1,o??null,f,!1,v,_),n[Gi]=i.current,au(n),h)for(n=0;n<h.length;n++)o=h[n],f=o._getVersion,f=f(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,f]:i.mutableSourceEagerHydrationData.push(o,f);return new wd(i)},fn.render=function(n,i,o){if(!_d(i))throw Error(e(200));return Sd(null,n,i,!1,o)},fn.unmountComponentAtNode=function(n){if(!_d(n))throw Error(e(40));return n._reactRootContainer?(Wr(function(){Sd(null,null,n,!1,function(){n._reactRootContainer=null,n[Gi]=null})}),!0):!1},fn.unstable_batchedUpdates=Sg,fn.unstable_renderSubtreeIntoContainer=function(n,i,o,h){if(!_d(o))throw Error(e(200));if(n==null||n._reactInternals===void 0)throw Error(e(38));return Sd(n,i,o,!1,h)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var xA;function nE(){if(xA)return Dg.exports;xA=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(t){console.error(t)}}return m(),Dg.exports=eE(),Dg.exports}var kA;function iE(){if(kA)return bd;kA=1;var m=nE();return bd.createRoot=m.createRoot,bd.hydrateRoot=m.hydrateRoot,bd}var sE=iE();const rE="modulepreload",oE=function(m){return"/"+m},TA={},Cd=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=Promise.allSettled(e.map(d=>{if(d=oE(d),d in TA)return;TA[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":rE,p||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((A,E)=>{y.addEventListener("load",A),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return r.then(u=>{for(const c of u||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};var Vu={};Vu.d=(m,t)=>{for(var e in t)Vu.o(t,e)&&!Vu.o(m,e)&&Object.defineProperty(m,e,{enumerable:!0,get:t[e]})};Vu.o=(m,t)=>Object.prototype.hasOwnProperty.call(m,t);var _t=globalThis.pdfjsLib={};Vu.d(_t,{AbortException:()=>sa,AnnotationEditorLayer:()=>tv,AnnotationEditorParamsType:()=>At,AnnotationEditorType:()=>bt,AnnotationEditorUIManager:()=>Jo,AnnotationLayer:()=>sC,AnnotationMode:()=>nr,ColorPicker:()=>df,DOMSVGFactory:()=>Av,DrawLayer:()=>sv,FeatureTest:()=>rn,GlobalWorkerOptions:()=>Rs,ImageKind:()=>Md,InvalidPDFException:()=>KA,MissingPDFException:()=>ia,OPS:()=>ai,OutputScale:()=>qg,PDFDataRangeTransport:()=>Gw,PDFDateString:()=>dv,PDFWorker:()=>ja,PasswordResponses:()=>cE,PermissionFlag:()=>uE,PixelsPerInch:()=>Pr,RenderingCancelledException:()=>cv,TextLayer:()=>qu,UnexpectedResponseException:()=>Ff,Util:()=>lt,VerbosityLevel:()=>Lf,XfaLayer:()=>qw,build:()=>zb,createValidAbsoluteUrl:()=>pE,fetchData:()=>Nf,getDocument:()=>Rb,getFilenameFromUrl:()=>EE,getPdfFilenameFromUrl:()=>bE,getXfaPageViewport:()=>CE,isDataScheme:()=>Of,isPdfFile:()=>hv,noContextMenu:()=>Zn,normalizeUnicode:()=>wE,setLayerDimensions:()=>Zo,shadow:()=>Dt,version:()=>Ob});const Ke=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),YA=[1,0,0,1,0,0],Wg=[.001,0,0,.001,0,0],aE=1e7,zg=1.35,Fn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},nr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},lE="pdfjs_internal_editor_",bt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},At={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},uE={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},We={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Md={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ye={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},xu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Lf={ERRORS:0,WARNINGS:1,INFOS:5},ai={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},cE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Mf=Lf.WARNINGS;function hE(m){Number.isInteger(m)&&(Mf=m)}function dE(){return Mf}function If(m){Mf>=Lf.INFOS&&console.log(`Info: ${m}`)}function Rt(m){Mf>=Lf.WARNINGS&&console.log(`Warning: ${m}`)}function Qt(m){throw new Error(m)}function Ee(m,t){m||Qt(t)}function fE(m){switch(m==null?void 0:m.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function pE(m,t=null,e=null){if(!m)return null;try{if(e&&typeof m=="string"){if(e.addDefaultProtocol&&m.startsWith("www.")){const r=m.match(/\./g);(r==null?void 0:r.length)>=2&&(m=`http://${m}`)}if(e.tryConvertEncoding)try{m=AE(m)}catch{}}const s=t?new URL(m,t):new URL(m);if(fE(s))return s}catch{}return null}function Dt(m,t,e,s=!1){return Object.defineProperty(m,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Fr=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class Vg extends Fr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Gg extends Fr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class KA extends Fr{constructor(t){super(t,"InvalidPDFException")}}class ia extends Fr{constructor(t){super(t,"MissingPDFException")}}class Ff extends Fr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class gE extends Fr{constructor(t){super(t,"FormatError")}}class sa extends Fr{constructor(t){super(t,"AbortException")}}function QA(m){(typeof m!="object"||(m==null?void 0:m.length)===void 0)&&Qt("Invalid argument for bytesToString");const t=m.length,e=8192;if(t<e)return String.fromCharCode.apply(null,m);const s=[];for(let r=0;r<t;r+=e){const a=Math.min(r+e,t),u=m.subarray(r,a);s.push(String.fromCharCode.apply(null,u))}return s.join("")}function Df(m){typeof m!="string"&&Qt("Invalid argument for stringToBytes");const t=m.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=m.charCodeAt(s)&255;return e}function mE(m){return String.fromCharCode(m>>24&255,m>>16&255,m>>8&255,m&255)}function lv(m){const t=Object.create(null);for(const[e,s]of m)t[e]=s;return t}function vE(){const m=new Uint8Array(4);return m[0]=1,new Uint32Array(m.buffer,0,1)[0]===1}function yE(){try{return new Function(""),!0}catch{return!1}}class rn{static get isLittleEndian(){return Dt(this,"isLittleEndian",vE())}static get isEvalSupported(){return Dt(this,"isEvalSupported",yE())}static get isOffscreenCanvasSupported(){return Dt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Dt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Dt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Dt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Hg=Array.from(Array(256).keys(),m=>m.toString(16).padStart(2,"0"));var Ls,Id,Xg;class lt{static makeHexColor(t,e,s){return`#${Hg[t]}${Hg[e]}${Hg[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[s,r]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,a=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[r,a]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),a=this.applyTransform([t[0],t[3]],e),u=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],r[0],a[0],u[0]),Math.min(s[1],r[1],a[1],u[1]),Math.max(s[0],r[0],a[0],u[0]),Math.max(s[1],r[1],a[1],u[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],a=t[2]*e[0]+t[3]*e[2],u=t[2]*e[1]+t[3]*e[3],c=(s+u)/2,d=Math.sqrt((s+u)**2-4*(s*u-a*r))/2,p=c+d||1,g=c-d||1;return[Math.sqrt(p),Math.sqrt(g)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>r)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>u?null:[s,a,r,u]}static bezierBoundingBox(t,e,s,r,a,u,c,d,p){return p?(p[0]=Math.min(p[0],t,c),p[1]=Math.min(p[1],e,d),p[2]=Math.max(p[2],t,c),p[3]=Math.max(p[3],e,d)):p=[Math.min(t,c),Math.min(e,d),Math.max(t,c),Math.max(e,d)],S(this,Ls,Xg).call(this,t,s,a,c,e,r,u,d,3*(-t+3*(s-a)+c),6*(t-2*s+a),3*(s-t),p),S(this,Ls,Xg).call(this,t,s,a,c,e,r,u,d,3*(-e+3*(r-u)+d),6*(e-2*r+u),3*(r-e),p),p}}Ls=new WeakSet,Id=function(t,e,s,r,a,u,c,d,p,g){if(p<=0||p>=1)return;const y=1-p,A=p*p,E=A*p,C=y*(y*(y*t+3*p*e)+3*A*s)+E*r,x=y*(y*(y*a+3*p*u)+3*A*c)+E*d;g[0]=Math.min(g[0],C),g[1]=Math.min(g[1],x),g[2]=Math.max(g[2],C),g[3]=Math.max(g[3],x)},Xg=function(t,e,s,r,a,u,c,d,p,g,y,A){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&S(this,Ls,Id).call(this,t,e,s,r,a,u,c,d,-y/g,A);return}const E=g**2-4*y*p;if(E<0)return;const C=Math.sqrt(E),x=2*p;S(this,Ls,Id).call(this,t,e,s,r,a,u,c,d,(-g+C)/x,A),S(this,Ls,Id).call(this,t,e,s,r,a,u,c,d,(-g-C)/x,A)},b(lt,Ls);function AE(m){return decodeURIComponent(escape(m))}let Bg=null,RA=null;function wE(m){return Bg||(Bg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,RA=new Map([["","t"]])),m.replaceAll(Bg,(t,e,s)=>e?e.normalize("NFKC"):RA.get(s))}function _E(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const m=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(m);else for(let t=0;t<32;t++)m[t]=Math.floor(Math.random()*255);return QA(m)}const uv="pdfjs_internal_id_",ts={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function SE(m){return Uint8Array.prototype.toBase64?m.toBase64():btoa(QA(m))}const ns="http://www.w3.org/2000/svg",Zr=class Zr{};yt(Zr,"CSS",96),yt(Zr,"PDF",72),yt(Zr,"PDF_TO_CSS_UNITS",Zr.CSS/Zr.PDF);let Pr=Zr;async function Nf(m,t="text"){if(Ru(m,document.baseURI)){const e=await fetch(m);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const r=new XMLHttpRequest;r.open("GET",m,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class hh{constructor({viewBox:t,scale:e,rotation:s,offsetX:r=0,offsetY:a=0,dontFlip:u=!1}){this.viewBox=t,this.scale=e,this.rotation=s,this.offsetX=r,this.offsetY=a;const c=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let p,g,y,A;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,g=0,y=0,A=1;break;case 90:p=0,g=1,y=1,A=0;break;case 270:p=0,g=-1,y=-1,A=0;break;case 0:p=1,g=0,y=0,A=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(y=-y,A=-A);let E,C,x,R;p===0?(E=Math.abs(d-t[1])*e+r,C=Math.abs(c-t[0])*e+a,x=(t[3]-t[1])*e,R=(t[2]-t[0])*e):(E=Math.abs(c-t[0])*e+r,C=Math.abs(d-t[1])*e+a,x=(t[2]-t[0])*e,R=(t[3]-t[1])*e),this.transform=[p*e,g*e,y*e,A*e,E-p*e*c-y*e*d,C-g*e*c-A*e*d],this.width=x,this.height=R}get rawDims(){const{viewBox:t}=this;return Dt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:a=!1}={}){return new hh({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:a})}convertToViewportPoint(t,e){return lt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=lt.applyTransform([t[0],t[1]],this.transform),s=lt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return lt.applyInverseTransform([t,e],this.transform)}}class cv extends Fr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Of(m){const t=m.length;let e=0;for(;e<t&&m[e].trim()==="";)e++;return m.substring(e,e+5).toLowerCase()==="data:"}function hv(m){return typeof m=="string"&&/\.pdf$/i.test(m)}function EE(m){return[m]=m.split(/[#?]/,1),m.substring(m.lastIndexOf("/")+1)}function bE(m,t="document.pdf"){if(typeof m!="string")return t;if(Of(m))return Rt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(m);let a=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(a&&(a=a[0],a.includes("%")))try{a=s.exec(decodeURIComponent(a))[0]}catch{}return a||t}class PA{constructor(){yt(this,"started",Object.create(null));yt(this,"times",[])}time(t){t in this.started&&Rt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Rt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:r,end:a}of this.times)t.push(`${s.padEnd(e)} ${a-r}ms
`);return t.join("")}}function Ru(m,t){try{const{protocol:e}=t?new URL(m,t):new URL(m);return e==="http:"||e==="https:"}catch{return!1}}function Zn(m){m.preventDefault()}function LA(m){console.log("Deprecated API usage: "+m)}var Ku;class dv{static toDateObject(t){if(!t||typeof t!="string")return null;l(this,Ku)||w(this,Ku,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=l(this,Ku).exec(t);if(!e)return null;const s=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const p=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(u+=g,c+=y):p==="+"&&(u-=g,c-=y),new Date(Date.UTC(s,r,a,u,c,d))}}Ku=new WeakMap,b(dv,Ku);function CE(m,{scale:t=1,rotation:e=0}){const{width:s,height:r}=m.attributes.style,a=[0,0,parseInt(s),parseInt(r)];return new hh({viewBox:a,scale:t,rotation:e})}function fv(m){if(m.startsWith("#")){const t=parseInt(m.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return m.startsWith("rgb(")?m.slice(4,-1).split(",").map(t=>parseInt(t)):m.startsWith("rgba(")?m.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Rt(`Not a valid color format: "${m}"`),[0,0,0])}function xE(m){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of m.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;m.set(e,fv(s))}t.remove()}function re(m){const{a:t,b:e,c:s,d:r,e:a,f:u}=m.getTransform();return[t,e,s,r,a,u]}function es(m){const{a:t,b:e,c:s,d:r,e:a,f:u}=m.getTransform().invertSelf();return[t,e,s,r,a,u]}function Zo(m,t,e=!1,s=!0){if(t instanceof hh){const{pageWidth:r,pageHeight:a}=t.rawDims,{style:u}=m,c=rn.isCSSRoundSupported,d=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${a}px`,g=c?`round(down, ${d}, var(--scale-round-x, 1px))`:`calc(${d})`,y=c?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!e||t.rotation%180===0?(u.width=g,u.height=y):(u.width=y,u.height=g)}s&&m.setAttribute("data-main-rotation",t.rotation)}class qg{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var ir,to,li,eo,Qu,Zu,pf,ZA,on,JA,tw,Fd,ew,Kg;const is=class is{constructor(t){b(this,on);b(this,ir,null);b(this,to,null);b(this,li);b(this,eo,null);b(this,Qu,null);w(this,li,t),l(is,Zu)||w(is,Zu,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=w(this,ir,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=l(this,li)._uiManager._signal;t.addEventListener("contextmenu",Zn,{signal:e}),t.addEventListener("pointerdown",S(is,pf,ZA),{signal:e});const s=w(this,eo,document.createElement("div"));s.className="buttons",t.append(s);const r=l(this,li).toolbarPosition;if(r){const{style:a}=t,u=l(this,li)._uiManager.direction==="ltr"?1-r[0]:r[0];a.insetInlineEnd=`${100*u}%`,a.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return S(this,on,ew).call(this),t}get div(){return l(this,ir)}hide(){var t;l(this,ir).classList.add("hidden"),(t=l(this,to))==null||t.hideDropdown()}show(){var t;l(this,ir).classList.remove("hidden"),(t=l(this,Qu))==null||t.shown()}async addAltText(t){const e=await t.render();S(this,on,Fd).call(this,e),l(this,eo).prepend(e,l(this,on,Kg)),w(this,Qu,t)}addColorPicker(t){w(this,to,t);const e=t.renderButton();S(this,on,Fd).call(this,e),l(this,eo).prepend(e,l(this,on,Kg))}remove(){var t;l(this,ir).remove(),(t=l(this,to))==null||t.destroy(),w(this,to,null)}};ir=new WeakMap,to=new WeakMap,li=new WeakMap,eo=new WeakMap,Qu=new WeakMap,Zu=new WeakMap,pf=new WeakSet,ZA=function(t){t.stopPropagation()},on=new WeakSet,JA=function(t){l(this,li)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},tw=function(t){l(this,li)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Fd=function(t){const e=l(this,li)._uiManager._signal;t.addEventListener("focusin",S(this,on,JA).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",S(this,on,tw).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Zn,{signal:e})},ew=function(){const{editorType:t,_uiManager:e}=l(this,li),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",l(is,Zu)[t]),S(this,on,Fd).call(this,s),s.addEventListener("click",r=>{e.delete()},{signal:e._signal}),l(this,eo).append(s)},Kg=function(){const t=document.createElement("div");return t.className="divider",t},b(is,pf),b(is,Zu,null);let Yg=is;var Ju,no,io,Mr,nw,iw,sw;class kE{constructor(t){b(this,Mr);b(this,Ju,null);b(this,no,null);b(this,io);w(this,io,t)}show(t,e,s){const[r,a]=S(this,Mr,iw).call(this,e,s),{style:u}=l(this,no)||w(this,no,S(this,Mr,nw).call(this));t.append(l(this,no)),u.insetInlineEnd=`${100*r}%`,u.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,no).remove()}}Ju=new WeakMap,no=new WeakMap,io=new WeakMap,Mr=new WeakSet,nw=function(){const t=w(this,no,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Zn,{signal:l(this,io)._signal});const e=w(this,Ju,document.createElement("div"));return e.className="buttons",t.append(e),S(this,Mr,sw).call(this),t},iw=function(t,e){let s=0,r=0;for(const a of t){const u=a.y+a.height;if(u<s)continue;const c=a.x+(e?a.width:0);if(u>s){r=c,s=u;continue}e?c>r&&(r=c):c<r&&(r=c)}return[e?1-r:r,s]},sw=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=l(this,io)._signal;t.addEventListener("contextmenu",Zn,{signal:s}),t.addEventListener("click",()=>{l(this,io).highlightSelection("floating_button")},{signal:s}),l(this,Ju).append(t)};function uf(m,t,e){for(const s of e)t.addEventListener(s,m[s].bind(m))}function TE(m){return Math.round(Math.min(255,Math.max(1,255*m))).toString(16).padStart(2,"0")}var gf;class RE{constructor(){b(this,gf,0)}get id(){return`${lE}${tn(this,gf)._++}`}}gf=new WeakMap;var Ua,tc,Ge,$a,Dd;const _v=class _v{constructor(){b(this,$a);b(this,Ua,_E());b(this,tc,0);b(this,Ge,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const a=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Dt(this,"_isSVGFittingCanvas",a)}async getFromFile(t){const{lastModified:e,name:s,size:r,type:a}=t;return S(this,$a,Dd).call(this,`${e}_${s}_${r}_${a}`,t)}async getFromUrl(t){return S(this,$a,Dd).call(this,t,t)}async getFromBlob(t,e){const s=await e;return S(this,$a,Dd).call(this,t,s)}async getFromId(t){l(this,Ge)||w(this,Ge,new Map);const e=l(this,Ge).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){l(this,Ge)||w(this,Ge,new Map);let s=l(this,Ge).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${l(this,Ua)}_${tn(this,tc)._++}`,refCounter:1,isSvg:!1},l(this,Ge).set(t,s),l(this,Ge).set(s.id,s),s}getSvgUrl(t){const e=l(this,Ge).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;l(this,Ge)||w(this,Ge,new Map);const e=l(this,Ge).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(s.width,s.height);a.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=a.convertToBlob()}(r=s.close)==null||r.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${l(this,Ua)}_`)}};Ua=new WeakMap,tc=new WeakMap,Ge=new WeakMap,$a=new WeakSet,Dd=async function(t,e){l(this,Ge)||w(this,Ge,new Map);let s=l(this,Ge).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${l(this,Ua)}_${tn(this,tc)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(s.url=e,r=await Nf(e,"blob")):e instanceof File?r=s.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const a=_v._isSVGFittingCanvas,u=new FileReader,c=new Image,d=new Promise((p,g)=>{c.onload=()=>{s.bitmap=c,s.isSvg=!0,p()},u.onload=async()=>{const y=s.svgUrl=u.result;c.src=await a?`${y}#svgView(preserveAspectRatio(none))`:y},c.onerror=u.onerror=g});u.readAsDataURL(r),await d}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return l(this,Ge).set(t,s),s&&l(this,Ge).set(s.id,s),s};let Qg=_v;var Te,sr,ec,Re;class PE{constructor(t=128){b(this,Te,[]);b(this,sr,!1);b(this,ec);b(this,Re,-1);w(this,ec,t)}add({cmd:t,undo:e,post:s,mustExec:r,type:a=NaN,overwriteIfSameType:u=!1,keepUndo:c=!1}){if(r&&t(),l(this,sr))return;const d={cmd:t,undo:e,post:s,type:a};if(l(this,Re)===-1){l(this,Te).length>0&&(l(this,Te).length=0),w(this,Re,0),l(this,Te).push(d);return}if(u&&l(this,Te)[l(this,Re)].type===a){c&&(d.undo=l(this,Te)[l(this,Re)].undo),l(this,Te)[l(this,Re)]=d;return}const p=l(this,Re)+1;p===l(this,ec)?l(this,Te).splice(0,1):(w(this,Re,p),p<l(this,Te).length&&l(this,Te).splice(p)),l(this,Te).push(d)}undo(){if(l(this,Re)===-1)return;w(this,sr,!0);const{undo:t,post:e}=l(this,Te)[l(this,Re)];t(),e==null||e(),w(this,sr,!1),w(this,Re,l(this,Re)-1)}redo(){if(l(this,Re)<l(this,Te).length-1){w(this,Re,l(this,Re)+1),w(this,sr,!0);const{cmd:t,post:e}=l(this,Te)[l(this,Re)];t(),e==null||e(),w(this,sr,!1)}}hasSomethingToUndo(){return l(this,Re)!==-1}hasSomethingToRedo(){return l(this,Re)<l(this,Te).length-1}destroy(){w(this,Te,null)}}Te=new WeakMap,sr=new WeakMap,ec=new WeakMap,Re=new WeakMap;var mf,rw;class dh{constructor(t){b(this,mf);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=rn.platform;for(const[s,r,a={}]of t)for(const u of s){const c=u.startsWith("mac+");e&&c?(this.callbacks.set(u.slice(4),{callback:r,options:a}),this.allKeys.add(u.split("+").at(-1))):!e&&!c&&(this.callbacks.set(u,{callback:r,options:a}),this.allKeys.add(u.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(S(this,mf,rw).call(this,e));if(!s)return;const{callback:r,options:{bubbles:a=!1,args:u=[],checker:c=null}}=s;c&&!c(t,e)||(r.bind(t,...u,e)(),a||(e.stopPropagation(),e.preventDefault()))}}mf=new WeakSet,rw=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const vf=class vf{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return xE(t),Dt(this,"_colors",t)}convert(t){const e=fv(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,r]of this._colors)if(r.every((a,u)=>a===e[u]))return vf._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?lt.makeHexColor(...e):t}};yt(vf,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Zg=vf;var Wa,xn,we,Ne,Va,rs,Ga,ui,rr,Xa,so,Ti,ci,ro,nc,ic,qa,sc,Ri,or,Ya,ar,Pi,yf,lr,rc,ur,oo,oc,ac,Pe,jt,os,ao,lc,uc,cr,Li,as,cc,Wn,K,Nd,Jg,ow,aw,Od,lw,uw,cw,tm,hw,em,nm,dw,en,tr,fw,pw,im,gw,Pu,sm;const Ha=class Ha{constructor(t,e,s,r,a,u,c,d,p,g,y){b(this,K);b(this,Wa,new AbortController);b(this,xn,null);b(this,we,new Map);b(this,Ne,new Map);b(this,Va,null);b(this,rs,null);b(this,Ga,null);b(this,ui,new PE);b(this,rr,null);b(this,Xa,0);b(this,so,new Set);b(this,Ti,null);b(this,ci,null);b(this,ro,new Set);b(this,nc,!1);b(this,ic,!1);b(this,qa,!1);b(this,sc,null);b(this,Ri,null);b(this,or,null);b(this,Ya,null);b(this,ar,!1);b(this,Pi,null);b(this,yf,new RE);b(this,lr,!1);b(this,rc,!1);b(this,ur,null);b(this,oo,null);b(this,oc,null);b(this,ac,null);b(this,Pe,bt.NONE);b(this,jt,new Set);b(this,os,null);b(this,ao,null);b(this,lc,null);b(this,uc,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});b(this,cr,[0,0]);b(this,Li,null);b(this,as,null);b(this,cc,null);b(this,Wn,null);const A=this._signal=l(this,Wa).signal;w(this,as,t),w(this,cc,e),w(this,Va,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:A}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),r._on("setpreference",this.onSetPreference.bind(this),{signal:A}),r._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:A}),S(this,K,lw).call(this),S(this,K,dw).call(this),S(this,K,tm).call(this),w(this,rs,a.annotationStorage),w(this,sc,a.filterFactory),w(this,ao,u),w(this,Ya,c||null),w(this,nc,d),w(this,ic,p),w(this,qa,g),w(this,ac,y||null),this.viewParameters={realScale:Pr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Ha.prototype,e=u=>l(u,as).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),s=(u,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Dt(this,"_keyboardManager",new dh([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:c})=>!(c instanceof HTMLButtonElement)&&l(u,as).contains(c)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:c})=>!(c instanceof HTMLButtonElement)&&l(u,as).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}destroy(){var t,e,s,r;(t=l(this,Wn))==null||t.resolve(),w(this,Wn,null),(e=l(this,Wa))==null||e.abort(),w(this,Wa,null),this._signal=null;for(const a of l(this,Ne).values())a.destroy();l(this,Ne).clear(),l(this,we).clear(),l(this,ro).clear(),w(this,xn,null),l(this,jt).clear(),l(this,ui).destroy(),(s=l(this,Va))==null||s.destroy(),(r=l(this,Pi))==null||r.hide(),w(this,Pi,null),l(this,Ri)&&(clearTimeout(l(this,Ri)),w(this,Ri,null)),l(this,Li)&&(clearTimeout(l(this,Li)),w(this,Li,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return l(this,ac)}get useNewAltTextFlow(){return l(this,ic)}get useNewAltTextWhenAddingImage(){return l(this,qa)}get hcmFilter(){return Dt(this,"hcmFilter",l(this,ao)?l(this,sc).addHCMFilter(l(this,ao).foreground,l(this,ao).background):"none")}get direction(){return Dt(this,"direction",getComputedStyle(l(this,as)).direction)}get highlightColors(){return Dt(this,"highlightColors",l(this,Ya)?new Map(l(this,Ya).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Dt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){w(this,oc,t)}editAltText(t,e=!1){var s;(s=l(this,Va))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":w(this,qa,e);break}}onPageChanging({pageNumber:t}){w(this,Xa,t-1)}focusMainContainer(){l(this,as).focus()}findParent(t,e){for(const s of l(this,Ne).values()){const{x:r,y:a,width:u,height:c}=s.div.getBoundingClientRect();if(t>=r&&t<=r+u&&e>=a&&e<=a+c)return s}return null}disableUserSelect(t=!1){l(this,cc).classList.toggle("noUserSelect",t)}addShouldRescale(t){l(this,ro).add(t)}removeShouldRescale(t){l(this,ro).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Pr.PDF_TO_CSS_UNITS;for(const e of l(this,ro))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:a,focusOffset:u}=e,c=e.toString(),p=S(this,K,Nd).call(this,e).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;e.empty();const y=S(this,K,Jg).call(this,p),A=l(this,Pe)===bt.NONE,E=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:s,anchorOffset:r,focusNode:a,focusOffset:u,text:c}),A&&this.showAllEditors("highlight",!0,!0)};if(A){this.switchToMode(bt.HIGHLIGHT,E);return}E()}addToAnnotationStorage(t){!t.isEmpty()&&l(this,rs)&&!l(this,rs).has(t.id)&&l(this,rs).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,l(this,ar)&&(w(this,ar,!1),S(this,K,Od).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of l(this,jt))if(e.div.contains(t)){w(this,oo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!l(this,oo))return;const[t,e]=l(this,oo);w(this,oo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){S(this,K,tm).call(this),S(this,K,em).call(this)}removeEditListeners(){S(this,K,hw).call(this),S(this,K,nm).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of l(this,ci))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of l(this,ci))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=l(this,xn))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of l(this,jt)){const a=r.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const u of l(this,ci))if(u.isHandlingMimeForPasting(a.type)){u.paste(a,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(a){Rt(`paste: "${a.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const a=[];for(const d of s){const p=await r.deserialize(d);if(!p)return;a.push(p)}const u=()=>{for(const d of a)S(this,K,im).call(this,d);S(this,K,sm).call(this,a)},c=()=>{for(const d of a)d.remove()};this.addCommands({cmd:u,undo:c,mustExec:!0})}catch(a){Rt(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,Pe)!==bt.NONE&&!this.isEditorHandlingKeyboard&&Ha._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,ar)&&(w(this,ar,!1),S(this,K,Od).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(S(this,K,uw).call(this),S(this,K,em).call(this),S(this,K,en).call(this,{isEditing:l(this,Pe)!==bt.NONE,isEmpty:S(this,K,Pu).call(this),hasSomethingToUndo:l(this,ui).hasSomethingToUndo(),hasSomethingToRedo:l(this,ui).hasSomethingToRedo(),hasSelectedEditor:!1})):(S(this,K,cw).call(this),S(this,K,nm).call(this),S(this,K,en).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!l(this,ci)){w(this,ci,t);for(const e of l(this,ci))S(this,K,tr).call(this,e.defaultPropertiesToUpdate)}}getId(){return l(this,yf).id}get currentLayer(){return l(this,Ne).get(l(this,Xa))}getLayer(t){return l(this,Ne).get(t)}get currentPageIndex(){return l(this,Xa)}addLayer(t){l(this,Ne).set(t.pageIndex,t),l(this,lr)?t.enable():t.disable()}removeLayer(t){l(this,Ne).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(l(this,Pe)!==t&&!(l(this,Wn)&&(await l(this,Wn).promise,!l(this,Wn)))){if(w(this,Wn,Promise.withResolvers()),w(this,Pe,t),t===bt.NONE){this.setEditingState(!1),S(this,K,pw).call(this),l(this,Wn).resolve();return}this.setEditingState(!0),await S(this,K,fw).call(this),this.unselectAll();for(const r of l(this,Ne).values())r.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),l(this,Wn).resolve();return}for(const r of l(this,we).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();l(this,Wn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==l(this,Pe)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(l(this,ci)){switch(t){case At.CREATE:this.currentLayer.addNewEditor();return;case At.HIGHLIGHT_DEFAULT_COLOR:(s=l(this,oc))==null||s.updateColor(e);break;case At.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,lc)||w(this,lc,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of l(this,jt))r.updateParams(t,e);for(const r of l(this,ci))r.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var a;for(const u of l(this,we).values())u.editorType===t&&u.show(e);(((a=l(this,lc))==null?void 0:a.get(At.HIGHLIGHT_SHOW_ALL))??!0)!==e&&S(this,K,tr).call(this,[[At.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(l(this,rc)!==t){w(this,rc,t);for(const e of l(this,Ne).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of l(this,we).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return l(this,we).get(t)}addEditor(t){l(this,we).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(l(this,Ri)&&clearTimeout(l(this,Ri)),w(this,Ri,setTimeout(()=>{this.focusMainContainer(),w(this,Ri,null)},0))),l(this,we).delete(t.id),this.unselect(t),(!t.annotationElementId||!l(this,so).has(t.annotationElementId))&&((e=l(this,rs))==null||e.remove(t.id))}addDeletedAnnotationElement(t){l(this,so).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return l(this,so).has(t)}removeDeletedAnnotationElement(t){l(this,so).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){l(this,xn)!==t&&(w(this,xn,t),t&&S(this,K,tr).call(this,t.propertiesToUpdate))}updateUI(t){l(this,K,gw)===t&&S(this,K,tr).call(this,t.propertiesToUpdate)}toggleSelected(t){if(l(this,jt).has(t)){l(this,jt).delete(t),t.unselect(),S(this,K,en).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,jt).add(t),t.select(),S(this,K,tr).call(this,t.propertiesToUpdate),S(this,K,en).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of l(this,jt))e!==t&&e.unselect();l(this,jt).clear(),l(this,jt).add(t),t.select(),S(this,K,tr).call(this,t.propertiesToUpdate),S(this,K,en).call(this,{hasSelectedEditor:!0})}isSelected(t){return l(this,jt).has(t)}get firstSelectedEditor(){return l(this,jt).values().next().value}unselect(t){t.unselect(),l(this,jt).delete(t),S(this,K,en).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,jt).size!==0}get isEnterHandled(){return l(this,jt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){l(this,ui).undo(),S(this,K,en).call(this,{hasSomethingToUndo:l(this,ui).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:S(this,K,Pu).call(this)})}redo(){l(this,ui).redo(),S(this,K,en).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,ui).hasSomethingToRedo(),isEmpty:S(this,K,Pu).call(this)})}addCommands(t){l(this,ui).add(t),S(this,K,en).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:S(this,K,Pu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...l(this,jt)],e=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)S(this,K,im).call(this,r)};this.addCommands({cmd:e,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=l(this,xn))==null||t.commitOrRemove()}hasSomethingToControl(){return l(this,xn)||this.hasSelection}selectAll(){for(const t of l(this,jt))t.commit();S(this,K,sm).call(this,l(this,we).values())}unselectAll(){if(!(l(this,xn)&&(l(this,xn).commitOrRemove(),l(this,Pe)!==bt.NONE))&&this.hasSelection){for(const t of l(this,jt))t.unselect();l(this,jt).clear(),S(this,K,en).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;l(this,cr)[0]+=t,l(this,cr)[1]+=e;const[r,a]=l(this,cr),u=[...l(this,jt)],c=1e3;l(this,Li)&&clearTimeout(l(this,Li)),w(this,Li,setTimeout(()=>{w(this,Li,null),l(this,cr)[0]=l(this,cr)[1]=0,this.addCommands({cmd:()=>{for(const d of u)l(this,we).has(d.id)&&d.translateInPage(r,a)},undo:()=>{for(const d of u)l(this,we).has(d.id)&&d.translateInPage(-r,-a)},mustExec:!1})},c));for(const d of u)d.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,Ti,new Map);for(const t of l(this,jt))l(this,Ti).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,Ti))return!1;this.disableUserSelect(!1);const t=l(this,Ti);w(this,Ti,null);let e=!1;for(const[{x:r,y:a,pageIndex:u},c]of t)c.newX=r,c.newY=a,c.newPageIndex=u,e||(e=r!==c.savedX||a!==c.savedY||u!==c.savedPageIndex);if(!e)return!1;const s=(r,a,u,c)=>{if(l(this,we).has(r.id)){const d=l(this,Ne).get(c);d?r._setParentAndPosition(d,a,u):(r.pageIndex=c,r.x=a,r.y=u)}};return this.addCommands({cmd:()=>{for(const[r,{newX:a,newY:u,newPageIndex:c}]of t)s(r,a,u,c)},undo:()=>{for(const[r,{savedX:a,savedY:u,savedPageIndex:c}]of t)s(r,a,u,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(l(this,Ti))for(const s of l(this,Ti).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||l(this,jt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return l(this,xn)===t}getActive(){return l(this,xn)}getMode(){return l(this,Pe)}get imageManager(){return Dt(this,"imageManager",new Qg)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,g=e.rangeCount;p<g;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:r,width:a,height:u}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(p,g,y,A)=>({x:(g-r)/u,y:1-(p+y-s)/a,width:A/u,height:y/a});break;case"180":c=(p,g,y,A)=>({x:1-(p+y-s)/a,y:1-(g+A-r)/u,width:y/a,height:A/u});break;case"270":c=(p,g,y,A)=>({x:1-(g+A-r)/u,y:(p-s)/a,width:A/u,height:y/a});break;default:c=(p,g,y,A)=>({x:(p-s)/a,y:(g-r)/u,width:y/a,height:A/u});break}const d=[];for(let p=0,g=e.rangeCount;p<g;p++){const y=e.getRangeAt(p);if(!y.collapsed)for(const{x:A,y:E,width:C,height:x}of y.getClientRects())C===0||x===0||d.push(c(A,E,C,x))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(l(this,Ga)||w(this,Ga,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=l(this,Ga))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=l(this,Ga))==null?void 0:r.get(t.data.id);if(!e)return;const s=l(this,rs).getRawValue(e);s&&(l(this,Pe)===bt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};Wa=new WeakMap,xn=new WeakMap,we=new WeakMap,Ne=new WeakMap,Va=new WeakMap,rs=new WeakMap,Ga=new WeakMap,ui=new WeakMap,rr=new WeakMap,Xa=new WeakMap,so=new WeakMap,Ti=new WeakMap,ci=new WeakMap,ro=new WeakMap,nc=new WeakMap,ic=new WeakMap,qa=new WeakMap,sc=new WeakMap,Ri=new WeakMap,or=new WeakMap,Ya=new WeakMap,ar=new WeakMap,Pi=new WeakMap,yf=new WeakMap,lr=new WeakMap,rc=new WeakMap,ur=new WeakMap,oo=new WeakMap,oc=new WeakMap,ac=new WeakMap,Pe=new WeakMap,jt=new WeakMap,os=new WeakMap,ao=new WeakMap,lc=new WeakMap,uc=new WeakMap,cr=new WeakMap,Li=new WeakMap,as=new WeakMap,cc=new WeakMap,Wn=new WeakMap,K=new WeakSet,Nd=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Jg=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of l(this,Ne).values())if(s.hasTextLayer(t))return s;return null},ow=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=S(this,K,Nd).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(l(this,Pi)||w(this,Pi,new kE(this)),l(this,Pi).show(s,r,this.direction==="ltr"))},aw=function(){var a,u,c;const t=document.getSelection();if(!t||t.isCollapsed){l(this,os)&&((a=l(this,Pi))==null||a.hide(),w(this,os,null),S(this,K,en).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===l(this,os))return;const r=S(this,K,Nd).call(this,t).closest(".textLayer");if(!r){l(this,os)&&((u=l(this,Pi))==null||u.hide(),w(this,os,null),S(this,K,en).call(this,{hasSelectedText:!1}));return}if((c=l(this,Pi))==null||c.hide(),w(this,os,e),S(this,K,en).call(this,{hasSelectedText:!0}),!(l(this,Pe)!==bt.HIGHLIGHT&&l(this,Pe)!==bt.NONE)&&(l(this,Pe)===bt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,ar,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=l(this,Pe)===bt.HIGHLIGHT?S(this,K,Jg).call(this,r):null;d==null||d.toggleDrawing();const p=new AbortController,g=this.combinedSignal(p),y=A=>{A.type==="pointerup"&&A.button!==0||(p.abort(),d==null||d.toggleDrawing(!0),A.type==="pointerup"&&S(this,K,Od).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:g}),window.addEventListener("blur",y,{signal:g})}},Od=function(t=""){l(this,Pe)===bt.HIGHLIGHT?this.highlightSelection(t):l(this,nc)&&S(this,K,ow).call(this)},lw=function(){document.addEventListener("selectionchange",S(this,K,aw).bind(this),{signal:this._signal})},uw=function(){if(l(this,or))return;w(this,or,new AbortController);const t=this.combinedSignal(l(this,or));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},cw=function(){var t;(t=l(this,or))==null||t.abort(),w(this,or,null)},tm=function(){if(l(this,ur))return;w(this,ur,new AbortController);const t=this.combinedSignal(l(this,ur));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},hw=function(){var t;(t=l(this,ur))==null||t.abort(),w(this,ur,null)},em=function(){if(l(this,rr))return;w(this,rr,new AbortController);const t=this.combinedSignal(l(this,rr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},nm=function(){var t;(t=l(this,rr))==null||t.abort(),w(this,rr,null)},dw=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},en=function(t){Object.entries(t).some(([s,r])=>l(this,uc)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,uc),t)}),l(this,Pe)===bt.HIGHLIGHT&&t.hasSelectedEditor===!1&&S(this,K,tr).call(this,[[At.HIGHLIGHT_FREE,!0]]))},tr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},fw=async function(){if(!l(this,lr)){w(this,lr,!0);const t=[];for(const e of l(this,Ne).values())t.push(e.enable());await Promise.all(t);for(const e of l(this,we).values())e.enable()}},pw=function(){if(this.unselectAll(),l(this,lr)){w(this,lr,!1);for(const t of l(this,Ne).values())t.disable();for(const t of l(this,we).values())t.disable()}},im=function(t){const e=l(this,Ne).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},gw=function(){let t=null;for(t of l(this,jt));return t},Pu=function(){if(l(this,we).size===0)return!0;if(l(this,we).size===1)for(const t of l(this,we).values())return t.isEmpty();return!1},sm=function(t){for(const e of l(this,jt))e.unselect();l(this,jt).clear();for(const e of t)e.isEmpty()||(l(this,jt).add(e),e.select());S(this,K,en).call(this,{hasSelectedEditor:this.hasSelection})},yt(Ha,"TRANSLATE_SMALL",1),yt(Ha,"TRANSLATE_BIG",10);let Jo=Ha;var Le,Mi,hi,Ka,Ii,kn,Qa,Fi,mn,ls,lo,Di,hr,_i,Lu,zd;const nn=class nn{constructor(t){b(this,_i);b(this,Le,null);b(this,Mi,!1);b(this,hi,null);b(this,Ka,null);b(this,Ii,null);b(this,kn,null);b(this,Qa,!1);b(this,Fi,null);b(this,mn,null);b(this,ls,null);b(this,lo,null);b(this,Di,!1);w(this,mn,t),w(this,Di,t._uiManager.useNewAltTextFlow),l(nn,hr)||w(nn,hr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){nn._l10n??(nn._l10n=t)}async render(){const t=w(this,hi,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=w(this,Ka,document.createElement("span"));t.append(e),l(this,Di)?(t.classList.add("new"),t.setAttribute("data-l10n-id",l(nn,hr).missing),e.setAttribute("data-l10n-id",l(nn,hr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=l(this,mn)._uiManager._signal;t.addEventListener("contextmenu",Zn,{signal:s}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:s});const r=a=>{a.preventDefault(),l(this,mn)._uiManager.editAltText(l(this,mn)),l(this,Di)&&l(this,mn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,_i,Lu)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(w(this,Qa,!0),r(a))},{signal:s}),await S(this,_i,zd).call(this),t}finish(){l(this,hi)&&(l(this,hi).focus({focusVisible:l(this,Qa)}),w(this,Qa,!1))}isEmpty(){return l(this,Di)?l(this,Le)===null:!l(this,Le)&&!l(this,Mi)}hasData(){return l(this,Di)?l(this,Le)!==null||!!l(this,ls):this.isEmpty()}get guessedText(){return l(this,ls)}async setGuessedText(t){l(this,Le)===null&&(w(this,ls,t),w(this,lo,await nn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),S(this,_i,zd).call(this))}toggleAltTextBadge(t=!1){var e;if(!l(this,Di)||l(this,Le)){(e=l(this,Fi))==null||e.remove(),w(this,Fi,null);return}if(!l(this,Fi)){const s=w(this,Fi,document.createElement("div"));s.className="noAltTextBadge",l(this,mn).div.append(s)}l(this,Fi).classList.toggle("hidden",!t)}serialize(t){let e=l(this,Le);return!t&&l(this,ls)===e&&(e=l(this,lo)),{altText:e,decorative:l(this,Mi),guessedText:l(this,ls),textWithDisclaimer:l(this,lo)}}get data(){return{altText:l(this,Le),decorative:l(this,Mi)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:r,cancel:a=!1}){s&&(w(this,ls,s),w(this,lo,r)),!(l(this,Le)===t&&l(this,Mi)===e)&&(a||(w(this,Le,t),w(this,Mi,e)),S(this,_i,zd).call(this))}toggle(t=!1){l(this,hi)&&(!t&&l(this,kn)&&(clearTimeout(l(this,kn)),w(this,kn,null)),l(this,hi).disabled=!t)}shown(){l(this,mn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,_i,Lu)}})}destroy(){var t,e;(t=l(this,hi))==null||t.remove(),w(this,hi,null),w(this,Ka,null),w(this,Ii,null),(e=l(this,Fi))==null||e.remove(),w(this,Fi,null)}};Le=new WeakMap,Mi=new WeakMap,hi=new WeakMap,Ka=new WeakMap,Ii=new WeakMap,kn=new WeakMap,Qa=new WeakMap,Fi=new WeakMap,mn=new WeakMap,ls=new WeakMap,lo=new WeakMap,Di=new WeakMap,hr=new WeakMap,_i=new WeakSet,Lu=function(){return l(this,Le)&&"added"||l(this,Le)===null&&this.guessedText&&"review"||"missing"},zd=async function(){var r,a,u;const t=l(this,hi);if(!t)return;if(l(this,Di)){if(t.classList.toggle("done",!!l(this,Le)),t.setAttribute("data-l10n-id",l(nn,hr)[l(this,_i,Lu)]),(r=l(this,Ka))==null||r.setAttribute("data-l10n-id",l(nn,hr)[`${l(this,_i,Lu)}-label`]),!l(this,Le)){(a=l(this,Ii))==null||a.remove();return}}else{if(!l(this,Le)&&!l(this,Mi)){t.classList.remove("done"),(u=l(this,Ii))==null||u.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=l(this,Ii);if(!e){w(this,Ii,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${l(this,mn).id}`;const c=100,d=l(this,mn)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(l(this,kn)),w(this,kn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{w(this,kn,setTimeout(()=>{w(this,kn,null),l(this,Ii).classList.add("show"),l(this,mn)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:d}),t.addEventListener("mouseleave",()=>{var p;l(this,kn)&&(clearTimeout(l(this,kn)),w(this,kn,null)),(p=l(this,Ii))==null||p.classList.remove("show")},{signal:d})}l(this,Mi)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=l(this,Le)),e.parentNode||t.append(e);const s=l(this,mn).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},b(nn,hr,null),yt(nn,"_l10n",null);let cf=nn;var uo,di,ie,Za,co,Oe,ho,dr,hc,fo,fr,dc,po,us,Ni,Ja,tl,Vn,fc,Af,Ct,rm,pc,om,am,mw,vw,lm,um,cm,yw,hm,Aw,ww,_w,dm,Mu;const Ht=class Ht{constructor(t){b(this,Ct);b(this,uo,null);b(this,di,null);b(this,ie,null);b(this,Za,!1);b(this,co,!1);b(this,Oe,null);b(this,ho,null);b(this,dr,null);b(this,hc,"");b(this,fo,!1);b(this,fr,null);b(this,dc,!1);b(this,po,!1);b(this,us,!1);b(this,Ni,null);b(this,Ja,0);b(this,tl,0);b(this,Vn,null);yt(this,"_editToolbar",null);yt(this,"_initialOptions",Object.create(null));yt(this,"_initialData",null);yt(this,"_isVisible",!0);yt(this,"_uiManager",null);yt(this,"_focusEventsAllowed",!0);b(this,fc,!1);b(this,Af,Ht._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:r,pageX:a,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[a,u];const[c,d]=this.parentDimensions;this.x=t.x/c,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Ht.prototype._resizeWithKeyboard,e=Jo.TRANSLATE_SMALL,s=Jo.TRANSLATE_BIG;return Dt(this,"_resizerKeyboardManager",new dh([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],Ht.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Dt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new LE({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Ht._l10n??(Ht._l10n=t),Ht._l10nResizer||(Ht._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ht._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Ht._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Qt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,fc)}set _isDraggable(t){var e;w(this,fc,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,Af)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):S(this,Ct,Mu).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(l(this,fo)?w(this,fo,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,r){const[a,u]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/a,this.y=(e+r)/u,this.fixAndSetPosition()}translate(t,e){S(this,Ct,rm).call(this,this.parentDimensions,t,e)}translateInPage(t,e){l(this,fr)||w(this,fr,[this.x,this.y]),S(this,Ct,rm).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){l(this,fr)||w(this,fr,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:u}=this;const[c,d]=this.getBaseTranslation();a+=c,u+=d,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!l(this,fr)&&(l(this,fr)[0]!==this.x||l(this,fr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=Ht,r=s/t,a=s/e;switch(this.rotation){case 90:return[-r,a];case 180:return[r,a];case 270:return[r,-a];default:return[-r,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,s]=this.pageDimensions;let{x:r,y:a,width:u,height:c}=this;if(u*=e,c*=s,r*=e,a*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-u,r)),a=Math.max(0,Math.min(s-c,a));break;case 90:r=Math.max(0,Math.min(e-c,r)),a=Math.min(s,Math.max(u,a));break;case 180:r=Math.min(e,Math.max(u,r)),a=Math.min(s,Math.max(c,a));break;case 270:r=Math.min(e,Math.max(c,r)),a=Math.max(0,Math.min(s-u,a));break}this.x=r/=e,this.y=a/=s;const[d,p]=this.getBaseTranslation();r+=d,a+=p;const{style:g}=this.div;g.left=`${(100*r).toFixed(2)}%`,g.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return S(s=Ht,pc,om).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return S(s=Ht,pc,om).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,l(this,co)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,r=s.endsWith("%"),a=!l(this,co)&&e.endsWith("%");if(r&&a)return;const[u,c]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/u).toFixed(2)}%`),!l(this,co)&&!a&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=l(this,ie))==null||t.finish()}async addEditToolbar(){return this._editToolbar||l(this,po)?this._editToolbar:(this._editToolbar=new Yg(this),this.div.append(this._editToolbar.render()),l(this,ie)&&await this._editToolbar.addAltText(l(this,ie)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=l(this,ie))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){l(this,ie)||(cf.initialize(Ht._l10n),w(this,ie,new cf(this)),l(this,uo)&&(l(this,ie).data=l(this,uo),w(this,uo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=l(this,ie))==null?void 0:t.data}set altTextData(t){l(this,ie)&&(l(this,ie).data=t)}get guessedAltText(){var t;return(t=l(this,ie))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=l(this,ie))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=l(this,ie))==null?void 0:e.serialize(t)}hasAltText(){return!!l(this,ie)&&!l(this,ie).isEmpty()}hasAltTextData(){var t;return((t=l(this,ie))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=l(this,Za)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),S(this,Ct,hm).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),uf(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=rn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(w(this,fo,!0),this._isDraggable){S(this,Ct,yw).call(this,t);return}S(this,Ct,cm).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){l(this,Ni)&&clearTimeout(l(this,Ni)),w(this,Ni,setTimeout(()=>{var t;w(this,Ni,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition()}getRect(t,e,s=this.rotation){const r=this.parentScale,[a,u]=this.pageDimensions,[c,d]=this.pageTranslation,p=t/r,g=e/r,y=this.x*a,A=this.y*u,E=this.width*a,C=this.height*u;switch(s){case 0:return[y+p+c,u-A-g-C+d,y+p+E+c,u-A-g+d];case 90:return[y+g+c,u-A+p+d,y+g+C+c,u-A+p+E+d];case 180:return[y-p-E+c,u-A+g+d,y-p+c,u-A+g+C+d];case 270:return[y-g-C+c,u-A-p-E+d,y-g+c,u-A-p+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,r,a,u]=t,c=a-s,d=u-r;switch(this.rotation){case 0:return[s,e-u,c,d];case 90:return[s,e-r,d,c];case 180:return[a,e-r,c,d];case 270:return[a,e-u,d,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){w(this,po,!0)}disableEditMode(){w(this,po,!1)}isInEditMode(){return l(this,po)}shouldGetKeyboardEvents(){return l(this,us)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){S(this,Ct,hm).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Qt("An editor must be serializable")}static async deserialize(t,e,s){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});r.rotation=t.rotation,w(r,uo,t.accessibilityData);const[a,u]=r.pageDimensions,[c,d,p,g]=r.getRectInCurrentCoords(t.rect,u);return r.x=c/a,r.y=d/u,r.width=p/a,r.height=g/u,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=l(this,dr))==null||t.abort(),w(this,dr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,Ni)&&(clearTimeout(l(this,Ni)),w(this,Ni,null)),S(this,Ct,Mu).call(this),this.removeEditToolbar(),l(this,Vn)){for(const e of l(this,Vn).values())clearTimeout(e);w(this,Vn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(S(this,Ct,mw).call(this),l(this,Oe).classList.remove("hidden"),uf(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),w(this,ho,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=l(this,Oe).children;if(!l(this,di)){w(this,di,Array.from(e));const u=S(this,Ct,Aw).bind(this),c=S(this,Ct,ww).bind(this),d=this._uiManager._signal;for(const p of l(this,di)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",u,{signal:d}),p.addEventListener("blur",c,{signal:d}),p.addEventListener("focus",S(this,Ct,_w).bind(this,g),{signal:d}),p.setAttribute("data-l10n-id",Ht._l10nResizer[g])}}const s=l(this,di)[0];let r=0;for(const u of e){if(u===s)break;r++}const a=(360-this.rotation+this.parentRotation)%360/90*(l(this,di).length/4);if(a!==r){if(a<r)for(let c=0;c<r-a;c++)l(this,Oe).append(l(this,Oe).firstChild);else if(a>r)for(let c=0;c<a-r;c++)l(this,Oe).firstChild.before(l(this,Oe).lastChild);let u=0;for(const c of e){const p=l(this,di)[u++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Ht._l10nResizer[p])}}S(this,Ct,dm).call(this,0),w(this,us,!0),l(this,Oe).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){l(this,us)&&S(this,Ct,um).call(this,l(this,hc),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){S(this,Ct,Mu).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,a;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(e=this._editToolbar)==null||e.show(),(s=l(this,ie))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,r,a;(t=l(this,Oe))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(a=l(this,ie))==null||a.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return l(this,dc)}set isEditing(t){w(this,dc,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){w(this,co,!0);const s=t/e,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){l(this,Vn)||w(this,Vn,new Map);const{action:s}=t;let r=l(this,Vn).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),l(this,Vn).delete(s),l(this,Vn).size===0&&w(this,Vn,null)},Ht._telemetryTimeout),l(this,Vn).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),w(this,Za,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,Za,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};uo=new WeakMap,di=new WeakMap,ie=new WeakMap,Za=new WeakMap,co=new WeakMap,Oe=new WeakMap,ho=new WeakMap,dr=new WeakMap,hc=new WeakMap,fo=new WeakMap,fr=new WeakMap,dc=new WeakMap,po=new WeakMap,us=new WeakMap,Ni=new WeakMap,Ja=new WeakMap,tl=new WeakMap,Vn=new WeakMap,fc=new WeakMap,Af=new WeakMap,Ct=new WeakSet,rm=function([t,e],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/e,this.fixAndSetPosition()},pc=new WeakSet,om=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},am=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},mw=function(){if(l(this,Oe))return;w(this,Oe,document.createElement("div")),l(this,Oe).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const r=document.createElement("div");l(this,Oe).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",S(this,Ct,vw).bind(this,s),{signal:e}),r.addEventListener("contextmenu",Zn,{signal:e}),r.tabIndex=-1}this.div.prepend(l(this,Oe))},vw=function(t,e){var C;e.preventDefault();const{isMac:s}=rn.platform;if(e.button!==0||e.ctrlKey&&s)return;(C=l(this,ie))==null||C.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const a=new AbortController,u=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",S(this,Ct,um).bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",Zn,{signal:u});const c=this.x,d=this.y,p=this.width,g=this.height,y=this.parent.div.style.cursor,A=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const E=()=>{var x;a.abort(),this.parent.togglePointerEvents(!0),(x=l(this,ie))==null||x.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=y,this.div.style.cursor=A,S(this,Ct,lm).call(this,c,d,p,g)};window.addEventListener("pointerup",E,{signal:u}),window.addEventListener("blur",E,{signal:u})},lm=function(t,e,s,r){const a=this.x,u=this.y,c=this.width,d=this.height;a===t&&u===e&&c===s&&d===r||this.addCommands({cmd:()=>{this.width=c,this.height=d,this.x=a,this.y=u;const[p,g]=this.parentDimensions;this.setDims(p*c,g*d),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=e;const[p,g]=this.parentDimensions;this.setDims(p*s,g*r),this.fixAndSetPosition()},mustExec:!0})},um=function(t,e){const[s,r]=this.parentDimensions,a=this.x,u=this.y,c=this.width,d=this.height,p=Ht.MIN_SIZE/s,g=Ht.MIN_SIZE/r,y=J=>Math.round(J*1e4)/1e4,A=S(this,Ct,am).call(this,this.rotation),E=(J,U)=>[A[0]*J+A[2]*U,A[1]*J+A[3]*U],C=S(this,Ct,am).call(this,360-this.rotation),x=(J,U)=>[C[0]*J+C[2]*U,C[1]*J+C[3]*U];let R,T,F=!1,N=!1;switch(t){case"topLeft":F=!0,R=(J,U)=>[0,0],T=(J,U)=>[J,U];break;case"topMiddle":R=(J,U)=>[J/2,0],T=(J,U)=>[J/2,U];break;case"topRight":F=!0,R=(J,U)=>[J,0],T=(J,U)=>[0,U];break;case"middleRight":N=!0,R=(J,U)=>[J,U/2],T=(J,U)=>[0,U/2];break;case"bottomRight":F=!0,R=(J,U)=>[J,U],T=(J,U)=>[0,0];break;case"bottomMiddle":R=(J,U)=>[J/2,U],T=(J,U)=>[J/2,0];break;case"bottomLeft":F=!0,R=(J,U)=>[0,U],T=(J,U)=>[J,0];break;case"middleLeft":N=!0,R=(J,U)=>[0,U/2],T=(J,U)=>[J,U/2];break}const O=R(c,d),j=T(c,d);let H=E(...j);const V=y(a+H[0]),q=y(u+H[1]);let st=1,pt=1,[ut,xt]=this.screenToPageTranslation(e.movementX,e.movementY);if([ut,xt]=x(ut/s,xt/r),F){const J=Math.hypot(c,d);st=pt=Math.max(Math.min(Math.hypot(j[0]-O[0]-ut,j[1]-O[1]-xt)/J,1/c,1/d),p/c,g/d)}else N?st=Math.max(p,Math.min(1,Math.abs(j[0]-O[0]-ut)))/c:pt=Math.max(g,Math.min(1,Math.abs(j[1]-O[1]-xt)))/d;const vt=y(c*st),Et=y(d*pt);H=E(...T(vt,Et));const kt=V-H[0],Tt=q-H[1];this.width=vt,this.height=Et,this.x=kt,this.y=Tt,this.setDims(s*vt,r*Et),this.fixAndSetPosition()},cm=function(t){const{isMac:e}=rn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},yw=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(e){this.div.classList.add("moving"),w(this,Ja,t.clientX),w(this,tl,t.clientY);const u=c=>{const{clientX:d,clientY:p}=c,[g,y]=this.screenToPageTranslation(d-l(this,Ja),p-l(this,tl));w(this,Ja,d),w(this,tl,p),this._uiManager.dragSelectedEditors(g,y)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:r})}const a=()=>{s.abort(),e&&this.div.classList.remove("moving"),w(this,fo,!1),this._uiManager.endDragSession()||S(this,Ct,cm).call(this,t)};window.addEventListener("pointerup",a,{signal:r}),window.addEventListener("blur",a,{signal:r})},hm=function(){if(l(this,dr)||!this.div)return;w(this,dr,new AbortController);const t=this._uiManager.combinedSignal(l(this,dr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},Aw=function(t){Ht._resizerKeyboardManager.exec(this,t)},ww=function(t){var e;l(this,us)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==l(this,Oe)&&S(this,Ct,Mu).call(this)},_w=function(t){w(this,hc,l(this,us)?t:"")},dm=function(t){if(l(this,di))for(const e of l(this,di))e.tabIndex=t},Mu=function(){if(w(this,us,!1),S(this,Ct,dm).call(this,-1),l(this,ho)){const{savedX:t,savedY:e,savedWidth:s,savedHeight:r}=l(this,ho);S(this,Ct,lm).call(this,t,e,s,r),w(this,ho,null)}},b(Ht,pc),yt(Ht,"_l10n",null),yt(Ht,"_l10nResizer",null),yt(Ht,"_borderLineWidth",-1),yt(Ht,"_colorManager",new Zg),yt(Ht,"_zIndex",1),yt(Ht,"_telemetryTimeout",1e3);let $t=Ht;class LE extends $t{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const MA=3285377520,$n=4294901760,ki=65535;class Sw{constructor(t){this.h1=t?t&4294967295:MA,this.h2=t?t&4294967295:MA}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let x=0,R=t.length;x<R;x++){const T=t.charCodeAt(x);T<=255?e[s++]=T:(e[s++]=T>>>8,e[s++]=T&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,a=s-r*4,u=new Uint32Array(e.buffer,0,r);let c=0,d=0,p=this.h1,g=this.h2;const y=3432918353,A=461845907,E=y&ki,C=A&ki;for(let x=0;x<r;x++)x&1?(c=u[x],c=c*y&$n|c*E&ki,c=c<<15|c>>>17,c=c*A&$n|c*C&ki,p^=c,p=p<<13|p>>>19,p=p*5+3864292196):(d=u[x],d=d*y&$n|d*E&ki,d=d<<15|d>>>17,d=d*A&$n|d*C&ki,g^=d,g=g<<13|g>>>19,g=g*5+3864292196);switch(c=0,a){case 3:c^=e[r*4+2]<<16;case 2:c^=e[r*4+1]<<8;case 1:c^=e[r*4],c=c*y&$n|c*E&ki,c=c<<15|c>>>17,c=c*A&$n|c*C&ki,r&1?p^=c:g^=c}this.h1=p,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&$n|t*36045&ki,e=e*4283543511&$n|((e<<16|t>>>16)*2950163797&$n)>>>16,t^=e>>>1,t=t*444984403&$n|t*60499&ki,e=e*3301882366&$n|((e<<16|t>>>16)*3120437893&$n)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const fm=Object.freeze({map:null,hash:"",transfer:void 0});var go,mo,Me,wf,Ew;class pv{constructor(){b(this,wf);b(this,go,!1);b(this,mo,null);b(this,Me,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=l(this,Me).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return l(this,Me).get(t)}remove(t){if(l(this,Me).delete(t),l(this,Me).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of l(this,Me).values())if(e instanceof $t)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=l(this,Me).get(t);let r=!1;if(s!==void 0)for(const[a,u]of Object.entries(e))s[a]!==u&&(r=!0,s[a]=u);else r=!0,l(this,Me).set(t,e);r&&S(this,wf,Ew).call(this),e instanceof $t&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return l(this,Me).has(t)}getAll(){return l(this,Me).size>0?lv(l(this,Me)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return l(this,Me).size}resetModified(){l(this,go)&&(w(this,go,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new bw(this)}get serializable(){if(l(this,Me).size===0)return fm;const t=new Map,e=new Sw,s=[],r=Object.create(null);let a=!1;for(const[u,c]of l(this,Me)){const d=c instanceof $t?c.serialize(!1,r):c;d&&(t.set(u,d),e.update(`${u}:${JSON.stringify(d)}`),a||(a=!!d.bitmap))}if(a)for(const u of t.values())u.bitmap&&s.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:fm}get editorStats(){let t=null;const e=new Map;for(const s of l(this,Me).values()){if(!(s instanceof $t))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:a}=r;e.has(a)||e.set(a,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const u=t[a]||(t[a]=new Map);for(const[c,d]of Object.entries(r)){if(c==="type")continue;let p=u.get(c);p||(p=new Map,u.set(c,p));const g=p.get(d)??0;p.set(d,g+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){w(this,mo,null)}get modifiedIds(){if(l(this,mo))return l(this,mo);const t=[];for(const e of l(this,Me).values())!(e instanceof $t)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return w(this,mo,{ids:new Set(t),hash:t.join(",")})}}go=new WeakMap,mo=new WeakMap,Me=new WeakMap,wf=new WeakSet,Ew=function(){l(this,go)||(w(this,go,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var gc;class bw extends pv{constructor(e){super();b(this,gc);const{map:s,hash:r,transfer:a}=e.serializable,u=structuredClone(s,a?{transfer:a}:null);w(this,gc,{map:u,hash:r,transfer:a})}get print(){Qt("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,gc)}get modifiedIds(){return Dt(this,"modifiedIds",{ids:new Set,hash:""})}}gc=new WeakMap;var el;class ME{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){b(this,el,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),l(this,el).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||l(this,el).has(t.loadedName))){if(Ee(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:a}=t,u=new FontFace(s,r,a);this.addNativeFontFace(u);try{await u.load(),l(this,el).add(s),e==null||e(t)}catch{Rt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Qt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Rt(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Dt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Ke||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Dt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Ee(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const a=s.shift();setTimeout(a.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:e,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Dt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(O,j){return O.charCodeAt(j)<<24|O.charCodeAt(j+1)<<16|O.charCodeAt(j+2)<<8|O.charCodeAt(j+3)&255}function r(O,j,H,V){const q=O.substring(0,j),st=O.substring(j+H);return q+V+st}let a,u;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let p=0;function g(O,j){if(++p>30){Rt("Load test font never loaded."),j();return}if(d.font="30px "+O,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){j();return}setTimeout(g.bind(null,O,j))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let A=this._loadTestFont;A=r(A,976,y.length,y);const C=16,x=1482184792;let R=s(A,C);for(a=0,u=y.length-3;a<u;a+=4)R=R-x+s(y,a)|0;a<y.length&&(R=R-x+s(y+"XXX",a)|0),A=r(A,C,4,mE(R));const T=`url(data:font/opentype;base64,${btoa(A)});`,F=`@font-face {font-family:"${y}";src:${T}}`;this.insertRule(F);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const O of[t.loadedName,y]){const j=this._document.createElement("span");j.textContent="Hi",j.style.fontFamily=O,N.append(j)}this._document.body.append(N),g(y,()=>{N.remove(),e.complete()})}}el=new WeakMap;class IE{constructor(t,{disableFontFace:e=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${SE(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let s;try{s=t.get(this.loadedName+"_path_"+e)}catch(a){Rt(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[e]=function(a,u){};const r=[];for(let a=0,u=s.length;a<u;)switch(s[a++]){case ts.BEZIER_CURVE_TO:{const[c,d,p,g,y,A]=s.slice(a,a+6);r.push(E=>E.bezierCurveTo(c,d,p,g,y,A)),a+=6}break;case ts.MOVE_TO:{const[c,d]=s.slice(a,a+2);r.push(p=>p.moveTo(c,d)),a+=2}break;case ts.LINE_TO:{const[c,d]=s.slice(a,a+2);r.push(p=>p.lineTo(c,d)),a+=2}break;case ts.QUADRATIC_CURVE_TO:{const[c,d,p,g]=s.slice(a,a+4);r.push(y=>y.quadraticCurveTo(c,d,p,g)),a+=4}break;case ts.RESTORE:r.push(c=>c.restore());break;case ts.SAVE:r.push(c=>c.save());break;case ts.SCALE:Ee(r.length===2,"Scale command is only valid at the third position.");break;case ts.TRANSFORM:{const[c,d,p,g,y,A]=s.slice(a,a+6);r.push(E=>E.transform(c,d,p,g,y,A)),a+=6}break;case ts.TRANSLATE:{const[c,d]=s.slice(a,a+2);r.push(p=>p.translate(c,d)),a+=2}break}return this.compiledGlyphs[e]=function(u,c){r[0](u),r[1](u),u.scale(c,-c);for(let d=2,p=r.length;d<p;d++)r[d](u)}}}var mc;class Cw{constructor({enableHWA:t=!1}){b(this,mc,!1);w(this,mc,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!l(this,mc)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Qt("Abstract method `_createCanvas` called.")}}mc=new WeakMap;class FE extends Cw{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class xw{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Qt("Abstract method `_fetch` called.")}}class kw extends xw{async _fetch(t){const e=await Nf(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Df(e)}}class Tw{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,r,a){return"none"}destroy(t=!1){}}var vo,yo,Oi,cs,Xe,_f,Ao,tt,Ve,La,Ma,Hd,Ia,Rw,pm,Fa,Iu,Fu,gm,Du;class DE extends Tw{constructor({docId:e,ownerDocument:s=globalThis.document}){super();b(this,tt);b(this,vo);b(this,yo);b(this,Oi);b(this,cs);b(this,Xe);b(this,_f);b(this,Ao,0);w(this,cs,e),w(this,Xe,s)}addFilter(e){if(!e)return"none";let s=l(this,tt,Ve).get(e);if(s)return s;const[r,a,u]=S(this,tt,Hd).call(this,e),c=e.length===1?r:`${r}${a}${u}`;if(s=l(this,tt,Ve).get(c),s)return l(this,tt,Ve).set(e,s),s;const d=`g_${l(this,cs)}_transfer_map_${tn(this,Ao)._++}`,p=S(this,tt,Ia).call(this,d);l(this,tt,Ve).set(e,p),l(this,tt,Ve).set(c,p);const g=S(this,tt,Fa).call(this,d);return S(this,tt,Fu).call(this,r,a,u,g),p}addHCMFilter(e,s){var C;const r=`${e}-${s}`,a="base";let u=l(this,tt,La).get(a);if((u==null?void 0:u.key)===r||(u?((C=u.filter)==null||C.remove(),u.key=r,u.url="none",u.filter=null):(u={key:r,url:"none",filter:null},l(this,tt,La).set(a,u)),!e||!s))return u.url;const c=S(this,tt,Du).call(this,e);e=lt.makeHexColor(...c);const d=S(this,tt,Du).call(this,s);if(s=lt.makeHexColor(...d),l(this,tt,Ma).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return u.url;const p=new Array(256);for(let x=0;x<=255;x++){const R=x/255;p[x]=R<=.03928?R/12.92:((R+.055)/1.055)**2.4}const g=p.join(","),y=`g_${l(this,cs)}_hcm_filter`,A=u.filter=S(this,tt,Fa).call(this,y);S(this,tt,Fu).call(this,g,g,g,A),S(this,tt,pm).call(this,A);const E=(x,R)=>{const T=c[x]/255,F=d[x]/255,N=new Array(R+1);for(let O=0;O<=R;O++)N[O]=T+O/R*(F-T);return N.join(",")};return S(this,tt,Fu).call(this,E(0,5),E(1,5),E(2,5),A),u.url=S(this,tt,Ia).call(this,y),u.url}addAlphaFilter(e){let s=l(this,tt,Ve).get(e);if(s)return s;const[r]=S(this,tt,Hd).call(this,[e]),a=`alpha_${r}`;if(s=l(this,tt,Ve).get(a),s)return l(this,tt,Ve).set(e,s),s;const u=`g_${l(this,cs)}_alpha_map_${tn(this,Ao)._++}`,c=S(this,tt,Ia).call(this,u);l(this,tt,Ve).set(e,c),l(this,tt,Ve).set(a,c);const d=S(this,tt,Fa).call(this,u);return S(this,tt,gm).call(this,r,d),c}addLuminosityFilter(e){let s=l(this,tt,Ve).get(e||"luminosity");if(s)return s;let r,a;if(e?([r]=S(this,tt,Hd).call(this,[e]),a=`luminosity_${r}`):a="luminosity",s=l(this,tt,Ve).get(a),s)return l(this,tt,Ve).set(e,s),s;const u=`g_${l(this,cs)}_luminosity_map_${tn(this,Ao)._++}`,c=S(this,tt,Ia).call(this,u);l(this,tt,Ve).set(e,c),l(this,tt,Ve).set(a,c);const d=S(this,tt,Fa).call(this,u);return S(this,tt,Rw).call(this,d),e&&S(this,tt,gm).call(this,r,d),c}addHighlightHCMFilter(e,s,r,a,u){var F;const c=`${s}-${r}-${a}-${u}`;let d=l(this,tt,La).get(e);if((d==null?void 0:d.key)===c||(d?((F=d.filter)==null||F.remove(),d.key=c,d.url="none",d.filter=null):(d={key:c,url:"none",filter:null},l(this,tt,La).set(e,d)),!s||!r))return d.url;const[p,g]=[s,r].map(S(this,tt,Du).bind(this));let y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),A=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[E,C]=[a,u].map(S(this,tt,Du).bind(this));A<y&&([y,A,E,C]=[A,y,C,E]),l(this,tt,Ma).style.color="";const x=(N,O,j)=>{const H=new Array(256),V=(A-y)/j,q=N/255,st=(O-N)/(255*j);let pt=0;for(let ut=0;ut<=j;ut++){const xt=Math.round(y+ut*V),vt=q+ut*st;for(let Et=pt;Et<=xt;Et++)H[Et]=vt;pt=xt+1}for(let ut=pt;ut<256;ut++)H[ut]=H[pt-1];return H.join(",")},R=`g_${l(this,cs)}_hcm_${e}_filter`,T=d.filter=S(this,tt,Fa).call(this,R);return S(this,tt,pm).call(this,T),S(this,tt,Fu).call(this,x(E[0],C[0],5),x(E[1],C[1],5),x(E[2],C[2],5),T),d.url=S(this,tt,Ia).call(this,R),d.url}destroy(e=!1){e&&l(this,tt,La).size!==0||(l(this,Oi)&&(l(this,Oi).parentNode.parentNode.remove(),w(this,Oi,null)),l(this,yo)&&(l(this,yo).clear(),w(this,yo,null)),w(this,Ao,0))}}vo=new WeakMap,yo=new WeakMap,Oi=new WeakMap,cs=new WeakMap,Xe=new WeakMap,_f=new WeakMap,Ao=new WeakMap,tt=new WeakSet,Ve=function(){return l(this,yo)||w(this,yo,new Map)},La=function(){return l(this,_f)||w(this,_f,new Map)},Ma=function(){if(!l(this,Oi)){const e=l(this,Xe).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=l(this,Xe).createElementNS(ns,"svg");r.setAttribute("width",0),r.setAttribute("height",0),w(this,Oi,l(this,Xe).createElementNS(ns,"defs")),e.append(r),r.append(l(this,Oi)),l(this,Xe).body.append(e)}return l(this,Oi)},Hd=function(e){if(e.length===1){const p=e[0],g=new Array(256);for(let A=0;A<256;A++)g[A]=p[A]/255;const y=g.join(",");return[y,y,y]}const[s,r,a]=e,u=new Array(256),c=new Array(256),d=new Array(256);for(let p=0;p<256;p++)u[p]=s[p]/255,c[p]=r[p]/255,d[p]=a[p]/255;return[u.join(","),c.join(","),d.join(",")]},Ia=function(e){if(l(this,vo)===void 0){w(this,vo,"");const s=l(this,Xe).URL;s!==l(this,Xe).baseURI&&(Of(s)?Rt('#createUrl: ignore "data:"-URL for performance reasons.'):w(this,vo,s.split("#",1)[0]))}return`url(${l(this,vo)}#${e})`},Rw=function(e){const s=l(this,Xe).createElementNS(ns,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},pm=function(e){const s=l(this,Xe).createElementNS(ns,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},Fa=function(e){const s=l(this,Xe).createElementNS(ns,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),l(this,tt,Ma).append(s),s},Iu=function(e,s,r){const a=l(this,Xe).createElementNS(ns,s);a.setAttribute("type","discrete"),a.setAttribute("tableValues",r),e.append(a)},Fu=function(e,s,r,a){const u=l(this,Xe).createElementNS(ns,"feComponentTransfer");a.append(u),S(this,tt,Iu).call(this,u,"feFuncR",e),S(this,tt,Iu).call(this,u,"feFuncG",s),S(this,tt,Iu).call(this,u,"feFuncB",r)},gm=function(e,s){const r=l(this,Xe).createElementNS(ns,"feComponentTransfer");s.append(r),S(this,tt,Iu).call(this,r,"feFuncA",e)},Du=function(e){return l(this,tt,Ma).style.color=e,fv(getComputedStyle(l(this,tt,Ma)).getPropertyValue("color"))};class Pw{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Qt("Abstract method `_fetch` called.")}}class Lw extends Pw{async _fetch(t){const e=await Nf(t,"arraybuffer");return new Uint8Array(e)}}if(Ke){var mm=Promise.withResolvers(),Gu=null;(async()=>{const t=await Cd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Cd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Cd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Cd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let a,u;return new Map(Object.entries({fs:t,http:e,https:s,url:r,canvas:a,path2d:u}))})().then(t=>{Gu=t,mm.resolve()},t=>{Rt(`loadPackages: ${t}`),Gu=new Map,mm.resolve()})}class Lr{static get promise(){return mm.promise}static get(t){return Gu==null?void 0:Gu.get(t)}}async function Mw(m){const e=await Lr.get("fs").promises.readFile(m);return new Uint8Array(e)}class NE extends Tw{}class OE extends Cw{_createCanvas(t,e){return Lr.get("canvas").createCanvas(t,e)}}class zE extends xw{async _fetch(t){return Mw(t)}}class HE extends Pw{async _fetch(t){return Mw(t)}}const sn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function vm(m,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,s),m.clip(r)}class gv{getPattern(){Qt("Abstract method `getPattern` called.")}}class BE extends gv{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,r){let a;if(r===sn.STROKE||r===sn.FILL){const u=e.current.getClippedPathBoundingBox(r,re(t))||[0,0,0,0],c=Math.ceil(u[2]-u[0])||1,d=Math.ceil(u[3]-u[1])||1,p=e.cachedCanvases.getCanvas("pattern",c,d),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-u[0],-u[1]),s=lt.transform(s,[1,0,0,1,u[0],u[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),vm(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),a=t.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(s);a.setTransform(y)}else vm(t,this._bbox),a=this._createGradient(t);return a}}function jg(m,t,e,s,r,a,u,c){const d=t.coords,p=t.colors,g=m.data,y=m.width*4;let A;d[e+1]>d[s+1]&&(A=e,e=s,s=A,A=a,a=u,u=A),d[s+1]>d[r+1]&&(A=s,s=r,r=A,A=u,u=c,c=A),d[e+1]>d[s+1]&&(A=e,e=s,s=A,A=a,a=u,u=A);const E=(d[e]+t.offsetX)*t.scaleX,C=(d[e+1]+t.offsetY)*t.scaleY,x=(d[s]+t.offsetX)*t.scaleX,R=(d[s+1]+t.offsetY)*t.scaleY,T=(d[r]+t.offsetX)*t.scaleX,F=(d[r+1]+t.offsetY)*t.scaleY;if(C>=F)return;const N=p[a],O=p[a+1],j=p[a+2],H=p[u],V=p[u+1],q=p[u+2],st=p[c],pt=p[c+1],ut=p[c+2],xt=Math.round(C),vt=Math.round(F);let Et,kt,Tt,J,U,at,Q,M;for(let B=xt;B<=vt;B++){if(B<R){const ft=B<C?0:(C-B)/(C-R);Et=E-(E-x)*ft,kt=N-(N-H)*ft,Tt=O-(O-V)*ft,J=j-(j-q)*ft}else{let ft;B>F?ft=1:R===F?ft=0:ft=(R-B)/(R-F),Et=x-(x-T)*ft,kt=H-(H-st)*ft,Tt=V-(V-pt)*ft,J=q-(q-ut)*ft}let ot;B<C?ot=0:B>F?ot=1:ot=(C-B)/(C-F),U=E-(E-T)*ot,at=N-(N-st)*ot,Q=O-(O-pt)*ot,M=j-(j-ut)*ot;const wt=Math.round(Math.min(Et,U)),Pt=Math.round(Math.max(Et,U));let gt=y*B+wt*4;for(let ft=wt;ft<=Pt;ft++)ot=(Et-ft)/(Et-U),ot<0?ot=0:ot>1&&(ot=1),g[gt++]=kt-(kt-at)*ot|0,g[gt++]=Tt-(Tt-Q)*ot|0,g[gt++]=J-(J-M)*ot|0,g[gt++]=255}}function jE(m,t,e){const s=t.coords,r=t.colors;let a,u;switch(t.type){case"lattice":const c=t.verticesPerRow,d=Math.floor(s.length/c)-1,p=c-1;for(a=0;a<d;a++){let g=a*c;for(let y=0;y<p;y++,g++)jg(m,e,s[g],s[g+1],s[g+c],r[g],r[g+1],r[g+c]),jg(m,e,s[g+c+1],s[g+1],s[g+c],r[g+c+1],r[g+1],r[g+c])}break;case"triangles":for(a=0,u=s.length;a<u;a+=3)jg(m,e,s[a],s[a+1],s[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class UE extends gv{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-c,g=Math.ceil(this._bounds[3])-d,y=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),A=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),E=p/y,C=g/A,x={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/E,scaleY:1/C},R=y+2*2,T=A+2*2,F=s.getCanvas("mesh",R,T),N=F.context,O=N.createImageData(y,A);if(e){const H=O.data;for(let V=0,q=H.length;V<q;V+=4)H[V]=e[0],H[V+1]=e[1],H[V+2]=e[2],H[V+3]=255}for(const H of this._figures)jE(O,H,x);return N.putImageData(O,2,2),{canvas:F.canvas,offsetX:c-2*E,offsetY:d-2*C,scaleX:E,scaleY:C}}getPattern(t,e,s,r){vm(t,this._bbox);let a;if(r===sn.SHADING)a=lt.singularValueDecompose2dScale(re(t));else if(a=lt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const c=lt.singularValueDecompose2dScale(this.matrix);a=[a[0]*c[0],a[1]*c[1]]}const u=this._createMeshCanvas(a,r===sn.SHADING?null:this._background,e.cachedCanvases);return r!==sn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class $E extends gv{getPattern(){return"hotpink"}}function WE(m){switch(m[0]){case"RadialAxial":return new BE(m);case"Mesh":return new UE(m);case"Dummy":return new $E}throw new Error(`Unknown IR type: ${m[0]}`)}const IA={COLORED:1,UNCOLORED:2},Sf=class Sf{constructor(t,e,s,r,a){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:r,tilingType:a,color:u,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:p}=this;d=Math.abs(d),p=Math.abs(p),If("TilingType: "+a);const g=e[0],y=e[1],A=e[2],E=e[3],C=A-g,x=E-y,R=lt.singularValueDecompose2dScale(this.matrix),T=lt.singularValueDecompose2dScale(this.baseTransform),F=R[0]*T[0],N=R[1]*T[1];let O=C,j=x,H=!1,V=!1;const q=Math.ceil(d*F),st=Math.ceil(p*N),pt=Math.ceil(C*F),ut=Math.ceil(x*N);q>=pt?O=d:H=!0,st>=ut?j=p:V=!0;const xt=this.getSizeAndScale(O,this.ctx.canvas.width,F),vt=this.getSizeAndScale(j,this.ctx.canvas.height,N),Et=t.cachedCanvases.getCanvas("pattern",xt.size,vt.size),kt=Et.context,Tt=c.createCanvasGraphics(kt);if(Tt.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Tt,r,u),kt.translate(-xt.scale*g,-vt.scale*y),Tt.transform(xt.scale,0,0,vt.scale,0,0),kt.save(),this.clipBbox(Tt,g,y,A,E),Tt.baseTransform=re(Tt.ctx),Tt.executeOperatorList(s),Tt.endDrawing(),kt.restore(),H||V){const J=Et.canvas;H&&(O=d),V&&(j=p);const U=this.getSizeAndScale(O,this.ctx.canvas.width,F),at=this.getSizeAndScale(j,this.ctx.canvas.height,N),Q=U.size,M=at.size,B=t.cachedCanvases.getCanvas("pattern-workaround",Q,M),ot=B.context,wt=H?Math.floor(C/d):0,Pt=V?Math.floor(x/p):0;for(let gt=0;gt<=wt;gt++)for(let ft=0;ft<=Pt;ft++)ot.drawImage(J,Q*gt,M*ft,Q,M,0,0,Q,M);return{canvas:B.canvas,scaleX:U.scale,scaleY:at.scale,offsetX:g,offsetY:y}}return{canvas:Et.canvas,scaleX:xt.scale,scaleY:vt.scale,offsetX:g,offsetY:y}}getSizeAndScale(t,e,s){const r=Math.max(Sf.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*s);return a>=r?a=r:s=a/t,{scale:s,size:a}}clipBbox(t,e,s,r,a){const u=r-e,c=a-s;t.ctx.rect(e,s,u,c),t.current.updateRectMinMax(re(t.ctx),[e,s,r,a]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const r=t.ctx,a=t.current;switch(e){case IA.COLORED:const u=this.ctx;r.fillStyle=u.fillStyle,r.strokeStyle=u.strokeStyle,a.fillColor=u.fillStyle,a.strokeColor=u.strokeStyle;break;case IA.UNCOLORED:const c=lt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=c,r.strokeStyle=c,a.fillColor=c,a.strokeColor=c;break;default:throw new gE(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,r){let a=s;r!==sn.SHADING&&(a=lt.transform(a,e.baseTransform),this.matrix&&(a=lt.transform(a,this.matrix)));const u=this.createPatternCanvas(e);let c=new DOMMatrix(a);c=c.translate(u.offsetX,u.offsetY),c=c.scale(1/u.scaleX,1/u.scaleY);const d=t.createPattern(u.canvas,"repeat");return d.setTransform(c),d}};yt(Sf,"MAX_PATTERN_SIZE",3e3);let ym=Sf;function VE({src:m,srcPos:t=0,dest:e,width:s,height:r,nonBlackColor:a=4294967295,inverseDecode:u=!1}){const c=rn.isLittleEndian?4278190080:255,[d,p]=u?[a,c]:[c,a],g=s>>3,y=s&7,A=m.length;e=new Uint32Array(e.buffer);let E=0;for(let C=0;C<r;C++){for(const R=t+g;t<R;t++){const T=t<A?m[t]:255;e[E++]=T&128?p:d,e[E++]=T&64?p:d,e[E++]=T&32?p:d,e[E++]=T&16?p:d,e[E++]=T&8?p:d,e[E++]=T&4?p:d,e[E++]=T&2?p:d,e[E++]=T&1?p:d}if(y===0)continue;const x=t<A?m[t++]:255;for(let R=0;R<y;R++)e[E++]=x&1<<7-R?p:d}return{srcPos:t,destPos:E}}const FA=16,DA=100,GE=15,NA=10,OA=1e3,An=16;function XE(m,t){if(m._removeMirroring)throw new Error("Context is already forwarding operations.");m.__originalSave=m.save,m.__originalRestore=m.restore,m.__originalRotate=m.rotate,m.__originalScale=m.scale,m.__originalTranslate=m.translate,m.__originalTransform=m.transform,m.__originalSetTransform=m.setTransform,m.__originalResetTransform=m.resetTransform,m.__originalClip=m.clip,m.__originalMoveTo=m.moveTo,m.__originalLineTo=m.lineTo,m.__originalBezierCurveTo=m.bezierCurveTo,m.__originalRect=m.rect,m.__originalClosePath=m.closePath,m.__originalBeginPath=m.beginPath,m._removeMirroring=()=>{m.save=m.__originalSave,m.restore=m.__originalRestore,m.rotate=m.__originalRotate,m.scale=m.__originalScale,m.translate=m.__originalTranslate,m.transform=m.__originalTransform,m.setTransform=m.__originalSetTransform,m.resetTransform=m.__originalResetTransform,m.clip=m.__originalClip,m.moveTo=m.__originalMoveTo,m.lineTo=m.__originalLineTo,m.bezierCurveTo=m.__originalBezierCurveTo,m.rect=m.__originalRect,m.closePath=m.__originalClosePath,m.beginPath=m.__originalBeginPath,delete m._removeMirroring},m.save=function(){t.save(),this.__originalSave()},m.restore=function(){t.restore(),this.__originalRestore()},m.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},m.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},m.transform=function(s,r,a,u,c,d){t.transform(s,r,a,u,c,d),this.__originalTransform(s,r,a,u,c,d)},m.setTransform=function(s,r,a,u,c,d){t.setTransform(s,r,a,u,c,d),this.__originalSetTransform(s,r,a,u,c,d)},m.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},m.rotate=function(s){t.rotate(s),this.__originalRotate(s)},m.clip=function(s){t.clip(s),this.__originalClip(s)},m.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},m.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},m.bezierCurveTo=function(e,s,r,a,u,c){t.bezierCurveTo(e,s,r,a,u,c),this.__originalBezierCurveTo(e,s,r,a,u,c)},m.rect=function(e,s,r,a){t.rect(e,s,r,a),this.__originalRect(e,s,r,a)},m.closePath=function(){t.closePath(),this.__originalClosePath()},m.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class qE{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,s)):(r=this.canvasFactory.create(e,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function xd(m,t,e,s,r,a,u,c,d,p){const[g,y,A,E,C,x]=re(m);if(y===0&&A===0){const F=u*g+C,N=Math.round(F),O=c*E+x,j=Math.round(O),H=(u+d)*g+C,V=Math.abs(Math.round(H)-N)||1,q=(c+p)*E+x,st=Math.abs(Math.round(q)-j)||1;return m.setTransform(Math.sign(g),0,0,Math.sign(E),N,j),m.drawImage(t,e,s,r,a,0,0,V,st),m.setTransform(g,y,A,E,C,x),[V,st]}if(g===0&&E===0){const F=c*A+C,N=Math.round(F),O=u*y+x,j=Math.round(O),H=(c+p)*A+C,V=Math.abs(Math.round(H)-N)||1,q=(u+d)*y+x,st=Math.abs(Math.round(q)-j)||1;return m.setTransform(0,Math.sign(y),Math.sign(A),0,N,j),m.drawImage(t,e,s,r,a,0,0,st,V),m.setTransform(g,y,A,E,C,x),[st,V]}m.drawImage(t,e,s,r,a,u,c,d,p);const R=Math.hypot(g,y),T=Math.hypot(A,E);return[R*d,T*p]}function YE(m){const{width:t,height:e}=m;if(t>OA||e>OA)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=t+1;let u=new Uint8Array(a*(e+1)),c,d,p;const g=t+7&-8;let y=new Uint8Array(g*e),A=0;for(const T of m.data){let F=128;for(;F>0;)y[A++]=T&F?0:255,F>>=1}let E=0;for(A=0,y[A]!==0&&(u[0]=1,++E),d=1;d<t;d++)y[A]!==y[A+1]&&(u[d]=y[A]?2:1,++E),A++;for(y[A]!==0&&(u[d]=2,++E),c=1;c<e;c++){A=c*g,p=c*a,y[A-g]!==y[A]&&(u[p]=y[A]?1:8,++E);let T=(y[A]?4:0)+(y[A-g]?8:0);for(d=1;d<t;d++)T=(T>>2)+(y[A+1]?4:0)+(y[A-g+1]?8:0),r[T]&&(u[p+d]=r[T],++E),A++;if(y[A-g]!==y[A]&&(u[p+d]=y[A]?2:4,++E),E>s)return null}for(A=g*(e-1),p=c*a,y[A]!==0&&(u[p]=8,++E),d=1;d<t;d++)y[A]!==y[A+1]&&(u[p+d]=y[A]?4:8,++E),A++;if(y[A]!==0&&(u[p+d]=4,++E),E>s)return null;const C=new Int32Array([0,a,-1,0,-a,0,0,0,1]),x=new Path2D;for(c=0;E&&c<=e;c++){let T=c*a;const F=T+t;for(;T<F&&!u[T];)T++;if(T===F)continue;x.moveTo(T%a,c);const N=T;let O=u[T];do{const j=C[O];do T+=j;while(!u[T]);const H=u[T];H!==5&&H!==10?(O=H,u[T]=0):(O=H&51*O>>4,u[T]&=O>>2|O<<2),x.lineTo(T%a,T/a|0),u[T]||--E}while(N!==T);--c}return y=null,u=null,function(T){T.save(),T.scale(1/t,-1/e),T.translate(0,-e),T.fill(x),T.beginPath(),T.restore()}}class zA{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=YA,this.textMatrixScale=1,this.fontMatrix=Wg,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=We.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=lt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=lt.applyTransform(e,t),r=lt.applyTransform(e.slice(2),t),a=lt.applyTransform([e[0],e[3]],t),u=lt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],r[0],a[0],u[0]),this.minY=Math.min(this.minY,s[1],r[1],a[1],u[1]),this.maxX=Math.max(this.maxX,s[0],r[0],a[0],u[0]),this.maxY=Math.max(this.maxY,s[1],r[1],a[1],u[1])}updateScalingPathMinMax(t,e){lt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,r,a,u,c,d,p,g){const y=lt.bezierBoundingBox(e,s,r,a,u,c,d,p,g);g||this.updateRectMinMax(t,y)}getPathBoundingBox(t=sn.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===sn.STROKE){e||Qt("Stroke bounding box must include transform.");const r=lt.singularValueDecompose2dScale(e),a=r[0]*this.lineWidth/2,u=r[1]*this.lineWidth/2;s[0]-=a,s[1]-=u,s[2]+=a,s[3]+=u}return s}updateClipFromPath(){const t=lt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=sn.FILL,e=null){return lt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function HA(m,t){if(typeof ImageData<"u"&&t instanceof ImageData){m.putImageData(t,0,0);return}const e=t.height,s=t.width,r=e%An,a=(e-r)/An,u=r===0?a:a+1,c=m.createImageData(s,An);let d=0,p;const g=t.data,y=c.data;let A,E,C,x;if(t.kind===Md.GRAYSCALE_1BPP){const R=g.byteLength,T=new Uint32Array(y.buffer,0,y.byteLength>>2),F=T.length,N=s+7>>3,O=4294967295,j=rn.isLittleEndian?4278190080:255;for(A=0;A<u;A++){for(C=A<a?An:r,p=0,E=0;E<C;E++){const H=R-d;let V=0;const q=H>N?s:H*8-7,st=q&-8;let pt=0,ut=0;for(;V<st;V+=8)ut=g[d++],T[p++]=ut&128?O:j,T[p++]=ut&64?O:j,T[p++]=ut&32?O:j,T[p++]=ut&16?O:j,T[p++]=ut&8?O:j,T[p++]=ut&4?O:j,T[p++]=ut&2?O:j,T[p++]=ut&1?O:j;for(;V<q;V++)pt===0&&(ut=g[d++],pt=128),T[p++]=ut&pt?O:j,pt>>=1}for(;p<F;)T[p++]=0;m.putImageData(c,0,A*An)}}else if(t.kind===Md.RGBA_32BPP){for(E=0,x=s*An*4,A=0;A<a;A++)y.set(g.subarray(d,d+x)),d+=x,m.putImageData(c,0,E),E+=An;A<u&&(x=s*r*4,y.set(g.subarray(d,d+x)),m.putImageData(c,0,E))}else if(t.kind===Md.RGB_24BPP)for(C=An,x=s*C,A=0;A<u;A++){for(A>=a&&(C=r,x=s*C),p=0,E=x;E--;)y[p++]=g[d++],y[p++]=g[d++],y[p++]=g[d++],y[p++]=255;m.putImageData(c,0,A*An)}else throw new Error(`bad image kind: ${t.kind}`)}function BA(m,t){if(t.bitmap){m.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,r=e%An,a=(e-r)/An,u=r===0?a:a+1,c=m.createImageData(s,An);let d=0;const p=t.data,g=c.data;for(let y=0;y<u;y++){const A=y<a?An:r;({srcPos:d}=VE({src:p,srcPos:d,dest:g,width:s,height:A,nonBlackColor:0})),m.putImageData(c,0,y*An)}}function ku(m,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)m[s]!==void 0&&(t[s]=m[s]);m.setLineDash!==void 0&&(t.setLineDash(m.getLineDash()),t.lineDashOffset=m.lineDashOffset)}function kd(m){if(m.strokeStyle=m.fillStyle="#000000",m.fillRule="nonzero",m.globalAlpha=1,m.lineWidth=1,m.lineCap="butt",m.lineJoin="miter",m.miterLimit=10,m.globalCompositeOperation="source-over",m.font="10px sans-serif",m.setLineDash!==void 0&&(m.setLineDash([]),m.lineDashOffset=0),!Ke){const{filter:t}=m;t!=="none"&&t!==""&&(m.filter="none")}}function jA(m,t){if(t)return!0;const e=lt.singularValueDecompose2dScale(m);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Pr.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const KE=["butt","round","square"],QE=["miter","round","bevel"],ZE={},UA={};var Ir,Am,wm;const Sv=class Sv{constructor(t,e,s,r,a,{optionalContentConfig:u,markedContentStack:c=null},d,p){b(this,Ir);this.ctx=t,this.current=new zA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=r,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=u,this.cachedCanvases=new qE(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:r=null}){const a=this.ctx.canvas.width,u=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,a,u),this.ctx.fillStyle=c,s){const d=this.cachedCanvases.getCanvas("transparent",a,u);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...re(this.compositeCtx))}this.ctx.save(),kd(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=re(this.ctx)}executeOperatorList(t,e,s,r){const a=t.argsArray,u=t.fnArray;let c=e||0;const d=a.length;if(d===c)return c;const p=d-c>NA&&typeof s=="function",g=p?Date.now()+GE:0;let y=0;const A=this.commonObjs,E=this.objs;let C;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,s),c;if(C=u[c],C!==ai.dependency)this[C].apply(this,a[c]);else for(const x of a[c]){const R=x.startsWith("g_")?A:E;if(!R.has(x))return R.get(x,s),c}if(c++,c===d)return c;if(p&&++y>NA){if(Date.now()>g)return s(),c;y=0}}}endDrawing(){S(this,Ir,Am).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),S(this,Ir,wm).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),c=s,d=r,p="prescale1",g,y;for(;a>2&&c>1||u>2&&d>1;){let A=c,E=d;a>2&&c>1&&(A=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/A),u>2&&d>1&&(E=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,u/=d/E),g=this.cachedCanvases.getCanvas(p,A,E),y=g.context,y.clearRect(0,0,A,E),y.drawImage(t,0,0,c,d,0,0,A,E),t=g.canvas,c=A,d=E,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:d}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:r}=t,a=this.current.fillColor,u=this.current.patternFill,c=re(e);let d,p,g,y;if((t.bitmap||t.data)&&t.count>1){const q=t.bitmap||t.data.buffer;p=JSON.stringify(u?c:[c.slice(0,4),a]),d=this._cachedBitmapsMap.get(q),d||(d=new Map,this._cachedBitmapsMap.set(q,d));const st=d.get(p);if(st&&!u){const pt=Math.round(Math.min(c[0],c[2])+c[4]),ut=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:st,offsetX:pt,offsetY:ut}}g=st}g||(y=this.cachedCanvases.getCanvas("maskCanvas",s,r),BA(y.context,t));let A=lt.transform(c,[1/s,0,0,-1/r,0,0]);A=lt.transform(A,[1,0,0,1,0,-r]);const[E,C,x,R]=lt.getAxialAlignedBoundingBox([0,0,s,r],A),T=Math.round(x-E)||1,F=Math.round(R-C)||1,N=this.cachedCanvases.getCanvas("fillCanvas",T,F),O=N.context,j=E,H=C;O.translate(-j,-H),O.transform(...A),g||(g=this._scaleImage(y.canvas,es(O)),g=g.img,d&&u&&d.set(p,g)),O.imageSmoothingEnabled=jA(re(O),t.interpolate),xd(O,g,0,0,g.width,g.height,0,0,s,r),O.globalCompositeOperation="source-in";const V=lt.transform(es(O),[1,0,0,1,-j,-H]);return O.fillStyle=u?a.getPattern(e,this,V,sn.FILL):a,O.fillRect(0,0,s,r),d&&!u&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,N.canvas)),{canvas:N.canvas,offsetX:Math.round(j),offsetY:Math.round(H)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=KE[t]}setLineJoin(t){this.ctx.lineJoin=QE[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const a=this.ctx;a.setTransform(...re(this.suspendedCtx)),ku(this.suspendedCtx,a),XE(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ku(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,r){const a=r[0],u=r[1],c=r[2]-a,d=r[3]-u;c===0||d===0||(this.genericComposeSMask(e.context,s,c,d,e.subtype,e.backdrop,e.transferMap,a,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,r,a,u,c,d,p,g,y){let A=t.canvas,E=d-g,C=p-y;if(u){const R=lt.makeHexColor(...u);if(E<0||C<0||E+s>A.width||C+r>A.height){const T=this.cachedCanvases.getCanvas("maskExtension",s,r),F=T.context;F.drawImage(A,-E,-C),F.globalCompositeOperation="destination-atop",F.fillStyle=R,F.fillRect(0,0,s,r),F.globalCompositeOperation="source-over",A=T.canvas,E=C=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(E,C,s,r),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=R,t.fillRect(E,C,s,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const x=new Path2D;x.rect(d,p,s,r),e.clip(x),e.globalCompositeOperation="destination-in",e.drawImage(A,E,C,s,r,d,p,s,r),e.restore()}save(){this.inSMaskMode?(ku(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ku(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,r,a,u){this.ctx.transform(t,e,s,r,a,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const r=this.ctx,a=this.current;let u=a.x,c=a.y,d,p;const g=re(r),y=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,A=y?s.slice(0):null;for(let E=0,C=0,x=t.length;E<x;E++)switch(t[E]|0){case ai.rectangle:u=e[C++],c=e[C++];const R=e[C++],T=e[C++],F=u+R,N=c+T;r.moveTo(u,c),R===0||T===0?r.lineTo(F,N):(r.lineTo(F,c),r.lineTo(F,N),r.lineTo(u,N)),y||a.updateRectMinMax(g,[u,c,F,N]),r.closePath();break;case ai.moveTo:u=e[C++],c=e[C++],r.moveTo(u,c),y||a.updatePathMinMax(g,u,c);break;case ai.lineTo:u=e[C++],c=e[C++],r.lineTo(u,c),y||a.updatePathMinMax(g,u,c);break;case ai.curveTo:d=u,p=c,u=e[C+4],c=e[C+5],r.bezierCurveTo(e[C],e[C+1],e[C+2],e[C+3],u,c),a.updateCurvePathMinMax(g,d,p,e[C],e[C+1],e[C+2],e[C+3],u,c,A),C+=6;break;case ai.curveTo2:d=u,p=c,r.bezierCurveTo(u,c,e[C],e[C+1],e[C+2],e[C+3]),a.updateCurvePathMinMax(g,d,p,u,c,e[C],e[C+1],e[C+2],e[C+3],A),u=e[C+2],c=e[C+3],C+=4;break;case ai.curveTo3:d=u,p=c,u=e[C+2],c=e[C+3],r.bezierCurveTo(e[C],e[C+1],u,c,u,c),a.updateCurvePathMinMax(g,d,p,e[C],e[C+1],u,c,u,c,A),C+=4;break;case ai.closePath:r.closePath();break}y&&a.updateScalingPathMinMax(g,A),a.setCurrentPoint(u,c)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,es(e),sn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let a=!1;r&&(e.save(),e.fillStyle=s.getPattern(e,this,es(e),sn.FILL),a=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),a&&e.restore(),t&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ZE}eoClip(){this.pendingClip=UA}beginText(){this.current.textMatrix=YA,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const s of t)e.setTransform(...s.transform),e.translate(s.x,s.y),s.addToPath(e,s.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var g;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||Wg,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Rt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const a=s.loadedName||"sans-serif",u=((g=s.systemFontInfo)==null?void 0:g.css)||`"${a}", ${s.fallbackName}`;let c="normal";s.black?c="900":s.bold&&(c="bold");const d=s.italic?"italic":"normal";let p=e;e<FA?p=FA:e>DA&&(p=DA),this.current.fontSizeScale=e/p,this.ctx.font=`${d} ${c} ${p}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,r,a,u){this.current.textMatrix=[t,e,s,r,a,u],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,r){const a=this.ctx,u=this.current,c=u.font,d=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,g=d&We.FILL_STROKE_MASK,y=!!(d&We.ADD_TO_PATH_FLAG),A=u.patternFill&&!c.missingFile;let E;(c.disableFontFace||y||A)&&(E=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||A?(a.save(),a.translate(e,s),a.beginPath(),E(a,p),r&&a.setTransform(...r),(g===We.FILL||g===We.FILL_STROKE)&&a.fill(),(g===We.STROKE||g===We.FILL_STROKE)&&a.stroke(),a.restore()):((g===We.FILL||g===We.FILL_STROKE)&&a.fillText(t,e,s),(g===We.STROKE||g===We.FILL_STROKE)&&a.strokeText(t,e,s)),y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:re(a),x:e,y:s,fontSize:p,addToPath:E})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){s=!0;break}return Dt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const a=this.ctx,u=e.fontSizeScale,c=e.charSpacing,d=e.wordSpacing,p=e.fontDirection,g=e.textHScale*p,y=t.length,A=s.vertical,E=A?1:-1,C=s.defaultVMetrics,x=r*e.fontMatrix[0],R=e.textRenderingMode===We.FILL&&!s.disableFontFace&&!e.patternFill;a.save(),a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),p>0?a.scale(g,-1):a.scale(g,1);let T;if(e.patternFill){a.save();const H=e.fillColor.getPattern(a,this,es(a),sn.FILL);T=re(a),a.restore(),a.fillStyle=H}let F=e.lineWidth;const N=e.textMatrixScale;if(N===0||F===0){const H=e.textRenderingMode&We.FILL_STROKE_MASK;(H===We.STROKE||H===We.FILL_STROKE)&&(F=this.getSinglePixelWidth())}else F/=N;if(u!==1&&(a.scale(u,u),F/=u),a.lineWidth=F,s.isInvalidPDFjsFont){const H=[];let V=0;for(const q of t)H.push(q.unicode),V+=q.width;a.fillText(H.join(""),0,0),e.x+=V*x*g,a.restore(),this.compose();return}let O=0,j;for(j=0;j<y;++j){const H=t[j];if(typeof H=="number"){O+=E*H*r/1e3;continue}let V=!1;const q=(H.isSpace?d:0)+c,st=H.fontChar,pt=H.accent;let ut,xt,vt=H.width;if(A){const kt=H.vmetric||C,Tt=-(H.vmetric?kt[1]:vt*.5)*x,J=kt[2]*x;vt=kt?-kt[0]:vt,ut=Tt/u,xt=(O+J)/u}else ut=O/u,xt=0;if(s.remeasure&&vt>0){const kt=a.measureText(st).width*1e3/r*u;if(vt<kt&&this.isFontSubpixelAAEnabled){const Tt=vt/kt;V=!0,a.save(),a.scale(Tt,1),ut/=Tt}else vt!==kt&&(ut+=(vt-kt)/2e3*r/u)}if(this.contentVisible&&(H.isInFont||s.missingFile)){if(R&&!pt)a.fillText(st,ut,xt);else if(this.paintChar(st,ut,xt,T),pt){const kt=ut+r*pt.offset.x/u,Tt=xt-r*pt.offset.y/u;this.paintChar(pt.fontChar,kt,Tt,T)}}const Et=A?vt*x-q*p:vt*x+q*p;O+=Et,V&&a.restore()}A?e.y-=O:e.x+=O*g,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,r=s.font,a=s.fontSize,u=s.fontDirection,c=r.vertical?1:-1,d=s.charSpacing,p=s.wordSpacing,g=s.textHScale*u,y=s.fontMatrix||Wg,A=t.length,E=s.textRenderingMode===We.INVISIBLE;let C,x,R,T;if(!(E||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(g,u),C=0;C<A;++C){if(x=t[C],typeof x=="number"){T=c*x*a/1e3,this.ctx.translate(T,0),s.x+=T*g;continue}const F=(x.isSpace?p:0)+d,N=r.charProcOperatorList[x.operatorListId];if(!N){Rt(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),e.scale(a,a),e.transform(...y),this.executeOperatorList(N),this.restore()),R=lt.applyTransform([x.width,0],y)[0]*a+F,e.translate(R,0),s.x+=R*g}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,r,a,u){this.ctx.rect(s,r,a-s,u-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||re(this.ctx),a={createCanvasGraphics:u=>new Sv(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new ym(t,s,this.ctx,a,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=lt.makeHexColor(t,e,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=lt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=WE(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,es(e),sn.SHADING);const r=es(e);{const{width:a,height:u}=e.canvas,[c,d,p,g]=lt.getAxialAlignedBoundingBox([0,0,a,u],r);this.ctx.fillRect(c,d,p-c,g-d)}this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Qt("Should not call beginInlineImage")}beginImageData(){Qt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=re(this.ctx),e)){const s=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],s,r),this.current.updateRectMinMax(re(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||If("TODO: Support non-isolated groups."),t.knockout&&Rt("Knockout groups not supported.");const s=re(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=lt.getAxialAlignedBoundingBox(t.bbox,re(e));const a=[0,0,e.canvas.width,e.canvas.height];r=lt.intersect(r,a)||[0,0,0,0];const u=Math.floor(r[0]),c=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-u,1),p=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,p]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,d,p),A=y.context;A.translate(-u,-c),A.transform(...s),t.smask?this.smaskStack.push({canvas:y.canvas,context:A,offsetX:u,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,c),e.save()),ku(e,A),this.ctx=A,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=re(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const a=lt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,s,r,a){if(S(this,Ir,Am).call(this),kd(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],c=e[3]-e[1];if(a&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=c;const[d,p]=lt.singularValueDecompose2dScale(re(this.ctx)),{viewportScale:g}=this,y=Math.ceil(u*this.outputScaleX*g),A=Math.ceil(c*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(y,A);const{canvas:E,context:C}=this.annotationCanvas;this.annotationCanvasMap.set(t,E),this.annotationCanvas.savedCtx=this.ctx,this.ctx=C,this.ctx.save(),this.ctx.setTransform(d,0,0,-p,0,c*p),kd(this.ctx)}else kd(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],u,c),this.ctx.clip(),this.ctx.beginPath()}this.current=new zA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),S(this,Ir,wm).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=YE(t)),r.compiled)){r.compiled(s);return}const a=this._createMaskCanvas(t),u=a.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(u,a.offsetX,a.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,r=0,a,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const d=re(c);c.transform(e,s,r,a,0,0);const p=this._createMaskCanvas(t);c.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]);for(let g=0,y=u.length;g<y;g+=2){const A=lt.transform(d,[e,s,r,a,u[g],u[g+1]]),[E,C]=lt.applyTransform([0,0],A);c.drawImage(p.canvas,E,C)}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const a of t){const{data:u,width:c,height:d,transform:p}=a,g=this.cachedCanvases.getCanvas("maskCanvas",c,d),y=g.context;y.save();const A=this.getObject(u,a);BA(y,A),y.globalCompositeOperation="source-in",y.fillStyle=r?s.getPattern(y,this,es(e),sn.FILL):s,y.fillRect(0,0,c,d),y.restore(),e.save(),e.transform(...p),e.scale(1,-1),xd(e,g.canvas,0,0,c,d,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Rt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,r){if(!this.contentVisible)return;const a=this.getObject(t);if(!a){Rt("Dependent image isn't ready yet");return}const u=a.width,c=a.height,d=[];for(let p=0,g=r.length;p<g;p+=2)d.push({transform:[e,0,0,s,r[p],r[p+1]],x:0,y:0,w:u,h:c});this.paintInlineImageXObjectGroup(a,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:r}=t,a=this.cachedCanvases.getCanvas("inlineImage",s,r),u=a.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",a.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,r=this.ctx;if(this.save(),!Ke){const{filter:c}=r;c!=="none"&&c!==""&&(r.filter="none")}r.scale(1/e,-1/s);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",e,s).context;HA(d,t),a=this.applyTransferMapsToCanvas(d)}const u=this._scaleImage(a,es(r));r.imageSmoothingEnabled=jA(re(r),t.interpolate),xd(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const a=t.width,u=t.height,d=this.cachedCanvases.getCanvas("inlineImage",a,u).context;HA(d,t),r=this.applyTransferMapsToCanvas(d)}for(const a of e)s.save(),s.transform(...a.transform),s.scale(1,-1),xd(s,r,a.x,a.y,a.w,a.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===UA?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=re(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:r,d:a}=this.ctx.getTransform();let u,c;if(s===0&&r===0){const d=Math.abs(e),p=Math.abs(a);if(d===p)if(t===0)u=c=1/d;else{const g=d*t;u=c=g<1?1/g:1}else if(t===0)u=1/d,c=1/p;else{const g=d*t,y=p*t;u=g<1?1/g:1,c=y<1?1/y:1}}else{const d=Math.abs(e*a-s*r),p=Math.hypot(e,s),g=Math.hypot(r,a);if(t===0)u=g/d,c=p/d;else{const y=t*d;u=g>y?g/y:1,c=p>y?p/y:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[r,a]=this.getScaleForStroking();if(e.lineWidth=s||1,r===1&&a===1){e.stroke();return}const u=e.getLineDash();if(t&&e.save(),e.scale(r,a),u.length>0){const c=Math.max(r,a);e.setLineDash(u.map(d=>d/c)),e.lineDashOffset/=c}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Ir=new WeakSet,Am=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},wm=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Ba=Sv;for(const m in ai)Ba.prototype[m]!==void 0&&(Ba.prototype[ai[m]]=Ba.prototype[m]);var vc,yc;class Rs{static get workerPort(){return l(this,vc)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");w(this,vc,t)}static get workerSrc(){return l(this,yc)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");w(this,yc,t)}}vc=new WeakMap,yc=new WeakMap,b(Rs,vc,null),b(Rs,yc,"");const Td={UNKNOWN:0,DATA:1,ERROR:2},fe={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Cn(m){switch(m instanceof Error||typeof m=="object"&&m!==null||Qt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),m.name){case"AbortException":return new sa(m.message);case"MissingPDFException":return new ia(m.message);case"PasswordException":return new Vg(m.message,m.code);case"UnexpectedResponseException":return new Ff(m.message,m.status);case"UnknownErrorException":return new Gg(m.message,m.details);default:return new Gg(m.message,m.toString())}}var nl,Qn,Iw,Fw,Dw,Bd;class Nu{constructor(t,e,s){b(this,Qn);b(this,nl,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",S(this,Qn,Iw).bind(this),{signal:l(this,nl).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const r=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[r]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},s)}catch(u){a.reject(u)}return a.promise}sendWithStream(t,e,s,r){const a=this.streamId++,u=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[a]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:u,targetName:c,action:t,streamId:a,data:e,desiredSize:p.desiredSize},r),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[a].pullCall=g,d.postMessage({sourceName:u,targetName:c,stream:fe.PULL,streamId:a,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Ee(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[a].cancelCall=g,this.streamControllers[a].isClosed=!0,d.postMessage({sourceName:u,targetName:c,stream:fe.CANCEL,streamId:a,reason:Cn(p)}),g.promise}},s)}destroy(){var t;(t=l(this,nl))==null||t.abort(),w(this,nl,null)}}nl=new WeakMap,Qn=new WeakSet,Iw=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){S(this,Qn,Dw).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===Td.DATA)r.resolve(t.data);else if(t.callback===Td.ERROR)r.reject(Cn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,a=this.comObj;new Promise(function(u){u(e(t.data))}).then(function(u){a.postMessage({sourceName:s,targetName:r,callback:Td.DATA,callbackId:t.callbackId,data:u})},function(u){a.postMessage({sourceName:s,targetName:r,callback:Td.ERROR,callbackId:t.callbackId,reason:Cn(u)})});return}if(t.streamId){S(this,Qn,Fw).call(this,t);return}e(t.data)},Fw=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,a=this.comObj,u=this,c=this.actionHandler[t.action],d={enqueue(p,g=1,y){if(this.isCancelled)return;const A=this.desiredSize;this.desiredSize-=g,A>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:s,targetName:r,stream:fe.ENQUEUE,streamId:e,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:s,targetName:r,stream:fe.CLOSE,streamId:e}),delete u.streamSinks[e])},error(p){Ee(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:s,targetName:r,stream:fe.ERROR,streamId:e,reason:Cn(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,new Promise(function(p){p(c(t.data,d))}).then(function(){a.postMessage({sourceName:s,targetName:r,stream:fe.START_COMPLETE,streamId:e,success:!0})},function(p){a.postMessage({sourceName:s,targetName:r,stream:fe.START_COMPLETE,streamId:e,reason:Cn(p)})})},Dw=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,a=this.comObj,u=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case fe.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(Cn(t.reason));break;case fe.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(Cn(t.reason));break;case fe.PULL:if(!c){a.postMessage({sourceName:s,targetName:r,stream:fe.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,new Promise(function(d){var p;d((p=c.onPull)==null?void 0:p.call(c))}).then(function(){a.postMessage({sourceName:s,targetName:r,stream:fe.PULL_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:s,targetName:r,stream:fe.PULL_COMPLETE,streamId:e,reason:Cn(d)})});break;case fe.ENQUEUE:if(Ee(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case fe.CLOSE:if(Ee(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),S(this,Qn,Bd).call(this,u,e);break;case fe.ERROR:Ee(u,"error should have stream controller"),u.controller.error(Cn(t.reason)),S(this,Qn,Bd).call(this,u,e);break;case fe.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(Cn(t.reason)),S(this,Qn,Bd).call(this,u,e);break;case fe.CANCEL:if(!c)break;new Promise(function(d){var p;d((p=c.onCancel)==null?void 0:p.call(c,Cn(t.reason)))}).then(function(){a.postMessage({sourceName:s,targetName:r,stream:fe.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:s,targetName:r,stream:fe.CANCEL_COMPLETE,streamId:e,reason:Cn(d)})}),c.sinkCapability.reject(Cn(t.reason)),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Bd=async function(t,e){var s,r,a;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(a=t.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[e]};var wo,Ac;class JE{constructor({parsedData:t,rawData:e}){b(this,wo);b(this,Ac);w(this,wo,t),w(this,Ac,e)}getRaw(){return l(this,Ac)}get(t){return l(this,wo).get(t)??null}getAll(){return lv(l(this,wo))}has(t){return l(this,wo).has(t)}}wo=new WeakMap,Ac=new WeakMap;const Da=Symbol("INTERNAL");var wc,_c,Sc,il;class tb{constructor(t,{name:e,intent:s,usage:r,rbGroups:a}){b(this,wc,!1);b(this,_c,!1);b(this,Sc,!1);b(this,il,!0);w(this,wc,!!(t&Fn.DISPLAY)),w(this,_c,!!(t&Fn.PRINT)),this.name=e,this.intent=s,this.usage=r,this.rbGroups=a}get visible(){if(l(this,Sc))return l(this,il);if(!l(this,il))return!1;const{print:t,view:e}=this.usage;return l(this,wc)?(e==null?void 0:e.viewState)!=="OFF":l(this,_c)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==Da&&Qt("Internal method `_setVisible` called."),w(this,Sc,s),w(this,il,e)}}wc=new WeakMap,_c=new WeakMap,Sc=new WeakMap,il=new WeakMap;var pr,Ut,sl,rl,Ec,_m;class eb{constructor(t,e=Fn.DISPLAY){b(this,Ec);b(this,pr,null);b(this,Ut,new Map);b(this,sl,null);b(this,rl,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,w(this,rl,t.order);for(const s of t.groups)l(this,Ut).set(s.id,new tb(e,s));if(t.baseState==="OFF")for(const s of l(this,Ut).values())s._setVisible(Da,!1);for(const s of t.on)l(this,Ut).get(s)._setVisible(Da,!0);for(const s of t.off)l(this,Ut).get(s)._setVisible(Da,!1);w(this,sl,this.getHash())}}isVisible(t){if(l(this,Ut).size===0)return!0;if(!t)return If("Optional content group not defined."),!0;if(t.type==="OCG")return l(this,Ut).has(t.id)?l(this,Ut).get(t.id).visible:(Rt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return S(this,Ec,_m).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!l(this,Ut).has(e))return Rt(`Optional content group not found: ${e}`),!0;if(l(this,Ut).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!l(this,Ut).has(e))return Rt(`Optional content group not found: ${e}`),!0;if(!l(this,Ut).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!l(this,Ut).has(e))return Rt(`Optional content group not found: ${e}`),!0;if(!l(this,Ut).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!l(this,Ut).has(e))return Rt(`Optional content group not found: ${e}`),!0;if(l(this,Ut).get(e).visible)return!1}return!0}return Rt(`Unknown optional content policy ${t.policy}.`),!0}return Rt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var a;const r=l(this,Ut).get(t);if(!r){Rt(`Optional content group not found: ${t}`);return}if(s&&e&&r.rbGroups.length)for(const u of r.rbGroups)for(const c of u)c!==t&&((a=l(this,Ut).get(c))==null||a._setVisible(Da,!1,!0));r._setVisible(Da,!!e,!0),w(this,pr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const a=l(this,Ut).get(r);if(a)switch(s){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!a.visible,e);break}}w(this,pr,null)}get hasInitialVisibility(){return l(this,sl)===null||this.getHash()===l(this,sl)}getOrder(){return l(this,Ut).size?l(this,rl)?l(this,rl).slice():[...l(this,Ut).keys()]:null}getGroups(){return l(this,Ut).size>0?lv(l(this,Ut)):null}getGroup(t){return l(this,Ut).get(t)||null}getHash(){if(l(this,pr)!==null)return l(this,pr);const t=new Sw;for(const[e,s]of l(this,Ut))t.update(`${e}:${s.visible}`);return w(this,pr,t.hexdigest())}}pr=new WeakMap,Ut=new WeakMap,sl=new WeakMap,rl=new WeakMap,Ec=new WeakSet,_m=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let r=1;r<e;r++){const a=t[r];let u;if(Array.isArray(a))u=S(this,Ec,_m).call(this,a);else if(l(this,Ut).has(a))u=l(this,Ut).get(a).visible;else return Rt(`Optional content group not found: ${a}`),!0;switch(s){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return s==="And"};class nb{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Ee(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:a,progressiveDone:u,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=c,(a==null?void 0:a.length)>0){const d=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,p)=>{this._onReceiveData({begin:d,chunk:p})}),t.addProgressListener((d,p)=>{this._onProgress({loaded:d,total:p})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(s),!0)});Ee(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,r,a;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(a=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||a.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ee(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new ib(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new sb(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class ib{constructor(t,e,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=hv(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class sb{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function rb(m){let t=!0,e=s("filename\\*","i").exec(m);if(e){e=e[1];let g=c(e);return g=unescape(g),g=d(g),g=p(g),a(g)}if(e=u(m),e){const g=p(e);return a(g)}if(e=s("filename","i").exec(m),e){e=e[1];let g=c(e);return g=p(g),a(g)}function s(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const A=new TextDecoder(g,{fatal:!0}),E=Df(y);y=A.decode(E),t=!1}catch{}}return y}function a(g){return t&&/[\x80-\xff]/.test(g)&&(g=r("utf-8",g),t&&(g=r("iso-8859-1",g))),g}function u(g){const y=[];let A;const E=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(A=E.exec(g))!==null;){let[,x,R,T]=A;if(x=parseInt(x,10),x in y){if(x===0)break;continue}y[x]=[R,T]}const C=[];for(let x=0;x<y.length&&x in y;++x){let[R,T]=y[x];T=c(T),R&&(T=unescape(T),x===0&&(T=d(T))),C.push(T)}return C.join("")}function c(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let A=0;A<y.length;++A){const E=y[A].indexOf('"');E!==-1&&(y[A]=y[A].slice(0,E),y.length=A+1),y[A]=y[A].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function d(g){const y=g.indexOf("'");if(y===-1)return g;const A=g.slice(0,y),C=g.slice(y+1).replace(/^[^']*'/,"");return r(A,C)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,A,E,C){if(E==="q"||E==="Q")return C=C.replaceAll("_"," "),C=C.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,R){return String.fromCharCode(parseInt(R,16))}),r(A,C);try{C=atob(C)}catch{}return r(A,C)})}return""}function mv(m,t){const e=new Headers;if(!m||!t||typeof t!="object")return e;for(const s in t){const r=t[s];r!==void 0&&e.append(s,r)}return e}function vv({responseHeaders:m,isHttp:t,rangeChunkSize:e,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(m.get("Content-Length"),10);return!Number.isInteger(a)||(r.suggestedLength=a,a<=2*e)||s||!t||m.get("Accept-Ranges")!=="bytes"||(m.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function yv(m){const t=m.get("Content-Disposition");if(t){let e=rb(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(hv(e))return e}return null}function zf(m,t){return m===404||m===0&&t.startsWith("file:")?new ia('Missing PDF "'+t+'".'):new Ff(`Unexpected server response (${m}) while retrieving PDF "${t}".`,m)}function Nw(m){return m===200||m===206}function Ow(m,t,e){return{method:"GET",headers:m,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function zw(m){return m instanceof Uint8Array?m.buffer:m instanceof ArrayBuffer?m:(Rt(`getArrayBuffer - unexpected data format: ${m}`),new Uint8Array(m).buffer)}class $A{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=mv(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ee(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ob(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new ab(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class ob{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),r=e.url;fetch(r,Ow(s,this._withCredentials,this._abortController)).then(a=>{if(!Nw(a.status))throw zf(a.status,r);this._reader=a.body.getReader(),this._headersCapability.resolve();const u=a.headers,{allowRangeRequests:c,suggestedLength:d}=vv({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=yv(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new sa("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:zw(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class ab{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${s-1}`);const u=r.url;fetch(u,Ow(a,this._withCredentials,this._abortController)).then(c=>{if(!Nw(c.status))throw zf(c.status,u);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:zw(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Ug=200,$g=206;function lb(m){const t=m.response;return typeof t!="string"?t:Df(t).buffer}class ub{constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=mv(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,s){const r={begin:t,end:e};for(const a in s)r[a]=s[a];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,u]of this.headers)e.setRequestHeader(a,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=$g):r.expectedStatus=Ug,e.responseType="arraybuffer",t.onError&&(e.onerror=function(a){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,e))}onStateChange(t,e){var d,p,g;const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(d=s.onError)==null||d.call(s,r.status);return}const a=r.status||Ug;if(!(a===Ug&&s.expectedStatus===$g)&&a!==s.expectedStatus){(p=s.onError)==null||p.call(s,r.status);return}const c=lb(r);if(a===$g){const y=r.getResponseHeader("Content-Range"),A=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);s.onDone({begin:parseInt(A[1],10),chunk:c})}else c?s.onDone({begin:0,chunk:c}):(g=s.onError)==null||g.call(s,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class cb{constructor(t){this._source=t,this._manager=new ub(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ee(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new hb(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new db(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class hb{constructor(t,e){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),s=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[c,...d]=u.split(": ");return[c,d.join(": ")]})),{allowRangeRequests:r,suggestedLength:a}=vv({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=yv(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=zf(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class db{constructor(t,e,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=zf(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fb=/^[a-z][a-z0-9\-+.]+:/i;function pb(m){if(fb.test(m))return new URL(m);const t=Lr.get("url");return new URL(t.pathToFileURL(m))}function Hw(m,t,e){return m.protocol==="http:"?Lr.get("http").request(m,{headers:t},e):Lr.get("https").request(m,{headers:t},e)}class gb{constructor(t){this.source=t,this.url=pb(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=mv(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ee(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new yb(this):new mb(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=this.isFsUrl?new Ab(this,t,e):new vb(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class Bw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new sa("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class jw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class mb extends Bw{constructor(t){super(t);const e=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const d=new ia(`Missing PDF "${this._url}".`);this._storedError=d,this._headersCapability.reject(d);return}this._headersCapability.resolve(),this._setReadableStream(r);const a=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:c}=vv({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=c||this._contentLength,this._filename=yv(a)};this._request=Hw(this._url,e,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class vb extends jw{constructor(t,e,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${s-1}`;const a=u=>{if(u.statusCode===404){const c=new ia(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(u)};this._request=Hw(this._url,r,a),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class yb extends Bw{constructor(t){super(t);const e=Lr.get("fs");e.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new ia(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class Ab extends jw{constructor(t,e,s){super(t);const r=Lr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:s-1}))}}const wb=1e5,pn=30,_b=.8;var qA,gr,vn,bc,Cc,_o,hs,xc,kc,So,ol,al,mr,ll,Tc,ul,Eo,Rc,Pc,bo,Co,Lc,vr,cl,Is,Uw,$w,Sm,Nn,jd,Em,Ww,Vw;const Ae=class Ae{constructor({textContentSource:t,container:e,viewport:s}){b(this,Is);b(this,gr,Promise.withResolvers());b(this,vn,null);b(this,bc,!1);b(this,Cc,!!((qA=globalThis.FontInspector)!=null&&qA.enabled));b(this,_o,null);b(this,hs,null);b(this,xc,0);b(this,kc,0);b(this,So,null);b(this,ol,null);b(this,al,0);b(this,mr,0);b(this,ll,Object.create(null));b(this,Tc,[]);b(this,ul,null);b(this,Eo,[]);b(this,Rc,new WeakMap);b(this,Pc,null);var d;if(t instanceof ReadableStream)w(this,ul,t);else if(typeof t=="object")w(this,ul,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,vn,w(this,ol,e)),w(this,mr,s.scale*(globalThis.devicePixelRatio||1)),w(this,al,s.rotation),w(this,hs,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:a,pageX:u,pageY:c}=s.rawDims;w(this,Pc,[1,0,0,-1,-u,c+a]),w(this,kc,r),w(this,xc,a),S(d=Ae,Nn,Ww).call(d),Zo(e,s),l(this,gr).promise.finally(()=>{l(Ae,cl).delete(this),w(this,hs,null),w(this,ll,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=rn.platform;return Dt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{l(this,So).read().then(({value:e,done:s})=>{if(s){l(this,gr).resolve();return}l(this,_o)??w(this,_o,e.lang),Object.assign(l(this,ll),e.styles),S(this,Is,Uw).call(this,e.items),t()},l(this,gr).reject)};return w(this,So,l(this,ul).getReader()),l(Ae,cl).add(this),t(),l(this,gr).promise}update({viewport:t,onBefore:e=null}){var a;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==l(this,al)&&(e==null||e(),w(this,al,r),Zo(l(this,ol),{rotation:r})),s!==l(this,mr)){e==null||e(),w(this,mr,s);const u={div:null,properties:null,ctx:S(a=Ae,Nn,jd).call(a,l(this,_o))};for(const c of l(this,Eo))u.properties=l(this,Rc).get(c),u.div=c,S(this,Is,Sm).call(this,u)}}cancel(){var e;const t=new sa("TextLayer task cancelled.");(e=l(this,So))==null||e.cancel(t).catch(()=>{}),w(this,So,null),l(this,gr).reject(t)}get textDivs(){return l(this,Eo)}get textContentItemsStr(){return l(this,Tc)}static cleanup(){if(!(l(this,cl).size>0)){l(this,bo).clear();for(const{canvas:t}of l(this,Co).values())t.remove();l(this,Co).clear()}}};gr=new WeakMap,vn=new WeakMap,bc=new WeakMap,Cc=new WeakMap,_o=new WeakMap,hs=new WeakMap,xc=new WeakMap,kc=new WeakMap,So=new WeakMap,ol=new WeakMap,al=new WeakMap,mr=new WeakMap,ll=new WeakMap,Tc=new WeakMap,ul=new WeakMap,Eo=new WeakMap,Rc=new WeakMap,Pc=new WeakMap,bo=new WeakMap,Co=new WeakMap,Lc=new WeakMap,vr=new WeakMap,cl=new WeakMap,Is=new WeakSet,Uw=function(t){var r,a;if(l(this,bc))return;(a=l(this,hs)).ctx??(a.ctx=S(r=Ae,Nn,jd).call(r,l(this,_o)));const e=l(this,Eo),s=l(this,Tc);for(const u of t){if(e.length>wb){Rt("Ignoring additional textDivs for performance reasons."),w(this,bc,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const c=l(this,vn);w(this,vn,document.createElement("span")),l(this,vn).classList.add("markedContent"),u.id!==null&&l(this,vn).setAttribute("id",`${u.id}`),c.append(l(this,vn))}else u.type==="endMarkedContent"&&w(this,vn,l(this,vn).parentNode);continue}s.push(u.str),S(this,Is,$w).call(this,u)}},$w=function(t){var x;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};l(this,Eo).push(e);const r=lt.transform(l(this,Pc),t.transform);let a=Math.atan2(r[1],r[0]);const u=l(this,ll)[t.fontName];u.vertical&&(a+=Math.PI/2);let c=l(this,Cc)&&u.fontSubstitution||u.fontFamily;c=Ae.fontFamilyMap.get(c)||c;const d=Math.hypot(r[2],r[3]),p=d*S(x=Ae,Nn,Vw).call(x,c,l(this,_o));let g,y;a===0?(g=r[4],y=r[5]-p):(g=r[4]+p*Math.sin(a),y=r[5]-p*Math.cos(a));const A="calc(var(--scale-factor)*",E=e.style;l(this,vn)===l(this,ol)?(E.left=`${(100*g/l(this,kc)).toFixed(2)}%`,E.top=`${(100*y/l(this,xc)).toFixed(2)}%`):(E.left=`${A}${g.toFixed(2)}px)`,E.top=`${A}${y.toFixed(2)}px)`),E.fontSize=`${A}${(l(Ae,vr)*d).toFixed(2)}px)`,E.fontFamily=c,s.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,l(this,Cc)&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),a!==0&&(s.angle=a*(180/Math.PI));let C=!1;if(t.str.length>1)C=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const R=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);R!==T&&Math.max(R,T)/Math.min(R,T)>1.5&&(C=!0)}if(C&&(s.canvasWidth=u.vertical?t.height:t.width),l(this,Rc).set(e,s),l(this,hs).div=e,l(this,hs).properties=s,S(this,Is,Sm).call(this,l(this,hs)),s.hasText&&l(this,vn).append(e),s.hasEOL){const R=document.createElement("br");R.setAttribute("role","presentation"),l(this,vn).append(R)}},Sm=function(t){var c;const{div:e,properties:s,ctx:r}=t,{style:a}=e;let u="";if(l(Ae,vr)>1&&(u=`scale(${1/l(Ae,vr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:d}=a,{canvasWidth:p,fontSize:g}=s;S(c=Ae,Nn,Em).call(c,r,g*l(this,mr),d);const{width:y}=r.measureText(e.textContent);y>0&&(u=`scaleX(${p*l(this,mr)/y}) ${u}`)}s.angle!==0&&(u=`rotate(${s.angle}deg) ${u}`),u.length>0&&(a.transform=u)},Nn=new WeakSet,jd=function(t=null){let e=l(this,Co).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,Co).set(t,e),l(this,Lc).set(e,{size:0,family:""})}return e},Em=function(t,e,s){const r=l(this,Lc).get(t);e===r.size&&s===r.family||(t.font=`${e}px ${s}`,r.size=e,r.family=s)},Ww=function(){if(l(this,vr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),w(this,vr,t.getBoundingClientRect().height),t.remove()},Vw=function(t,e){const s=l(this,bo).get(t);if(s)return s;const r=S(this,Nn,jd).call(this,e);r.canvas.width=r.canvas.height=pn,S(this,Nn,Em).call(this,r,pn,t);const a=r.measureText("");let u=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);if(u){const g=u/(u+c);return l(this,bo).set(t,g),r.canvas.width=r.canvas.height=0,g}r.strokeStyle="red",r.clearRect(0,0,pn,pn),r.strokeText("g",0,0);let d=r.getImageData(0,0,pn,pn).data;c=0;for(let g=d.length-1-3;g>=0;g-=4)if(d[g]>0){c=Math.ceil(g/4/pn);break}r.clearRect(0,0,pn,pn),r.strokeText("A",0,pn),d=r.getImageData(0,0,pn,pn).data,u=0;for(let g=0,y=d.length;g<y;g+=4)if(d[g]>0){u=pn-Math.floor(g/4/pn);break}r.canvas.width=r.canvas.height=0;const p=u?u/(u+c):_b;return l(this,bo).set(t,p),p},b(Ae,Nn),b(Ae,bo,new Map),b(Ae,Co,new Map),b(Ae,Lc,new WeakMap),b(Ae,vr,null),b(Ae,cl,new Set);let qu=Ae;class Yu{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function r(a){var d;if(!a)return;let u=null;const c=a.name;if(c==="#text")u=a.value;else if(Yu.shouldBuildText(c))(d=a==null?void 0:a.attributes)!=null&&d.textContent?u=a.attributes.textContent:a.value&&(u=a.value);else return;if(u!==null&&e.push({str:u}),!!a.children)for(const p of a.children)r(p)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const Sb=65536,Eb=100,bb=5e3,Cb=Ke?OE:FE,xb=Ke?zE:kw,kb=Ke?NE:DE,Tb=Ke?HE:Lw;function Rb(m={}){typeof m=="string"||m instanceof URL?m={url:m}:(m instanceof ArrayBuffer||ArrayBuffer.isView(m))&&(m={data:m});const t=new bm,{docId:e}=t,s=m.url?Pb(m.url):null,r=m.data?Lb(m.data):null,a=m.httpHeaders||null,u=m.withCredentials===!0,c=m.password??null,d=m.range instanceof Gw?m.range:null,p=Number.isInteger(m.rangeChunkSize)&&m.rangeChunkSize>0?m.rangeChunkSize:Sb;let g=m.worker instanceof ja?m.worker:null;const y=m.verbosity,A=typeof m.docBaseUrl=="string"&&!Of(m.docBaseUrl)?m.docBaseUrl:null,E=typeof m.cMapUrl=="string"?m.cMapUrl:null,C=m.cMapPacked!==!1,x=m.CMapReaderFactory||xb,R=typeof m.standardFontDataUrl=="string"?m.standardFontDataUrl:null,T=m.StandardFontDataFactory||Tb,F=m.stopAtErrors!==!0,N=Number.isInteger(m.maxImageSize)&&m.maxImageSize>-1?m.maxImageSize:-1,O=m.isEvalSupported!==!1,j=typeof m.isOffscreenCanvasSupported=="boolean"?m.isOffscreenCanvasSupported:!Ke,H=typeof m.isChrome=="boolean"?m.isChrome:!rn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),V=Number.isInteger(m.canvasMaxAreaInBytes)?m.canvasMaxAreaInBytes:-1,q=typeof m.disableFontFace=="boolean"?m.disableFontFace:Ke,st=m.fontExtraProperties===!0,pt=m.enableXfa===!0,ut=m.ownerDocument||globalThis.document,xt=m.disableRange===!0,vt=m.disableStream===!0,Et=m.disableAutoFetch===!0,kt=m.pdfBug===!0,Tt=m.CanvasFactory||Cb,J=m.FilterFactory||kb,U=m.enableHWA===!0,at=d?d.length:m.length??NaN,Q=typeof m.useSystemFonts=="boolean"?m.useSystemFonts:!Ke&&!q,M=typeof m.useWorkerFetch=="boolean"?m.useWorkerFetch:x===kw&&T===Lw&&E&&R&&Ru(E,document.baseURI)&&Ru(R,document.baseURI);m.canvasFactory&&LA("`canvasFactory`-instance option, please use `CanvasFactory` instead."),m.filterFactory&&LA("`filterFactory`-instance option, please use `FilterFactory` instead.");const B=null;hE(y);const ot={canvasFactory:new Tt({ownerDocument:ut,enableHWA:U}),filterFactory:new J({docId:e,ownerDocument:ut}),cMapReaderFactory:M?null:new x({baseUrl:E,isCompressed:C}),standardFontDataFactory:M?null:new T({baseUrl:R})};if(!g){const gt={verbosity:y,port:Rs.workerPort};g=gt.port?ja.fromPort(gt):new ja(gt),t._worker=g}const wt={docId:e,apiVersion:"4.8.69",data:r,password:c,disableAutoFetch:Et,rangeChunkSize:p,length:at,docBaseUrl:A,enableXfa:pt,evaluatorOptions:{maxImageSize:N,disableFontFace:q,ignoreErrors:F,isEvalSupported:O,isOffscreenCanvasSupported:j,isChrome:H,canvasMaxAreaInBytes:V,fontExtraProperties:st,useSystemFonts:Q,cMapUrl:M?E:null,standardFontDataUrl:M?R:null}},Pt={disableFontFace:q,fontExtraProperties:st,ownerDocument:ut,pdfBug:kt,styleElement:B,loadingParams:{disableAutoFetch:Et,enableXfa:pt}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const gt=g.messageHandler.sendWithPromise("GetDocRequest",wt,r?[r.buffer]:null);let ft;if(d)ft=new nb(d,{disableRange:xt,disableStream:vt});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Ft;Ke?Ft=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Ru(s)?$A:gb:Ft=Ru(s)?$A:cb,ft=new Ft({url:s,length:at,httpHeaders:a,withCredentials:u,rangeChunkSize:p,disableRange:xt,disableStream:vt})}return gt.then(Ft=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Wt=new Nu(e,Ft,g.port),Qe=new Db(Wt,t,ft,Pt,ot);t._transport=Qe,Wt.send("Ready",null)})}).catch(t._capability.reject),t}function Pb(m){if(m instanceof URL)return m.href;try{return new URL(m,window.location).href}catch{if(Ke&&typeof m=="string")return m}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Lb(m){if(Ke&&typeof Buffer<"u"&&m instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(m instanceof Uint8Array&&m.byteLength===m.buffer.byteLength)return m;if(typeof m=="string")return Df(m);if(m instanceof ArrayBuffer||ArrayBuffer.isView(m)||typeof m=="object"&&!isNaN(m==null?void 0:m.length))return new Uint8Array(m);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function WA(m){return typeof m=="object"&&Number.isInteger(m==null?void 0:m.num)&&m.num>=0&&Number.isInteger(m==null?void 0:m.gen)&&m.gen>=0}var Ef;const bf=class bf{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${tn(bf,Ef)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ef=new WeakMap,b(bf,Ef,0);let bm=bf;class Gw{constructor(t,e,s=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Qt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Mb{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Dt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var yr,ds,Yn,Na,Ud;class Ib{constructor(t,e,s,r=!1){b(this,Yn);b(this,yr,null);b(this,ds,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=r?new PA:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new Xw,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:a=!1}={}){return new hh({viewBox:this.view,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Dt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:r=nr.ENABLE,transform:a=null,background:u=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:y=!1}){var O,j;(O=this._stats)==null||O.time("Overall");const A=this._transport.getRenderingIntent(s,r,g,y),{renderingIntent:E,cacheKey:C}=A;w(this,ds,!1),S(this,Yn,Ud).call(this),c||(c=this._transport.getOptionalContentConfig(E));let x=this._intentStates.get(C);x||(x=Object.create(null),this._intentStates.set(C,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const R=!!(E&Fn.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(j=this._stats)==null||j.time("Page Request"),this._pumpOperatorList(A));const T=H=>{var V;x.renderTasks.delete(F),(this._maybeCleanupAfterRender||R)&&w(this,ds,!0),S(this,Yn,Na).call(this,!R),H?(F.capability.reject(H),this._abortOperatorList({intentState:x,reason:H instanceof Error?H:new Error(H)})):F.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(V=globalThis.Stats)!=null&&V.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},F=new xm({callback:T,params:{canvasContext:t,viewport:e,transform:a,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:p});(x.renderTasks||(x.renderTasks=new Set)).add(F);const N=F.task;return Promise.all([x.displayReadyCapability.promise,c]).then(([H,V])=>{var q;if(this.destroyed){T();return}if((q=this._stats)==null||q.time("Rendering"),!(V.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");F.initializeGraphics({transparency:H,optionalContentConfig:V}),F.operatorListChanged()}).catch(T),N}getOperatorList({intent:t="display",annotationMode:e=nr.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var p;function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const u=this._transport.getRenderingIntent(t,e,s,r,!0);let c=this._intentStates.get(u.cacheKey);c||(c=Object.create(null),this._intentStates.set(u.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(u)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Yu.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,r){function a(){u.read().then(function({value:d,done:p}){if(p){s(c);return}c.lang??(c.lang=d.lang),Object.assign(c.styles,d.styles),c.items.push(...d.items),a()},r)}const u=e.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),w(this,ds,!1),S(this,Yn,Ud).call(this),Promise.all(t)}cleanup(t=!1){w(this,ds,!0);const e=S(this,Yn,Na).call(this,!1);return t&&e&&this._stats&&(this._stats=new PA),e}_startRenderPage(t,e){var r,a;const s=this._intentStates.get(e);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(a=s.displayReadyCapability)==null||a.resolve(t))}_renderPageChunk(t,e){for(let s=0,r=t.length;s<r;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&S(this,Yn,Na).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:r}){const{map:a,transfer:u}=s,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:r},u).getReader(),p=this._intentStates.get(e);p.streamReader=d;const g=()=>{d.read().then(({value:y,done:A})=>{if(A){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),g())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const A of p.renderTasks)A.operatorListChanged();S(this,Yn,Na).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof cv){let r=Eb;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new sa(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,a]of this._intentStates)if(a===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}yr=new WeakMap,ds=new WeakMap,Yn=new WeakSet,Na=function(t=!1){if(S(this,Yn,Ud).call(this),!l(this,ds)||this.destroyed)return!1;if(t)return w(this,yr,setTimeout(()=>{w(this,yr,null),S(this,Yn,Na).call(this,!1)},bb)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,ds,!1),!0},Ud=function(){l(this,yr)&&(clearTimeout(l(this,yr)),w(this,yr,null))};var fs,Cf;class Fb{constructor(){b(this,fs,new Map);b(this,Cf,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};l(this,Cf).then(()=>{for(const[r]of l(this,fs))r.call(this,s)})}addEventListener(t,e,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:a}=s;if(a.aborted){Rt("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);r=()=>a.removeEventListener("abort",u),a.addEventListener("abort",u)}l(this,fs).set(e,r)}removeEventListener(t,e){const s=l(this,fs).get(e);s==null||s(),l(this,fs).delete(e)}terminate(){for(const[,t]of l(this,fs))t==null||t();l(this,fs).clear()}}fs=new WeakMap,Cf=new WeakMap;var xf,xo,ko,hl,$d,dl,Wd;const Jt=class Jt{constructor({name:t=null,port:e=null,verbosity:s=dE()}={}){b(this,hl);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=l(Jt,ko))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(l(Jt,ko)||w(Jt,ko,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Ke?Promise.all([Lr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Nu("main","worker",t),this._messageHandler.on("ready",function(){}),S(this,hl,$d).call(this)}_initialize(){if(l(Jt,xo)||l(Jt,dl,Wd)){this._setupFakeWorker();return}let{workerSrc:t}=Jt;try{Jt._isSameOrigin(window.location.href,t)||(t=Jt._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new Nu("main","worker",e),r=()=>{a.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:a.signal}),s.on("test",c=>{if(a.abort(),this.destroyed||!c){r();return}this._messageHandler=s,this._port=e,this._webWorker=e,S(this,hl,$d).call(this)}),s.on("ready",c=>{if(a.abort(),this.destroyed){r();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const c=new Uint8Array;s.send("test",c,[c.buffer])};u();return}catch{If("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){l(Jt,xo)||(Rt("Setting up fake worker."),w(Jt,xo,!0)),Jt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new Fb;this._port=e;const s=`fake${tn(Jt,xf)._++}`,r=new Nu(s+"_worker",s,e);t.setup(r,e),this._messageHandler=new Nu(s,s+"_worker",e),S(this,hl,$d).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=l(Jt,ko))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=l(this,ko))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Jt(t)}static get workerSrc(){if(Rs.workerSrc)return Rs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Dt(this,"_setupFakeWorkerGlobal",(async()=>l(this,dl,Wd)?l(this,dl,Wd):(await import(this.workerSrc)).WorkerMessageHandler)())}};xf=new WeakMap,xo=new WeakMap,ko=new WeakMap,hl=new WeakSet,$d=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},dl=new WeakSet,Wd=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},b(Jt,dl),b(Jt,xf,0),b(Jt,xo,!1),b(Jt,ko),Ke&&(w(Jt,xo,!0),Rs.workerSrc||(Rs.workerSrc="./pdf.worker.mjs")),Jt._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(e,s);return s.origin===r.origin},Jt._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let ja=Jt;var ps,zi,fl,pl,Hi,To,Ou;class Db{constructor(t,e,s,r,a){b(this,To);b(this,ps,new Map);b(this,zi,new Map);b(this,fl,new Map);b(this,pl,new Map);b(this,Hi,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Xw,this.fontLoader=new ME({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Dt(this,"annotationStorage",new pv)}getRenderingIntent(t,e=nr.ENABLE,s=null,r=!1,a=!1){let u=Fn.DISPLAY,c=fm;switch(t){case"any":u=Fn.ANY;break;case"display":break;case"print":u=Fn.PRINT;break;default:Rt(`getRenderingIntent - invalid intent: ${t}`)}const d=u&Fn.PRINT&&s instanceof bw?s:this.annotationStorage;switch(e){case nr.DISABLE:u+=Fn.ANNOTATIONS_DISABLE;break;case nr.ENABLE:break;case nr.ENABLE_FORMS:u+=Fn.ANNOTATIONS_FORMS;break;case nr.ENABLE_STORAGE:u+=Fn.ANNOTATIONS_STORAGE,c=d.serializable;break;default:Rt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(u+=Fn.IS_EDITING),a&&(u+=Fn.OPLIST);const{ids:p,hash:g}=d.modifiedIds,y=[u,c.hash,g];return{renderingIntent:u,cacheKey:y.join("_"),annotationStorageSerializable:c,modifiedIds:p}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=l(this,Hi))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of l(this,zi).values())t.push(r._destroy());l(this,zi).clear(),l(this,fl).clear(),l(this,pl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),l(this,ps).clear(),this.filterFactory.destroy(),qu.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new sa("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,r)=>{Ee(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},r.onPull=()=>{this._fullReader.read().then(function({value:a,done:u}){if(u){r.close();return}Ee(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{this._fullReader.cancel(a),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async s=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:a,contentLength:u}=this._fullReader;return(!r||!a)&&(this._lastProgress&&((c=e.onProgress)==null||c.call(e,this._lastProgress)),this._fullReader.onProgress=d=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:r,isRangeSupported:a,contentLength:u}}),t.on("GetRangeReader",(s,r)=>{Ee(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(s.begin,s.end);if(!a){r.close();return}r.onPull=()=>{a.read().then(function({value:u,done:c}){if(c){r.close();return}Ee(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{r.error(u)})},r.onCancel=u=>{a.cancel(u),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new Mb(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new Vg(s.message,s.code);break;case"InvalidPDFException":r=new KA(s.message);break;case"MissingPDFException":r=new ia(s.message);break;case"UnexpectedResponseException":r=new Ff(s.message,s.status);break;case"UnknownErrorException":r=new Gg(s.message,s.details);break;default:Qt("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",s=>{if(w(this,Hi,Promise.withResolvers()),e.onPassword){const r=a=>{a instanceof Error?l(this,Hi).reject(a):l(this,Hi).resolve({password:a})};try{e.onPassword(r,s.code)}catch(a){l(this,Hi).reject(a)}}else l(this,Hi).reject(new Vg(s.message,s.code));return l(this,Hi).promise}),t.on("DataLoaded",s=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;l(this,zi).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,a])=>{var u;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:c,fontExtraProperties:d,pdfBug:p}=this._params;if("error"in a){const E=a.error;Rt(`Error during font loading: ${E}`),this.commonObjs.resolve(s,E);break}const g=p&&((u=globalThis.FontInspector)!=null&&u.enabled)?(E,C)=>globalThis.FontInspector.fontAdded(E,C):null,y=new IE(a,{disableFontFace:c,inspectFont:g});this.fontLoader.bind(y).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!d&&y.data&&(y.data=null),this.commonObjs.resolve(s,y)});break;case"CopyLocalImage":const{imageRef:A}=a;Ee(A,"The imageRef must be defined.");for(const E of l(this,zi).values())for(const[,C]of E.objs)if((C==null?void 0:C.ref)===A)return C.dataLen?(this.commonObjs.resolve(s,structuredClone(C)),C.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,a);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,a,u])=>{var d;if(this.destroyed)return;const c=l(this,zi).get(r);if(!c.objs.has(s)){if(c._intentStates.size===0){(d=u==null?void 0:u.bitmap)==null||d.close();return}switch(a){case"Image":c.objs.resolve(s,u),(u==null?void 0:u.dataLen)>aE&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(s,u);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Rt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=l(this,fl).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&l(this,pl).set(a.refStr,t);const u=new Ib(e,a,this,this._params.pdfBug);return l(this,zi).set(e,u),u});return l(this,fl).set(e,r),r}getPageIndex(t){return WA(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return S(this,To,Ou).call(this,"GetFieldObjects")}hasJSActions(){return S(this,To,Ou).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return S(this,To,Ou).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return S(this,To,Ou).call(this,"GetOptionalContentConfig").then(e=>new eb(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=l(this,ps).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var a,u;return{info:r[0],metadata:r[1]?new JE(r[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return l(this,ps).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of l(this,zi).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),l(this,ps).clear(),this.filterFactory.destroy(!0),qu.cleanup()}}cachedPageNumber(t){if(!WA(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return l(this,pl).get(e)??null}}ps=new WeakMap,zi=new WeakMap,fl=new WeakMap,pl=new WeakMap,Hi=new WeakMap,To=new WeakSet,Ou=function(t,e=null){const s=l(this,ps).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,e);return l(this,ps).set(t,r),r};const Rd=Symbol("INITIAL_DATA");var fi,Mc,Cm;class Xw{constructor(){b(this,Mc);b(this,fi,Object.create(null))}get(t,e=null){if(e){const r=S(this,Mc,Cm).call(this,t);return r.promise.then(()=>e(r.data)),null}const s=l(this,fi)[t];if(!s||s.data===Rd)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=l(this,fi)[t];return!!e&&e.data!==Rd}resolve(t,e=null){const s=S(this,Mc,Cm).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in l(this,fi)){const{data:s}=l(this,fi)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}w(this,fi,Object.create(null))}*[Symbol.iterator](){for(const t in l(this,fi)){const{data:e}=l(this,fi)[t];e!==Rd&&(yield[t,e])}}}fi=new WeakMap,Mc=new WeakSet,Cm=function(t){var e;return(e=l(this,fi))[t]||(e[t]={...Promise.withResolvers(),data:Rd})};var Ar;class Nb{constructor(t){b(this,Ar,null);w(this,Ar,t),this.onContinue=null}get promise(){return l(this,Ar).capability.promise}cancel(t=0){l(this,Ar).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=l(this,Ar).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=l(this,Ar);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Ar=new WeakMap;var wr,Ro;const Jr=class Jr{constructor({callback:t,params:e,objs:s,commonObjs:r,annotationCanvasMap:a,operatorList:u,pageIndex:c,canvasFactory:d,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:A=null}){b(this,wr,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=p,this._pdfBug=y,this.pageColors=A,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Nb(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,d;if(this.cancelled)return;if(this._canvas){if(l(Jr,Ro).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(Jr,Ro).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:a,background:u}=this.params;this.gfx=new Ba(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:r,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),l(this,wr)&&(window.cancelAnimationFrame(l(this,wr)),w(this,wr,null)),l(Jr,Ro).delete(this._canvas),this.callback(t||new cv(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?w(this,wr,window.requestAnimationFrame(()=>{w(this,wr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(Jr,Ro).delete(this._canvas),this.callback())))}};wr=new WeakMap,Ro=new WeakMap,b(Jr,Ro,new WeakSet);let xm=Jr;const Ob="4.8.69",zb="3634dab10";function VA(m){return Math.floor(Math.max(0,Math.min(1,m))*255).toString(16).padStart(2,"0")}function Tu(m){return Math.max(0,Math.min(255,255*m))}class GA{static CMYK_G([t,e,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Tu(t),[t,t,t]}static G_HTML([t]){const e=VA(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(Tu)}static RGB_HTML(t){return`#${t.map(VA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,s,r]){return[Tu(1-Math.min(1,t+r)),Tu(1-Math.min(1,s+r)),Tu(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const r=1-t,a=1-e,u=1-s,c=Math.min(r,a,u);return["CMYK",r,a,u,c]}}class Hb{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Qt("Abstract method `_createSVG` called.")}}class Av extends Hb{_createSVG(t){return document.createElementNS(ns,t)}}class qw{static setupStorage(t,e,s,r,a){const u=r.getValue(e,{value:null});switch(s.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),a==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(u.value===s.attributes.xfaOn?t.setAttribute("checked",!0):u.value===s.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",c=>{r.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),a==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const c of s.children)c.attributes.value===u.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const d=c.target.options,p=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:r,linkService:a}){const{attributes:u}=e,c=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${r}`);for(const[d,p]of Object.entries(u))if(p!=null)switch(d){case"class":p.length&&t.setAttribute(d,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!c||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,p)}c&&a.addLinkAttributes(t,u.href,u.newWindow),s&&u.dataId&&this.setupStorage(t,u.dataId,e,s)}static render(t){var y,A;const e=t.annotationStorage,s=t.linkService,r=t.xfaHtml,a=t.intent||"display",u=document.createElement(r.name);r.attributes&&this.setAttributes({html:u,element:r,intent:a,linkService:s});const c=a!=="richText",d=t.div;if(d.append(u),t.viewport){const E=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=E}c&&d.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const E=document.createTextNode(r.value);u.append(E),c&&Yu.shouldBuildText(r.name)&&p.push(E)}return{textDivs:p}}const g=[[r,-1,u]];for(;g.length>0;){const[E,C,x]=g.at(-1);if(C+1===E.children.length){g.pop();continue}const R=E.children[++g.at(-1)[1]];if(R===null)continue;const{name:T}=R;if(T==="#text"){const N=document.createTextNode(R.value);p.push(N),x.append(N);continue}const F=(y=R==null?void 0:R.attributes)!=null&&y.xmlns?document.createElementNS(R.attributes.xmlns,T):document.createElement(T);if(x.append(F),R.attributes&&this.setAttributes({html:F,element:R,storage:e,intent:a,linkService:s}),((A=R.children)==null?void 0:A.length)>0)g.push([R,-1,F]);else if(R.value){const N=document.createTextNode(R.value);c&&Yu.shouldBuildText(T)&&p.push(N),F.append(N)}}for(const E of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))E.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const fh=1e3,Bb=9,ta=new WeakSet;function Ps(m){return{width:m[2]-m[0],height:m[3]-m[1]}}class jb{static create(t){switch(t.data.annotationType){case ye.LINK:return new Yw(t);case ye.TEXT:return new Ub(t);case ye.WIDGET:switch(t.data.fieldType){case"Tx":return new $b(t);case"Btn":return t.data.radioButton?new Zw(t):t.data.checkBox?new Vb(t):new Gb(t);case"Ch":return new Xb(t);case"Sig":return new Wb(t)}return new ra(t);case ye.POPUP:return new Tm(t);case ye.FREETEXT:return new i1(t);case ye.LINE:return new Yb(t);case ye.SQUARE:return new Kb(t);case ye.CIRCLE:return new Qb(t);case ye.POLYLINE:return new s1(t);case ye.CARET:return new Jb(t);case ye.INK:return new wv(t);case ye.POLYGON:return new Zb(t);case ye.HIGHLIGHT:return new r1(t);case ye.UNDERLINE:return new tC(t);case ye.SQUIGGLY:return new eC(t);case ye.STRIKEOUT:return new nC(t);case ye.STAMP:return new o1(t);case ye.FILEATTACHMENT:return new iC(t);default:return new he(t)}}}var Po,gl,ml,Ic,km;const Ev=class Ev{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){b(this,Ic);b(this,Po,null);b(this,gl,!1);b(this,ml,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ev._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;l(this,Po)||w(this,Po,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&S(this,Ic,km).call(this,e),(s=l(this,ml))==null||s.popup.updateEdited(t)}resetEdited(){var t;l(this,Po)&&(S(this,Ic,km).call(this,l(this,Po).rect),(t=l(this,ml))==null||t.popup.resetEdited(),w(this,Po,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:r}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof ra||(a.tabIndex=fh);const{style:u}=a;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof Tm){const{rotation:x}=e;return!e.hasOwnCanvas&&x!==0&&this.setRotation(x,a),a}const{width:c,height:d}=Ps(e.rect);if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const x=e.borderStyle.horizontalCornerRadius,R=e.borderStyle.verticalCornerRadius;if(x>0||R>0){const F=`calc(${x}px * var(--scale-factor)) / calc(${R}px * var(--scale-factor))`;u.borderRadius=F}else if(this instanceof Zw){const F=`calc(${c}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`;u.borderRadius=F}switch(e.borderStyle.style){case xu.SOLID:u.borderStyle="solid";break;case xu.DASHED:u.borderStyle="dashed";break;case xu.BEVELED:Rt("Unimplemented border style: beveled");break;case xu.INSET:Rt("Unimplemented border style: inset");break;case xu.UNDERLINE:u.borderBottomStyle="solid";break}const T=e.borderColor||null;T?(w(this,gl,!0),u.borderColor=lt.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):u.borderWidth=0}const p=lt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:g,pageHeight:y,pageX:A,pageY:E}=r.rawDims;u.left=`${100*(p[0]-A)/g}%`,u.top=`${100*(p[1]-E)/y}%`;const{rotation:C}=e;return e.hasOwnCanvas||C===0?(u.width=`${100*c/g}%`,u.height=`${100*d/y}%`):this.setRotation(C,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:a,height:u}=Ps(this.data.rect);let c,d;t%180===0?(c=100*a/s,d=100*u/r):(c=100*u/s,d=100*a/r),e.style.width=`${c}%`,e.style.height=`${d}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,r)=>{const a=r.detail[e],u=a[0],c=a.slice(1);r.target.style[s]=GA[`${u}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[s]:GA[`${u}_rgb`](c)})};return Dt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const r of Object.keys(e.detail)){const a=t[r]||s[r];a==null||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[r,a]of Object.entries(e)){const u=s[r];if(u){const c={detail:{[r]:a},target:t};u(c),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,r,a]=this.data.rect.map(x=>Math.fround(x));if(t.length===8){const[x,R,T,F]=t.subarray(2,6);if(r===x&&a===R&&e===T&&s===F)return}const{style:u}=this.container;let c;if(l(this,gl)){const{borderColor:x,borderWidth:R}=u;u.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${R}">`],this.container.classList.add("hasBorder")}const d=r-e,p=a-s,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const A=g.createElement("defs");y.append(A);const E=g.createElement("clipPath"),C=`clippath_${this.data.id}`;E.setAttribute("id",C),E.setAttribute("clipPathUnits","objectBoundingBox"),A.append(E);for(let x=2,R=t.length;x<R;x+=8){const T=t[x],F=t[x+1],N=t[x+2],O=t[x+3],j=g.createElement("rect"),H=(N-e)/d,V=(a-F)/p,q=(T-N)/d,st=(F-O)/p;j.setAttribute("x",H),j.setAttribute("y",V),j.setAttribute("width",q),j.setAttribute("height",st),E.append(j),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${H}" y="${V}" width="${q}" height="${st}"/>`)}l(this,gl)&&(c.push("</g></svg>')"),u.backgroundImage=c.join("")),this.container.append(y),this.container.style.clipPath=`url(#${C})`}_createPopup(){const{data:t}=this,e=w(this,ml,new Tm({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Qt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:a,id:u,exportValues:c}of r){if(a===-1||u===e)continue;const d=typeof c=="string"?c:null,p=document.querySelector(`[data-element-id="${u}"]`);if(p&&!ta.has(p)){Rt(`_getElementsByName - element not allowed: ${u}`);continue}s.push({id:u,exportValue:d,domElement:p})}return s}for(const r of document.getElementsByName(t)){const{exportValue:a}=r,u=r.getAttribute("data-element-id");u!==e&&ta.has(r)&&s.push({id:u,exportValue:a,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Po=new WeakMap,gl=new WeakMap,ml=new WeakMap,Ic=new WeakSet,km=function(t){const{container:{style:e},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:u,pageX:c,pageY:d}}}}=this;s==null||s.splice(0,4,...t);const{width:p,height:g}=Ps(t);e.left=`${100*(t[0]-c)/a}%`,e.top=`${100*(u-t[3]+d)/u}%`,r===0?(e.width=`${100*p/a}%`,e.height=`${100*g/u}%`):this.setRotation(r)};let he=Ev;var Dn,qr,Kw,Qw;class Yw extends he{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});b(this,Dn);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let a=!1;return e.url?(s.addLinkAttributes(r,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(r,e.action),a=!0):e.attachment?(S(this,Dn,Kw).call(this,r,e.attachment,e.attachmentDest),a=!0):e.setOCGState?(S(this,Dn,Qw).call(this,r,e.setOCGState),a=!0):e.dest?(this._bindLink(r,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),a=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(r,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(r),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&S(this,Dn,qr).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),S(this,Dn,qr).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(s.actions)){const u=r.get(a);u&&(e[u]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:a}}),!1})}e.onclick||(e.onclick=()=>!1),S(this,Dn,qr).call(this)}_bindResetFormAction(e,s){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),S(this,Dn,qr).call(this),!this._fieldObjects){Rt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var y;r==null||r();const{fields:a,refs:u,include:c}=s,d=[];if(a.length!==0||u.length!==0){const A=new Set(u);for(const E of a){const C=this._fieldObjects[E]||[];for(const{id:x}of C)A.add(x)}for(const E of Object.values(this._fieldObjects))for(const C of E)A.has(C.id)===c&&d.push(C)}else for(const A of Object.values(this._fieldObjects))d.push(...A);const p=this.annotationStorage,g=[];for(const A of d){const{id:E}=A;switch(g.push(E),A.type){case"text":{const x=A.defaultValue||"";p.setValue(E,{value:x});break}case"checkbox":case"radiobutton":{const x=A.defaultValue===A.exportValues;p.setValue(E,{value:x});break}case"combobox":case"listbox":{const x=A.defaultValue||"";p.setValue(E,{value:x});break}default:continue}const C=document.querySelector(`[data-element-id="${E}"]`);if(C){if(!ta.has(C)){Rt(`_bindResetFormAction - element not allowed: ${E}`);continue}}else continue;C.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}Dn=new WeakSet,qr=function(){this.container.setAttribute("data-internal-link","")},Kw=function(e,s,r=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(s.content,s.filename,r),!1},S(this,Dn,qr).call(this)},Qw=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),S(this,Dn,qr).call(this)};class Ub extends he{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class ra extends he{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return rn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,r,a){s.includes("mouse")?t.addEventListener(s,u=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(s,u=>{var c;if(s==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}a&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(u)}}))})}_setEventListeners(t,e,s,r){var a,u,c;for(const[d,p]of s)(p==="Action"||(a=this.data.actions)!=null&&a[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,d,p,r),p==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":lt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Bb,a=t.style;let u;const c=2,d=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-c),g=Math.round(p/(zg*r))||1,y=p/g;u=Math.min(r,d(y/zg))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-c);u=Math.min(r,d(p/zg))}a.fontSize=`calc(${u}px * var(--scale-factor))`,a.color=lt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class $b extends ra{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,r){const a=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=s),a.setValue(u.id,{[r]:s})}render(){var r,a;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const u=t.getValue(e,{value:this.data.fieldValue});let c=u.value||"";const d=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;d&&c.length>d&&(c=c.slice(0,d));let p=u.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:c,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=p??c,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",p??c),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),ta.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=fh,this._setRequired(s,this.data.required),d&&(s.maxLength=d),s.addEventListener("input",A=>{t.setValue(e,{value:A.target.value}),this.setPropertyOnSiblings(s,"value",A.target.value,"value"),g.formattedValue=null}),s.addEventListener("resetform",A=>{const E=this.data.defaultFieldValue??"";s.value=g.userValue=E,g.formattedValue=null});let y=A=>{const{formattedValue:E}=g;E!=null&&(A.target.value=E),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",E=>{var x;if(g.focused)return;const{target:C}=E;g.userValue&&(C.value=g.userValue),g.lastCommittedValue=C.value,g.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(g.focused=!0)}),s.addEventListener("updatefromsandbox",E=>{this.showElementAndHideCanvas(E.target);const C={value(x){g.userValue=x.detail.value??"",t.setValue(e,{value:g.userValue.toString()}),x.target.value=g.userValue},formattedValue(x){const{formattedValue:R}=x.detail;g.formattedValue=R,R!=null&&x.target!==document.activeElement&&(x.target.value=R),t.setValue(e,{formattedValue:R})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var N;const{charLimit:R}=x.detail,{target:T}=x;if(R===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",R);let F=g.userValue;!F||F.length<=R||(F=F.slice(0,R),T.value=g.userValue=F,t.setValue(e,{value:F}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:F,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(C,E)}),s.addEventListener("keydown",E=>{var R;g.commitKey=1;let C=-1;if(E.key==="Escape"?C=0:E.key==="Enter"&&!this.data.multiLine?C=2:E.key==="Tab"&&(g.commitKey=3),C===-1)return;const{value:x}=E.target;g.lastCommittedValue!==x&&(g.lastCommittedValue=x,g.userValue=x,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:C,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}}))});const A=y;y=null,s.addEventListener("blur",E=>{var x,R;if(!g.focused||!E.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(g.focused=!1);const{value:C}=E.target;g.userValue=C,g.lastCommittedValue!==C&&((R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,willCommit:!0,commitKey:g.commitKey,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}})),A(E)}),(a=this.data.actions)!=null&&a.Keystroke&&s.addEventListener("beforeinput",E=>{var j;g.lastCommittedValue=null;const{data:C,target:x}=E,{value:R,selectionStart:T,selectionEnd:F}=x;let N=T,O=F;switch(E.inputType){case"deleteWordBackward":{const H=R.substring(0,T).match(/\w*[^\w]*$/);H&&(N-=H[0].length);break}case"deleteWordForward":{const H=R.substring(T).match(/^[^\w]*\w*/);H&&(O+=H[0].length);break}case"deleteContentBackward":T===F&&(N-=1);break;case"deleteContentForward":T===F&&(O+=1);break}E.preventDefault(),(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:R,change:C||"",willCommit:!1,selStart:N,selEnd:O}})}),this._setEventListeners(s,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.value)}if(y&&s.addEventListener("blur",y),this.data.comb){const E=(this.data.rect[2]-this.data.rect[0])/d;s.classList.add("comb"),s.style.letterSpacing=`calc(${E}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Wb extends ra{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Vb extends ra{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return ta.add(a),a.setAttribute("data-element-id",s),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,r&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=fh,a.addEventListener("change",u=>{const{name:c,checked:d}=u.target;for(const p of this._getElementsByName(c,s)){const g=d&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}t.setValue(s,{value:d})}),a.addEventListener("resetform",u=>{const c=e.defaultFieldValue||"Off";u.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",u=>{const c={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(s,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,u)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Zw extends ra{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(s,{value:r})),r)for(const u of this._getElementsByName(e.fieldName,s))t.setValue(u.id,{value:!1});const a=document.createElement("input");if(ta.add(a),a.setAttribute("data-element-id",s),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,r&&a.setAttribute("checked",!0),a.tabIndex=fh,a.addEventListener("change",u=>{const{name:c,checked:d}=u.target;for(const p of this._getElementsByName(c,s))t.setValue(p.id,{value:!1});t.setValue(s,{value:d})}),a.addEventListener("resetform",u=>{const c=e.defaultFieldValue;u.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;a.addEventListener("updatefromsandbox",c=>{const d={value:p=>{const g=u===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const A=g&&y.id===s;y.domElement&&(y.domElement.checked=A),t.setValue(y.id,{value:A})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Gb extends Yw{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class Xb extends ra{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");ta.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=fh;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const A of r.options)A.selected=A.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,s.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),a=!1),r.append(y)}let u=null;if(a){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),r.prepend(g),u=()=>{g.remove(),r.removeEventListener("input",u),u=null},r.addEventListener("input",u)}const c=g=>{const y=g?"value":"textContent",{options:A,multiple:E}=r;return E?Array.prototype.filter.call(A,C=>C.selected).map(C=>C[y]):A.selectedIndex===-1?null:A[A.selectedIndex][y]};let d=c(!1);const p=g=>{const y=g.target.options;return Array.prototype.map.call(y,A=>({displayValue:A.textContent,exportValue:A.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",g=>{const y={value(A){u==null||u();const E=A.detail.value,C=new Set(Array.isArray(E)?E:[E]);for(const x of r.options)x.selected=C.has(x.value);t.setValue(e,{value:c(!0)}),d=c(!1)},multipleSelection(A){r.multiple=!0},remove(A){const E=r.options,C=A.detail.remove;E[C].selected=!1,r.remove(C),E.length>0&&Array.prototype.findIndex.call(E,R=>R.selected)===-1&&(E[0].selected=!0),t.setValue(e,{value:c(!0),items:p(A)}),d=c(!1)},clear(A){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=c(!1)},insert(A){const{index:E,displayValue:C,exportValue:x}=A.detail.insert,R=r.children[E],T=document.createElement("option");T.textContent=C,T.value=x,R?R.before(T):r.append(T),t.setValue(e,{value:c(!0),items:p(A)}),d=c(!1)},items(A){const{items:E}=A.detail;for(;r.length!==0;)r.remove(0);for(const C of E){const{displayValue:x,exportValue:R}=C,T=document.createElement("option");T.textContent=x,T.value=R,r.append(T)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:c(!0),items:p(A)}),d=c(!1)},indices(A){const E=new Set(A.detail.indices);for(const C of A.target.options)C.selected=E.has(C.index);t.setValue(e,{value:c(!0)}),d=c(!1)},editable(A){A.target.disabled=!A.detail.editable}};this._dispatchEventFromSandbox(y,g)}),r.addEventListener("input",g=>{var E;const y=c(!0),A=c(!1);t.setValue(e,{value:y}),g.preventDefault(),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:A,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):r.addEventListener("input",function(g){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Tm extends he{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:he._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new qb({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${uv}${s}`).join(",")),this.container}}var vl,kf,Tf,yl,Lo,ae,gs,Al,Fc,Dc,wl,ms,pi,vs,Nc,ys,Oc,Mo,Io,Gt,Vd,Rm,Jw,t1,e1,n1,Gd,Xd,Pm;class qb{constructor({container:t,color:e,elements:s,titleObj:r,modificationDate:a,contentsObj:u,richText:c,parent:d,rect:p,parentRect:g,open:y}){b(this,Gt);b(this,vl,S(this,Gt,e1).bind(this));b(this,kf,S(this,Gt,Pm).bind(this));b(this,Tf,S(this,Gt,Xd).bind(this));b(this,yl,S(this,Gt,Gd).bind(this));b(this,Lo,null);b(this,ae,null);b(this,gs,null);b(this,Al,null);b(this,Fc,null);b(this,Dc,null);b(this,wl,null);b(this,ms,!1);b(this,pi,null);b(this,vs,null);b(this,Nc,null);b(this,ys,null);b(this,Oc,null);b(this,Mo,null);b(this,Io,!1);var A;w(this,ae,t),w(this,Oc,r),w(this,gs,u),w(this,ys,c),w(this,Dc,d),w(this,Lo,e),w(this,Nc,p),w(this,wl,g),w(this,Fc,s),w(this,Al,dv.toDateObject(a)),this.trigger=s.flatMap(E=>E.getElementsToTriggerPopup());for(const E of this.trigger)E.addEventListener("click",l(this,yl)),E.addEventListener("mouseenter",l(this,Tf)),E.addEventListener("mouseleave",l(this,kf)),E.classList.add("popupTriggerArea");for(const E of s)(A=E.container)==null||A.addEventListener("keydown",l(this,vl));l(this,ae).hidden=!0,y&&S(this,Gt,Gd).call(this)}render(){if(l(this,pi))return;const t=w(this,pi,document.createElement("div"));if(t.className="popup",l(this,Lo)){const a=t.style.outlineColor=lt.makeHexColor(...l(this,Lo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:t.style.backgroundColor=lt.makeHexColor(...l(this,Lo).map(c=>Math.floor(.7*(255-c)+c)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=l(this,Oc),t.append(e),l(this,Al)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,Al).valueOf()})),e.append(a)}const r=l(this,Gt,Vd);if(r)qw.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(l(this,gs));t.append(a)}l(this,ae).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let a=0,u=r.length;a<u;++a){const c=r[a];s.append(document.createTextNode(c)),a<u-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;l(this,Mo)||w(this,Mo,{contentsObj:l(this,gs),richText:l(this,ys)}),t&&w(this,vs,null),e&&(w(this,ys,S(this,Gt,t1).call(this,e)),w(this,gs,null)),(s=l(this,pi))==null||s.remove(),w(this,pi,null)}resetEdited(){var t;l(this,Mo)&&({contentsObj:tn(this,gs)._,richText:tn(this,ys)._}=l(this,Mo),w(this,Mo,null),(t=l(this,pi))==null||t.remove(),w(this,pi,null),w(this,vs,null))}forceHide(){w(this,Io,this.isVisible),l(this,Io)&&(l(this,ae).hidden=!0)}maybeShow(){l(this,Io)&&(l(this,pi)||S(this,Gt,Xd).call(this),w(this,Io,!1),l(this,ae).hidden=!1)}get isVisible(){return l(this,ae).hidden===!1}}vl=new WeakMap,kf=new WeakMap,Tf=new WeakMap,yl=new WeakMap,Lo=new WeakMap,ae=new WeakMap,gs=new WeakMap,Al=new WeakMap,Fc=new WeakMap,Dc=new WeakMap,wl=new WeakMap,ms=new WeakMap,pi=new WeakMap,vs=new WeakMap,Nc=new WeakMap,ys=new WeakMap,Oc=new WeakMap,Mo=new WeakMap,Io=new WeakMap,Gt=new WeakSet,Vd=function(){const t=l(this,ys),e=l(this,gs);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&l(this,ys).html||null},Rm=function(){var t,e,s;return((s=(e=(t=l(this,Gt,Vd))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},Jw=function(){var t,e,s;return((s=(e=(t=l(this,Gt,Vd))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},t1=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:l(this,Gt,Jw),fontSize:l(this,Gt,Rm)?`calc(${l(this,Gt,Rm)}px * var(--scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:r});return s},e1=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&l(this,ms))&&S(this,Gt,Gd).call(this)},n1=function(){if(l(this,vs)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:r,pageY:a}}}=l(this,Dc);let u=!!l(this,wl),c=u?l(this,wl):l(this,Nc);for(const C of l(this,Fc))if(!c||lt.intersect(C.data.rect,c)!==null){c=C.data.rect,u=!0;break}const d=lt.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),g=u?c[2]-c[0]+5:0,y=d[0]+g,A=d[1];w(this,vs,[100*(y-r)/e,100*(A-a)/s]);const{style:E}=l(this,ae);E.left=`${l(this,vs)[0]}%`,E.top=`${l(this,vs)[1]}%`},Gd=function(){w(this,ms,!l(this,ms)),l(this,ms)?(S(this,Gt,Xd).call(this),l(this,ae).addEventListener("click",l(this,yl)),l(this,ae).addEventListener("keydown",l(this,vl))):(S(this,Gt,Pm).call(this),l(this,ae).removeEventListener("click",l(this,yl)),l(this,ae).removeEventListener("keydown",l(this,vl)))},Xd=function(){l(this,pi)||this.render(),this.isVisible?l(this,ms)&&l(this,ae).classList.add("focused"):(S(this,Gt,n1).call(this),l(this,ae).hidden=!1,l(this,ae).style.zIndex=parseInt(l(this,ae).style.zIndex)+1e3)},Pm=function(){l(this,ae).classList.remove("focused"),!(l(this,ms)||!this.isVisible)&&(l(this,ae).hidden=!0,l(this,ae).style.zIndex=parseInt(l(this,ae).style.zIndex)-1e3)};class i1 extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=bt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var zc;class Yb extends he{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});b(this,zc,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:r}=Ps(e.rect),a=this.svgFactory.create(s,r,!0),u=w(this,zc,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),u.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),u.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),u.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),u.setAttribute("stroke-width",e.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),a.append(u),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,zc)}addHighlightArea(){this.container.classList.add("highlightArea")}}zc=new WeakMap;var Hc;class Kb extends he{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});b(this,Hc,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:r}=Ps(e.rect),a=this.svgFactory.create(s,r,!0),u=e.borderStyle.width,c=w(this,Hc,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",u/2),c.setAttribute("y",u/2),c.setAttribute("width",s-u),c.setAttribute("height",r-u),c.setAttribute("stroke-width",u||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Hc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hc=new WeakMap;var Bc;class Qb extends he{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});b(this,Bc,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:r}=Ps(e.rect),a=this.svgFactory.create(s,r,!0),u=e.borderStyle.width,c=w(this,Bc,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",s/2),c.setAttribute("cy",r/2),c.setAttribute("rx",s/2-u/2),c.setAttribute("ry",r/2-u/2),c.setAttribute("stroke-width",u||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Bc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bc=new WeakMap;var jc;class s1 extends he{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});b(this,jc,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:r,popupRef:a}}=this;if(!s)return this.container;const{width:u,height:c}=Ps(e),d=this.svgFactory.create(u,c,!0);let p=[];for(let y=0,A=s.length;y<A;y+=2){const E=s[y]-e[0],C=e[3]-s[y+1];p.push(`${E},${C}`)}p=p.join(" ");const g=w(this,jc,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),d.append(g),this.container.append(d),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,jc)}addHighlightArea(){this.container.classList.add("highlightArea")}}jc=new WeakMap;class Zb extends s1{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Jb extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Uc;class wv extends he{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});b(this,Uc,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?bt.HIGHLIGHT:bt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:s,borderStyle:r,popupRef:a}}=this,{width:u,height:c}=Ps(e),d=this.svgFactory.create(u,c,!0);for(const p of s){let g=[];for(let A=0,E=p.length;A<E;A+=2){const C=p[A]-e[0],x=e[3]-p[A+1];g.push(`${C},${x}`)}g=g.join(" ");const y=this.svgFactory.createElement(this.svgElementName);l(this,Uc).push(y),y.setAttribute("points",g),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),d.append(y)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return l(this,Uc)}addHighlightArea(){this.container.classList.add("highlightArea")}}Uc=new WeakMap;class r1 extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=bt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class tC extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class eC extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class nC extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class o1 extends he{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=bt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var $c,Wc,Lm;class iC extends he{constructor(e){var r;super(e,{isRenderable:!0});b(this,Wc);b(this,$c,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",S(this,Wc,Lm).bind(this)),w(this,$c,r);const{isMac:a}=rn.platform;return e.addEventListener("keydown",u=>{u.key==="Enter"&&(a?u.metaKey:u.ctrlKey)&&S(this,Wc,Lm).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return l(this,$c)}addHighlightArea(){this.container.classList.add("highlightArea")}}$c=new WeakMap,Wc=new WeakSet,Lm=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Vc,Fo,Do,Gc,ea,a1,Mm;class sC{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:r,page:a,viewport:u,structTreeLayer:c}){b(this,ea);b(this,Vc,null);b(this,Fo,null);b(this,Do,new Map);b(this,Gc,null);this.div=t,w(this,Vc,e),w(this,Fo,s),w(this,Gc,c||null),this.page=a,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return l(this,Do).size>0}async render(t){var u;const{annotations:e}=t,s=this.div;Zo(s,this.viewport);const r=new Map,a={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Av,annotationStorage:t.annotationStorage||new pv,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const d=c.annotationType===ye.POPUP;if(d){const y=r.get(c.id);if(!y)continue;a.elements=y}else{const{width:y,height:A}=Ps(c.rect);if(y<=0||A<=0)continue}a.data=c;const p=jb.create(a);if(!p.isRenderable)continue;if(!d&&c.popupRef){const y=r.get(c.popupRef);y?y.push(p):r.set(c.popupRef,[p])}const g=p.render();c.hidden&&(g.style.visibility="hidden"),await S(this,ea,a1).call(this,g,c.id),p._isEditable&&(l(this,Do).set(p.data.id,p),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(p))}S(this,ea,Mm).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Zo(e,{rotation:t.rotation}),S(this,ea,Mm).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(l(this,Do).values())}getEditableAnnotation(t){return l(this,Do).get(t)}}Vc=new WeakMap,Fo=new WeakMap,Do=new WeakMap,Gc=new WeakMap,ea=new WeakSet,a1=async function(t,e){var u,c;const s=t.firstChild||t,r=s.id=`${uv}${e}`,a=await((u=l(this,Gc))==null?void 0:u.getAriaAttributes(r));if(a)for(const[d,p]of a)s.setAttribute(d,p);this.div.append(t),(c=l(this,Vc))==null||c.moveElementInDOM(this.div,t,s,!1)},Mm=function(){if(!l(this,Fo))return;const t=this.div;for(const[e,s]of l(this,Fo)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:a}=r;a?a.nodeName==="CANVAS"?a.replaceWith(s):a.classList.contains("annotationContent")?a.after(s):a.before(s):r.append(s)}l(this,Fo).clear()};const Pd=/\r\n?|\n/g;var gi,Tn,Xc,No,Rn,ge,l1,u1,c1,qd,Ms,Yd,Kd,h1,Fm,d1;const qt=class qt extends $t{constructor(e){super({...e,name:"freeTextEditor"});b(this,ge);b(this,gi);b(this,Tn,"");b(this,Xc,`${this.id}-editor`);b(this,No,null);b(this,Rn);w(this,gi,e.color||qt._defaultColor||$t._defaultLineColor),w(this,Rn,e.fontSize||qt._defaultFontSize)}static get _keyboardManager(){const e=qt.prototype,s=u=>u.isEmpty(),r=Jo.TRANSLATE_SMALL,a=Jo.TRANSLATE_BIG;return Dt(this,"_keyboardManager",new dh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:s}]]))}static initialize(e,s){$t.initialize(e,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case At.FREETEXT_SIZE:qt._defaultFontSize=s;break;case At.FREETEXT_COLOR:qt._defaultColor=s;break}}updateParams(e,s){switch(e){case At.FREETEXT_SIZE:S(this,ge,l1).call(this,s);break;case At.FREETEXT_COLOR:S(this,ge,u1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[At.FREETEXT_SIZE,qt._defaultFontSize],[At.FREETEXT_COLOR,qt._defaultColor||$t._defaultLineColor]]}get propertiesToUpdate(){return[[At.FREETEXT_SIZE,l(this,Rn)],[At.FREETEXT_COLOR,l(this,gi)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-qt._internalPadding*e,-(qt._internalPadding+l(this,Rn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(bt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),w(this,No,new AbortController);const e=this._uiManager.combinedSignal(l(this,No));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,Xc)),this._isDraggable=!0,(e=l(this,No))==null||e.abort(),w(this,No,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=l(this,Tn),s=w(this,Tn,S(this,ge,c1).call(this).trimEnd());if(e===s)return;const r=a=>{if(w(this,Tn,a),!a){this.remove();return}S(this,ge,Kd).call(this),this._uiManager.rebuild(this),S(this,ge,qd).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(e)},mustExec:!1}),S(this,ge,qd).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){qt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,Xc)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${l(this,Rn)}px * var(--scale-factor))`,r.color=l(this,gi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),uf(this,this.div,["dblclick","keydown"]),this.width){const[a,u]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[d,p]=this.getInitialTranslation();[d,p]=this.pageTranslationToScreen(d,p);const[g,y]=this.pageDimensions,[A,E]=this.pageTranslation;let C,x;switch(this.rotation){case 0:C=e+(c[0]-A)/g,x=s+this.height-(c[1]-E)/y;break;case 90:C=e+(c[0]-A)/g,x=s-(c[1]-E)/y,[d,p]=[p,-d];break;case 180:C=e-this.width+(c[0]-A)/g,x=s-(c[1]-E)/y,[d,p]=[-d,-p];break;case 270:C=e+(c[0]-A-this.height*y)/g,x=s+(c[1]-E-this.width*g)/y,[d,p]=[-p,d];break}this.setAt(C*a,x*u,d,p)}else this.setAt(e*a,s*u,this.width*a,this.height*u);S(this,ge,Kd).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var C,x,R;const s=e.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const a=S(C=qt,Ms,Fm).call(C,s.getData("text")||"").replaceAll(Pd,`
`);if(!a)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const c=u.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:d,startOffset:p}=c,g=[],y=[];if(d.nodeType===Node.TEXT_NODE){const T=d.parentElement;if(y.push(d.nodeValue.slice(p).replaceAll(Pd,"")),T!==this.editorDiv){let F=g;for(const N of this.editorDiv.childNodes){if(N===T){F=y;continue}F.push(S(x=qt,Ms,Yd).call(x,N))}}g.push(d.nodeValue.slice(0,p).replaceAll(Pd,""))}else if(d===this.editorDiv){let T=g,F=0;for(const N of this.editorDiv.childNodes)F++===p&&(T=y),T.push(S(R=qt,Ms,Yd).call(R,N))}w(this,Tn,`${g.join(`
`)}${a}${y.join(`
`)}`),S(this,ge,Kd).call(this);const A=new Range;let E=g.reduce((T,F)=>T+F.length,0);for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const F=T.nodeValue.length;if(E<=F){A.setStart(T,E),A.setEnd(T,E);break}E-=F}u.removeAllRanges(),u.addRange(A)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,r){var c;let a=null;if(e instanceof i1){const{data:{defaultAppearanceData:{fontSize:d,fontColor:p},rect:g,rotation:y,id:A,popupRef:E},textContent:C,textPosition:x,parent:{page:{pageNumber:R}}}=e;if(!C||C.length===0)return null;a=e={annotationType:bt.FREETEXT,color:Array.from(p),fontSize:d,value:C.join(`
`),position:x,pageIndex:R-1,rect:g.slice(0),rotation:y,id:A,deleted:!1,popupRef:E}}const u=await super.deserialize(e,s,r);return w(u,Rn,e.fontSize),w(u,gi,lt.makeHexColor(...e.color)),w(u,Tn,S(c=qt,Ms,Fm).call(c,e.value)),u.annotationElementId=e.id||null,u._initialData=a,u}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=qt._internalPadding*this.parentScale,r=this.getRect(s,s),a=$t._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:l(this,gi)),u={annotationType:bt.FREETEXT,color:a,fontSize:l(this,Rn),value:S(this,ge,h1).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?u:this.annotationElementId&&!S(this,ge,d1).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${l(this,Rn)}px * var(--scale-factor))`,r.color=l(this,gi),s.replaceChildren();for(const u of l(this,Tn).split(`
`)){const c=document.createElement("div");c.append(u?document.createTextNode(u):document.createElement("br")),s.append(c)}const a=qt._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(a,a),popupContent:l(this,Tn)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};gi=new WeakMap,Tn=new WeakMap,Xc=new WeakMap,No=new WeakMap,Rn=new WeakMap,ge=new WeakSet,l1=function(e){const s=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-l(this,Rn))*this.parentScale),w(this,Rn,a),S(this,ge,qd).call(this)},r=l(this,Rn);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:At.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},u1=function(e){const s=a=>{w(this,gi,this.editorDiv.style.color=a)},r=l(this,gi);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:At.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},c1=function(){var r;const e=[];this.editorDiv.normalize();let s=null;for(const a of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(e.push(S(r=qt,Ms,Yd).call(r,a)),s=a);return e.join(`
`)},qd=function(){const[e,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:a,div:u}=this,c=u.style.display,d=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",a.div.append(this.div),r=u.getBoundingClientRect(),u.remove(),u.style.display=c,u.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/s):(this.width=r.height/e,this.height=r.width/s),this.fixAndSetPosition()},Ms=new WeakSet,Yd=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Pd,"")},Kd=function(){if(this.editorDiv.replaceChildren(),!!l(this,Tn))for(const e of l(this,Tn).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},h1=function(){return l(this,Tn).replaceAll(""," ")},Fm=function(e){return e.replaceAll(" ","")},d1=function(e){const{value:s,fontSize:r,color:a,pageIndex:u}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==r||e.color.some((c,d)=>c!==a[d])||e.pageIndex!==u},b(qt,Ms),yt(qt,"_freeTextDefaultContent",""),yt(qt,"_internalPadding",0),yt(qt,"_defaultColor",null),yt(qt,"_defaultFontSize",10),yt(qt,"_type","freetext"),yt(qt,"_editorType",bt.FREETEXT);let Im=qt;class f1{toSVGPath(){Qt("Abstract method `toSVGPath` must be implemented.")}get box(){Qt("Abstract getter `box` must be implemented.")}serialize(t,e){Qt("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Qt("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Qt("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Pn,mi,_l,Sl,Bi,Mt,Oo,zo,qc,Yc,El,bl,_r,Kc,Rf,Pf,be,zu,p1,g1,m1,v1,y1,A1;const ss=class ss{constructor({x:t,y:e},s,r,a,u,c=0){b(this,be);b(this,Pn);b(this,mi,[]);b(this,_l);b(this,Sl);b(this,Bi,[]);b(this,Mt,new Float64Array(18));b(this,Oo);b(this,zo);b(this,qc);b(this,Yc);b(this,El);b(this,bl);b(this,_r,[]);w(this,Pn,s),w(this,bl,a*r),w(this,Sl,u),l(this,Mt).set([NaN,NaN,NaN,NaN,t,e],6),w(this,_l,c),w(this,Yc,l(ss,Kc)*r),w(this,qc,l(ss,Pf)*r),w(this,El,r),l(this,_r).push(t,e)}isEmpty(){return isNaN(l(this,Mt)[8])}add({x:t,y:e}){var st;w(this,Oo,t),w(this,zo,e);const[s,r,a,u]=l(this,Pn);let[c,d,p,g]=l(this,Mt).subarray(8,12);const y=t-p,A=e-g,E=Math.hypot(y,A);if(E<l(this,qc))return!1;const C=E-l(this,Yc),x=C/E,R=x*y,T=x*A;let F=c,N=d;c=p,d=g,p+=R,g+=T,(st=l(this,_r))==null||st.push(t,e);const O=-T/C,j=R/C,H=O*l(this,bl),V=j*l(this,bl);return l(this,Mt).set(l(this,Mt).subarray(2,8),0),l(this,Mt).set([p+H,g+V],4),l(this,Mt).set(l(this,Mt).subarray(14,18),12),l(this,Mt).set([p-H,g-V],16),isNaN(l(this,Mt)[6])?(l(this,Bi).length===0&&(l(this,Mt).set([c+H,d+V],2),l(this,Bi).push(NaN,NaN,NaN,NaN,(c+H-s)/a,(d+V-r)/u),l(this,Mt).set([c-H,d-V],14),l(this,mi).push(NaN,NaN,NaN,NaN,(c-H-s)/a,(d-V-r)/u)),l(this,Mt).set([F,N,c,d,p,g],6),!this.isEmpty()):(l(this,Mt).set([F,N,c,d,p,g],6),Math.abs(Math.atan2(N-d,F-c)-Math.atan2(T,R))<Math.PI/2?([c,d,p,g]=l(this,Mt).subarray(2,6),l(this,Bi).push(NaN,NaN,NaN,NaN,((c+p)/2-s)/a,((d+g)/2-r)/u),[c,d,F,N]=l(this,Mt).subarray(14,18),l(this,mi).push(NaN,NaN,NaN,NaN,((F+c)/2-s)/a,((N+d)/2-r)/u),!0):([F,N,c,d,p,g]=l(this,Mt).subarray(0,6),l(this,Bi).push(((F+5*c)/6-s)/a,((N+5*d)/6-r)/u,((5*c+p)/6-s)/a,((5*d+g)/6-r)/u,((c+p)/2-s)/a,((d+g)/2-r)/u),[p,g,c,d,F,N]=l(this,Mt).subarray(12,18),l(this,mi).push(((F+5*c)/6-s)/a,((N+5*d)/6-r)/u,((5*c+p)/6-s)/a,((5*d+g)/6-r)/u,((c+p)/2-s)/a,((d+g)/2-r)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=l(this,Bi),e=l(this,mi);if(isNaN(l(this,Mt)[6])&&!this.isEmpty())return S(this,be,p1).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);S(this,be,m1).call(this,s);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return S(this,be,g1).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,r,a,u){return new w1(t,e,s,r,a,u)}getOutlines(){var y;const t=l(this,Bi),e=l(this,mi),s=l(this,Mt),[r,a,u,c]=l(this,Pn),d=new Float64Array((((y=l(this,_r))==null?void 0:y.length)??0)+2);for(let A=0,E=d.length-2;A<E;A+=2)d[A]=(l(this,_r)[A]-r)/u,d[A+1]=(l(this,_r)[A+1]-a)/c;if(d[d.length-2]=(l(this,Oo)-r)/u,d[d.length-1]=(l(this,zo)-a)/c,isNaN(s[6])&&!this.isEmpty())return S(this,be,v1).call(this,d);const p=new Float64Array(l(this,Bi).length+24+l(this,mi).length);let g=t.length;for(let A=0;A<g;A+=2){if(isNaN(t[A])){p[A]=p[A+1]=NaN;continue}p[A]=t[A],p[A+1]=t[A+1]}g=S(this,be,A1).call(this,p,g);for(let A=e.length-6;A>=6;A-=6)for(let E=0;E<6;E+=2){if(isNaN(e[A+E])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=e[A+E],p[g+1]=e[A+E+1],g+=2}return S(this,be,y1).call(this,p,g),this.newFreeDrawOutline(p,d,l(this,Pn),l(this,El),l(this,_l),l(this,Sl))}};Pn=new WeakMap,mi=new WeakMap,_l=new WeakMap,Sl=new WeakMap,Bi=new WeakMap,Mt=new WeakMap,Oo=new WeakMap,zo=new WeakMap,qc=new WeakMap,Yc=new WeakMap,El=new WeakMap,bl=new WeakMap,_r=new WeakMap,Kc=new WeakMap,Rf=new WeakMap,Pf=new WeakMap,be=new WeakSet,zu=function(){const t=l(this,Mt).subarray(4,6),e=l(this,Mt).subarray(16,18),[s,r,a,u]=l(this,Pn);return[(l(this,Oo)+(t[0]-e[0])/2-s)/a,(l(this,zo)+(t[1]-e[1])/2-r)/u,(l(this,Oo)+(e[0]-t[0])/2-s)/a,(l(this,zo)+(e[1]-t[1])/2-r)/u]},p1=function(){const[t,e,s,r]=l(this,Pn),[a,u,c,d]=S(this,be,zu).call(this);return`M${(l(this,Mt)[2]-t)/s} ${(l(this,Mt)[3]-e)/r} L${(l(this,Mt)[4]-t)/s} ${(l(this,Mt)[5]-e)/r} L${a} ${u} L${c} ${d} L${(l(this,Mt)[16]-t)/s} ${(l(this,Mt)[17]-e)/r} L${(l(this,Mt)[14]-t)/s} ${(l(this,Mt)[15]-e)/r} Z`},g1=function(t){const e=l(this,mi);t.push(`L${e[4]} ${e[5]} Z`)},m1=function(t){const[e,s,r,a]=l(this,Pn),u=l(this,Mt).subarray(4,6),c=l(this,Mt).subarray(16,18),[d,p,g,y]=S(this,be,zu).call(this);t.push(`L${(u[0]-e)/r} ${(u[1]-s)/a} L${d} ${p} L${g} ${y} L${(c[0]-e)/r} ${(c[1]-s)/a}`)},v1=function(t){const e=l(this,Mt),[s,r,a,u]=l(this,Pn),[c,d,p,g]=S(this,be,zu).call(this),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-s)/a,(e[3]-r)/u,NaN,NaN,NaN,NaN,(e[4]-s)/a,(e[5]-r)/u,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(e[16]-s)/a,(e[17]-r)/u,NaN,NaN,NaN,NaN,(e[14]-s)/a,(e[15]-r)/u],0),this.newFreeDrawOutline(y,t,l(this,Pn),l(this,El),l(this,_l),l(this,Sl))},y1=function(t,e){const s=l(this,mi);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},A1=function(t,e){const s=l(this,Mt).subarray(4,6),r=l(this,Mt).subarray(16,18),[a,u,c,d]=l(this,Pn),[p,g,y,A]=S(this,be,zu).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-a)/c,(s[1]-u)/d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,A,NaN,NaN,NaN,NaN,(r[0]-a)/c,(r[1]-u)/d],e),e+=24},b(ss,Kc,8),b(ss,Rf,2),b(ss,Pf,l(ss,Kc)+l(ss,Rf));let hf=ss;var Cl,Ho,As,Qc,Ln,Zc,ce,wn,Hu,Bu,_1;class w1 extends f1{constructor(e,s,r,a,u,c){super();b(this,wn);b(this,Cl);b(this,Ho,null);b(this,As);b(this,Qc);b(this,Ln);b(this,Zc);b(this,ce);w(this,ce,e),w(this,Ln,s),w(this,Cl,r),w(this,Zc,a),w(this,As,u),w(this,Qc,c),S(this,wn,_1).call(this,c);const{x:d,y:p,width:g,height:y}=l(this,Ho);for(let A=0,E=e.length;A<E;A+=2)e[A]=(e[A]-d)/g,e[A+1]=(e[A+1]-p)/y;for(let A=0,E=s.length;A<E;A+=2)s[A]=(s[A]-d)/g,s[A+1]=(s[A+1]-p)/y}toSVGPath(){const e=[`M${l(this,ce)[4]} ${l(this,ce)[5]}`];for(let s=6,r=l(this,ce).length;s<r;s+=6){if(isNaN(l(this,ce)[s])){e.push(`L${l(this,ce)[s+4]} ${l(this,ce)[s+5]}`);continue}e.push(`C${l(this,ce)[s]} ${l(this,ce)[s+1]} ${l(this,ce)[s+2]} ${l(this,ce)[s+3]} ${l(this,ce)[s+4]} ${l(this,ce)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,r,a],u){const c=r-e,d=a-s;let p,g;switch(u){case 0:p=S(this,wn,Hu).call(this,l(this,ce),e,a,c,-d),g=S(this,wn,Hu).call(this,l(this,Ln),e,a,c,-d);break;case 90:p=S(this,wn,Bu).call(this,l(this,ce),e,s,c,d),g=S(this,wn,Bu).call(this,l(this,Ln),e,s,c,d);break;case 180:p=S(this,wn,Hu).call(this,l(this,ce),r,s,-c,d),g=S(this,wn,Hu).call(this,l(this,Ln),r,s,-c,d);break;case 270:p=S(this,wn,Bu).call(this,l(this,ce),r,a,-c,-d),g=S(this,wn,Bu).call(this,l(this,Ln),r,a,-c,-d);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return l(this,Ho)}newOutliner(e,s,r,a,u,c=0){return new hf(e,s,r,a,u,c)}getNewOutline(e,s){const{x:r,y:a,width:u,height:c}=l(this,Ho),[d,p,g,y]=l(this,Cl),A=u*g,E=c*y,C=r*g+d,x=a*y+p,R=this.newOutliner({x:l(this,Ln)[0]*A+C,y:l(this,Ln)[1]*E+x},l(this,Cl),l(this,Zc),e,l(this,Qc),s??l(this,As));for(let T=2;T<l(this,Ln).length;T+=2)R.add({x:l(this,Ln)[T]*A+C,y:l(this,Ln)[T+1]*E+x});return R.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Cl=new WeakMap,Ho=new WeakMap,As=new WeakMap,Qc=new WeakMap,Ln=new WeakMap,Zc=new WeakMap,ce=new WeakMap,wn=new WeakSet,Hu=function(e,s,r,a,u){const c=new Float64Array(e.length);for(let d=0,p=e.length;d<p;d+=2)c[d]=s+e[d]*a,c[d+1]=r+e[d+1]*u;return c},Bu=function(e,s,r,a,u){const c=new Float64Array(e.length);for(let d=0,p=e.length;d<p;d+=2)c[d]=s+e[d+1]*a,c[d+1]=r+e[d]*u;return c},_1=function(e){const s=l(this,ce);let r=s[4],a=s[5],u=r,c=a,d=r,p=a,g=r,y=a;const A=e?Math.max:Math.min;for(let T=6,F=s.length;T<F;T+=6){if(isNaN(s[T]))u=Math.min(u,s[T+4]),c=Math.min(c,s[T+5]),d=Math.max(d,s[T+4]),p=Math.max(p,s[T+5]),y<s[T+5]?(g=s[T+4],y=s[T+5]):y===s[T+5]&&(g=A(g,s[T+4]));else{const N=lt.bezierBoundingBox(r,a,...s.slice(T,T+6));u=Math.min(u,N[0]),c=Math.min(c,N[1]),d=Math.max(d,N[2]),p=Math.max(p,N[3]),y<N[3]?(g=N[2],y=N[3]):y===N[3]&&(g=A(g,N[2]))}r=s[T+4],a=s[T+5]}const E=u-l(this,As),C=c-l(this,As),x=d-u+2*l(this,As),R=p-c+2*l(this,As);w(this,Ho,{x:E,y:C,width:x,height:R,lastPoint:[g,y]})};var Jc,Sr,vi,an,S1,Qd,E1,b1,Dm;class XA{constructor(t,e=0,s=0,r=!0){b(this,an);b(this,Jc);b(this,Sr,[]);b(this,vi,[]);let a=1/0,u=-1/0,c=1/0,d=-1/0;const g=10**-4;for(const{x:T,y:F,width:N,height:O}of t){const j=Math.floor((T-e)/g)*g,H=Math.ceil((T+N+e)/g)*g,V=Math.floor((F-e)/g)*g,q=Math.ceil((F+O+e)/g)*g,st=[j,V,q,!0],pt=[H,V,q,!1];l(this,Sr).push(st,pt),a=Math.min(a,j),u=Math.max(u,H),c=Math.min(c,V),d=Math.max(d,q)}const y=u-a+2*s,A=d-c+2*s,E=a-s,C=c-s,x=l(this,Sr).at(r?-1:-2),R=[x[0],x[2]];for(const T of l(this,Sr)){const[F,N,O]=T;T[0]=(F-E)/y,T[1]=(N-C)/A,T[2]=(O-C)/A}w(this,Jc,{x:E,y:C,width:y,height:A,lastPoint:R})}getOutlines(){l(this,Sr).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of l(this,Sr))e[3]?(t.push(...S(this,an,Dm).call(this,e)),S(this,an,E1).call(this,e)):(S(this,an,b1).call(this,e),t.push(...S(this,an,Dm).call(this,e)));return S(this,an,S1).call(this,t)}}Jc=new WeakMap,Sr=new WeakMap,vi=new WeakMap,an=new WeakSet,S1=function(t){const e=[],s=new Set;for(const u of t){const[c,d,p]=u;e.push([c,d,u],[c,p,u])}e.sort((u,c)=>u[1]-c[1]||u[0]-c[0]);for(let u=0,c=e.length;u<c;u+=2){const d=e[u][2],p=e[u+1][2];d.push(p),p.push(d),s.add(d),s.add(p)}const r=[];let a;for(;s.size>0;){const u=s.values().next().value;let[c,d,p,g,y]=u;s.delete(u);let A=c,E=d;for(a=[c,p],r.push(a);;){let C;if(s.has(g))C=g;else if(s.has(y))C=y;else break;s.delete(C),[c,d,p,g,y]=C,A!==c&&(a.push(A,E,c,E===d?d:p),A=c),E=E===d?p:d}a.push(A,E)}return new rC(r,l(this,Jc))},Qd=function(t){const e=l(this,vi);let s=0,r=e.length-1;for(;s<=r;){const a=s+r>>1,u=e[a][0];if(u===t)return a;u<t?s=a+1:r=a-1}return r+1},E1=function([,t,e]){const s=S(this,an,Qd).call(this,t);l(this,vi).splice(s,0,[t,e])},b1=function([,t,e]){const s=S(this,an,Qd).call(this,t);for(let r=s;r<l(this,vi).length;r++){const[a,u]=l(this,vi)[r];if(a!==t)break;if(a===t&&u===e){l(this,vi).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[a,u]=l(this,vi)[r];if(a!==t)break;if(a===t&&u===e){l(this,vi).splice(r,1);return}}},Dm=function(t){const[e,s,r]=t,a=[[e,s,r]],u=S(this,an,Qd).call(this,r);for(let c=0;c<u;c++){const[d,p]=l(this,vi)[c];for(let g=0,y=a.length;g<y;g++){const[,A,E]=a[g];if(!(p<=A||E<=d)){if(A>=d){if(E>p)a[g][1]=p;else{if(y===1)return[];a.splice(g,1),g--,y--}continue}a[g][2]=d,E>p&&a.push([e,p,E])}}}return a};var th,xl;class rC extends f1{constructor(e,s){super();b(this,th);b(this,xl);w(this,xl,e),w(this,th,s)}toSVGPath(){const e=[];for(const s of l(this,xl)){let[r,a]=s;e.push(`M${r} ${a}`);for(let u=2;u<s.length;u+=2){const c=s[u],d=s[u+1];c===r?(e.push(`V${d}`),a=d):d===a&&(e.push(`H${c}`),r=c)}e.push("Z")}return e.join(" ")}serialize([e,s,r,a],u){const c=[],d=r-e,p=a-s;for(const g of l(this,xl)){const y=new Array(g.length);for(let A=0;A<g.length;A+=2)y[A]=e+g[A]*d,y[A+1]=a-g[A+1]*p;c.push(y)}return c}get box(){return l(this,th)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}th=new WeakMap,xl=new WeakMap;class Nm extends hf{newFreeDrawOutline(t,e,s,r,a,u){return new oC(t,e,s,r,a,u)}get classNamesForDrawing(){return["highlight","free"]}}class oC extends w1{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,s,r,a,u=0){return new Nm(t,e,s,r,a,u)}}var yi,Bo,kl,_e,eh,Tl,nh,ih,Er,Ai,Rl,sh,Vt,Om,zm,Hm,Yr,C1,er;const gn=class gn{constructor({editor:t=null,uiManager:e=null}){b(this,Vt);b(this,yi,null);b(this,Bo,null);b(this,kl);b(this,_e,null);b(this,eh,!1);b(this,Tl,!1);b(this,nh,null);b(this,ih);b(this,Er,null);b(this,Ai,null);b(this,Rl);var s;t?(w(this,Tl,!1),w(this,Rl,At.HIGHLIGHT_COLOR),w(this,nh,t)):(w(this,Tl,!0),w(this,Rl,At.HIGHLIGHT_DEFAULT_COLOR)),w(this,Ai,(t==null?void 0:t._uiManager)||e),w(this,ih,l(this,Ai)._eventBus),w(this,kl,(t==null?void 0:t.color)||((s=l(this,Ai))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),l(gn,sh)||w(gn,sh,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Dt(this,"_keyboardManager",new dh([[["Escape","mac+Escape"],gn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],gn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],gn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],gn.prototype._moveToPrevious],[["Home","mac+Home"],gn.prototype._moveToBeginning],[["End","mac+End"],gn.prototype._moveToEnd]]))}renderButton(){const t=w(this,yi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=l(this,Ai)._signal;t.addEventListener("click",S(this,Vt,Yr).bind(this),{signal:e}),t.addEventListener("keydown",S(this,Vt,Hm).bind(this),{signal:e});const s=w(this,Bo,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=l(this,kl),t.append(s),t}renderMainDropdown(){const t=w(this,_e,S(this,Vt,Om).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===l(this,yi)){S(this,Vt,Yr).call(this,t);return}const e=t.target.getAttribute("data-color");e&&S(this,Vt,zm).call(this,e,t)}_moveToNext(t){var e,s;if(!l(this,Vt,er)){S(this,Vt,Yr).call(this,t);return}if(t.target===l(this,yi)){(e=l(this,_e).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=l(this,_e))==null?void 0:e.firstChild)||t.target===l(this,yi)){l(this,Vt,er)&&this._hideDropdownFromKeyboard();return}l(this,Vt,er)||S(this,Vt,Yr).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!l(this,Vt,er)){S(this,Vt,Yr).call(this,t);return}(e=l(this,_e).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!l(this,Vt,er)){S(this,Vt,Yr).call(this,t);return}(e=l(this,_e).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=l(this,_e))==null||t.classList.add("hidden"),(e=l(this,Er))==null||e.abort(),w(this,Er,null)}_hideDropdownFromKeyboard(){var t;if(!l(this,Tl)){if(!l(this,Vt,er)){(t=l(this,nh))==null||t.unselect();return}this.hideDropdown(),l(this,yi).focus({preventScroll:!0,focusVisible:l(this,eh)})}}updateColor(t){if(l(this,Bo)&&(l(this,Bo).style.backgroundColor=t),!l(this,_e))return;const e=l(this,Ai).highlightColors.values();for(const s of l(this,_e).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=l(this,yi))==null||t.remove(),w(this,yi,null),w(this,Bo,null),(e=l(this,_e))==null||e.remove(),w(this,_e,null)}};yi=new WeakMap,Bo=new WeakMap,kl=new WeakMap,_e=new WeakMap,eh=new WeakMap,Tl=new WeakMap,nh=new WeakMap,ih=new WeakMap,Er=new WeakMap,Ai=new WeakMap,Rl=new WeakMap,sh=new WeakMap,Vt=new WeakSet,Om=function(){const t=document.createElement("div"),e=l(this,Ai)._signal;t.addEventListener("contextmenu",Zn,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of l(this,Ai).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",r),a.title=s,a.setAttribute("data-l10n-id",l(gn,sh)[s]);const u=document.createElement("span");a.append(u),u.className="swatch",u.style.backgroundColor=r,a.setAttribute("aria-selected",r===l(this,kl)),a.addEventListener("click",S(this,Vt,zm).bind(this,r),{signal:e}),t.append(a)}return t.addEventListener("keydown",S(this,Vt,Hm).bind(this),{signal:e}),t},zm=function(t,e){e.stopPropagation(),l(this,ih).dispatch("switchannotationeditorparams",{source:this,type:l(this,Rl),value:t})},Hm=function(t){gn._keyboardManager.exec(this,t)},Yr=function(t){if(l(this,Vt,er)){this.hideDropdown();return}if(w(this,eh,t.detail===0),l(this,Er)||(w(this,Er,new AbortController),window.addEventListener("pointerdown",S(this,Vt,C1).bind(this),{signal:l(this,Ai).combinedSignal(l(this,Er))})),l(this,_e)){l(this,_e).classList.remove("hidden");return}const e=w(this,_e,S(this,Vt,Om).call(this));l(this,yi).append(e)},C1=function(t){var e;(e=l(this,_e))!=null&&e.contains(t.target)||this.hideDropdown()},er=function(){return l(this,_e)&&!l(this,_e).classList.contains("hidden")},b(gn,sh,null);let df=gn;var Pl,rh,ws,jo,Ll,Gn,oh,ah,Uo,wi,qe,yn,Ml,_s,Se,Il,Xn,lh,St,Bm,Zd,x1,k1,T1,jm,Kr,Kn,Oa,R1,Jd,ju,P1,L1,M1,I1,F1;const zt=class zt extends $t{constructor(e){super({...e,name:"highlightEditor"});b(this,St);b(this,Pl,null);b(this,rh,0);b(this,ws);b(this,jo,null);b(this,Ll,null);b(this,Gn,null);b(this,oh,null);b(this,ah,0);b(this,Uo,null);b(this,wi,null);b(this,qe,null);b(this,yn,!1);b(this,Ml,null);b(this,_s);b(this,Se,null);b(this,Il,"");b(this,Xn);b(this,lh,"");this.color=e.color||zt._defaultColor,w(this,Xn,e.thickness||zt._defaultThickness),w(this,_s,e.opacity||zt._defaultOpacity),w(this,ws,e.boxes||null),w(this,lh,e.methodOfCreation||""),w(this,Il,e.text||""),this._isDraggable=!1,e.highlightId>-1?(w(this,yn,!0),S(this,St,Zd).call(this,e),S(this,St,Kr).call(this)):l(this,ws)&&(w(this,Pl,e.anchorNode),w(this,rh,e.anchorOffset),w(this,oh,e.focusNode),w(this,ah,e.focusOffset),S(this,St,Bm).call(this),S(this,St,Kr).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=zt.prototype;return Dt(this,"_keyboardManager",new dh([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,yn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:l(this,Xn),methodOfCreation:l(this,lh)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var r;$t.initialize(e,s),zt._defaultColor||(zt._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case At.HIGHLIGHT_DEFAULT_COLOR:zt._defaultColor=s;break;case At.HIGHLIGHT_THICKNESS:zt._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return l(this,Ml)}updateParams(e,s){switch(e){case At.HIGHLIGHT_COLOR:S(this,St,x1).call(this,s);break;case At.HIGHLIGHT_THICKNESS:S(this,St,k1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[At.HIGHLIGHT_DEFAULT_COLOR,zt._defaultColor],[At.HIGHLIGHT_THICKNESS,zt._defaultThickness]]}get propertiesToUpdate(){return[[At.HIGHLIGHT_COLOR,this.color||zt._defaultColor],[At.HIGHLIGHT_THICKNESS,l(this,Xn)||zt._defaultThickness],[At.HIGHLIGHT_FREE,l(this,yn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(w(this,Ll,new df({editor:this})),e.addColorPicker(l(this,Ll))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(S(this,St,ju).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,S(this,St,ju).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){S(this,St,jm).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(S(this,St,Kr).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?S(this,St,jm).call(this):e&&(S(this,St,Kr).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var a,u,c;const{drawLayer:s}=this.parent;let r;l(this,yn)?(e=(e-this.rotation+360)%360,r=S(a=zt,Kn,Oa).call(a,l(this,wi).box,e)):r=S(u=zt,Kn,Oa).call(u,this,e),s.rotate(l(this,qe),e),s.rotate(l(this,Se),e),s.updateBox(l(this,qe),r),s.updateBox(l(this,Se),S(c=zt,Kn,Oa).call(c,l(this,Gn).box,e))}render(){if(this.div)return this.div;const e=super.render();l(this,Il)&&(e.setAttribute("aria-label",l(this,Il)),e.setAttribute("role","mark")),l(this,yn)?e.classList.add("free"):this.div.addEventListener("keydown",S(this,St,R1).bind(this),{signal:this._uiManager._signal});const s=w(this,Uo,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=l(this,jo);const[r,a]=this.parentDimensions;return this.setDims(this.width*r,this.height*a),uf(this,l(this,Uo),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(l(this,Se),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(l(this,Se),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:S(this,St,Jd).call(this,!0);break;case 1:case 3:S(this,St,Jd).call(this,!1);break}}select(){var e,s;super.select(),l(this,Se)&&((e=this.parent)==null||e.drawLayer.removeClass(l(this,Se),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(l(this,Se),"selected"))}unselect(){var e;super.unselect(),l(this,Se)&&((e=this.parent)==null||e.drawLayer.removeClass(l(this,Se),"selected"),l(this,yn)||S(this,St,Jd).call(this,!1))}get _mustFixPosition(){return!l(this,yn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(l(this,qe),e),this.parent.drawLayer.show(l(this,Se),e))}static startHighlighting(e,s,{target:r,x:a,y:u}){const{x:c,y:d,width:p,height:g}=r.getBoundingClientRect(),y=new AbortController,A=e.combinedSignal(y),E=x=>{x.preventDefault(),x.stopPropagation()},C=x=>{y.abort(),S(this,Kn,I1).call(this,e,x)};window.addEventListener("blur",C,{signal:A}),window.addEventListener("pointerup",C,{signal:A}),window.addEventListener("pointerdown",E,{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",Zn,{signal:A}),r.addEventListener("pointermove",S(this,Kn,M1).bind(this,e),{signal:A}),this._freeHighlight=new Nm({x:a,y:u},[c,d,p,g],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,s,r){var x,R,T,F;let a=null;if(e instanceof r1){const{data:{quadPoints:N,rect:O,rotation:j,id:H,color:V,opacity:q,popupRef:st},parent:{page:{pageNumber:pt}}}=e;a=e={annotationType:bt.HIGHLIGHT,color:Array.from(V),opacity:q,quadPoints:N,boxes:null,pageIndex:pt-1,rect:O.slice(0),rotation:j,id:H,deleted:!1,popupRef:st}}else if(e instanceof wv){const{data:{inkLists:N,rect:O,rotation:j,id:H,color:V,borderStyle:{rawWidth:q},popupRef:st},parent:{page:{pageNumber:pt}}}=e;a=e={annotationType:bt.HIGHLIGHT,color:Array.from(V),thickness:q,inkLists:N,boxes:null,pageIndex:pt-1,rect:O.slice(0),rotation:j,id:H,deleted:!1,popupRef:st}}const{color:u,quadPoints:c,inkLists:d,opacity:p}=e,g=await super.deserialize(e,s,r);g.color=lt.makeHexColor(...u),w(g,_s,p||1),d&&w(g,Xn,e.thickness),g.annotationElementId=e.id||null,g._initialData=a;const[y,A]=g.pageDimensions,[E,C]=g.pageTranslation;if(c){const N=w(g,ws,[]);for(let O=0;O<c.length;O+=8)N.push({x:(c[O]-E)/y,y:1-(c[O+1]-C)/A,width:(c[O+2]-c[O])/y,height:(c[O+1]-c[O+5])/A});S(x=g,St,Bm).call(x),S(R=g,St,Kr).call(R),g.rotate(g.rotation)}else if(d){w(g,yn,!0);const N=d[0],O={x:N[0]-E,y:A-(N[1]-C)},j=new Nm(O,[0,0,y,A],1,l(g,Xn)/2,!0,.001);for(let q=0,st=N.length;q<st;q+=2)O.x=N[q]-E,O.y=A-(N[q+1]-C),j.add(O);const{id:H,clipPathId:V}=s.drawLayer.draw(j,g.color,g._defaultOpacity,!0);S(T=g,St,Zd).call(T,{highlightOutlines:j.getOutlines(),highlightId:H,clipPathId:V}),S(F=g,St,Kr).call(F)}return g}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=$t._colorManager.convert(this.color),a={annotationType:bt.HIGHLIGHT,color:r,opacity:l(this,_s),thickness:l(this,Xn),quadPoints:S(this,St,P1).call(this),outlines:S(this,St,L1).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:S(this,St,ju).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!S(this,St,F1).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Pl=new WeakMap,rh=new WeakMap,ws=new WeakMap,jo=new WeakMap,Ll=new WeakMap,Gn=new WeakMap,oh=new WeakMap,ah=new WeakMap,Uo=new WeakMap,wi=new WeakMap,qe=new WeakMap,yn=new WeakMap,Ml=new WeakMap,_s=new WeakMap,Se=new WeakMap,Il=new WeakMap,Xn=new WeakMap,lh=new WeakMap,St=new WeakSet,Bm=function(){const e=new XA(l(this,ws),.001);w(this,wi,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=l(this,wi).box;const s=new XA(l(this,ws),.0025,.001,this._uiManager.direction==="ltr");w(this,Gn,s.getOutlines());const{lastPoint:r}=l(this,Gn).box;w(this,Ml,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Zd=function({highlightOutlines:e,highlightId:s,clipPathId:r}){var y,A;if(w(this,wi,e),w(this,Gn,e.getNewOutline(l(this,Xn)/2+1.5,.0025)),s>=0)w(this,qe,s),w(this,jo,r),this.parent.drawLayer.finalizeLine(s,e),w(this,Se,this.parent.drawLayer.drawOutline(l(this,Gn)));else if(this.parent){const E=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(l(this,qe),e),this.parent.drawLayer.updateBox(l(this,qe),S(y=zt,Kn,Oa).call(y,l(this,wi).box,(E-this.rotation+360)%360)),this.parent.drawLayer.updateLine(l(this,Se),l(this,Gn)),this.parent.drawLayer.updateBox(l(this,Se),S(A=zt,Kn,Oa).call(A,l(this,Gn).box,E))}const{x:u,y:c,width:d,height:p}=e.box;switch(this.rotation){case 0:this.x=u,this.y=c,this.width=d,this.height=p;break;case 90:{const[E,C]=this.parentDimensions;this.x=c,this.y=1-u,this.width=d*C/E,this.height=p*E/C;break}case 180:this.x=1-u,this.y=1-c,this.width=d,this.height=p;break;case 270:{const[E,C]=this.parentDimensions;this.x=1-c,this.y=u,this.width=d*C/E,this.height=p*E/C;break}}const{lastPoint:g}=l(this,Gn).box;w(this,Ml,[(g[0]-u)/d,(g[1]-c)/p])},x1=function(e){const s=(u,c)=>{var d,p,g;this.color=u,(d=this.parent)==null||d.drawLayer.changeColor(l(this,qe),u),(p=l(this,Ll))==null||p.updateColor(u),w(this,_s,c),(g=this.parent)==null||g.drawLayer.changeOpacity(l(this,qe),c)},r=this.color,a=l(this,_s);this.addCommands({cmd:s.bind(this,e,zt._defaultOpacity),undo:s.bind(this,r,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:At.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},k1=function(e){const s=l(this,Xn),r=a=>{w(this,Xn,a),S(this,St,T1).call(this,a)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:At.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},T1=function(e){if(!l(this,yn))return;S(this,St,Zd).call(this,{highlightOutlines:l(this,wi).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},jm=function(){l(this,qe)===null||!this.parent||(this.parent.drawLayer.remove(l(this,qe)),w(this,qe,null),this.parent.drawLayer.remove(l(this,Se)),w(this,Se,null))},Kr=function(e=this.parent){l(this,qe)===null&&({id:tn(this,qe)._,clipPathId:tn(this,jo)._}=e.drawLayer.draw(l(this,wi),this.color,l(this,_s)),w(this,Se,e.drawLayer.drawOutline(l(this,Gn))),l(this,Uo)&&(l(this,Uo).style.clipPath=l(this,jo)))},Kn=new WeakSet,Oa=function({x:e,y:s,width:r,height:a},u){switch(u){case 90:return{x:1-s-a,y:e,width:a,height:r};case 180:return{x:1-e-r,y:1-s-a,width:r,height:a};case 270:return{x:s,y:1-e-r,width:a,height:r}}return{x:e,y:s,width:r,height:a}},R1=function(e){zt._keyboardManager.exec(this,e)},Jd=function(e){if(!l(this,Pl))return;const s=window.getSelection();e?s.setPosition(l(this,Pl),l(this,rh)):s.setPosition(l(this,oh),l(this,ah))},ju=function(){return l(this,yn)?this.rotation:0},P1=function(){if(l(this,yn))return null;const[e,s]=this.pageDimensions,[r,a]=this.pageTranslation,u=l(this,ws),c=new Float32Array(u.length*8);let d=0;for(const{x:p,y:g,width:y,height:A}of u){const E=p*e+r,C=(1-g-A)*s+a;c[d]=c[d+4]=E,c[d+1]=c[d+3]=C,c[d+2]=c[d+6]=E+y*e,c[d+5]=c[d+7]=C+A*s,d+=8}return c},L1=function(e){return l(this,wi).serialize(e,S(this,St,ju).call(this))},M1=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},I1=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},F1=function(e){const{color:s}=this._initialData;return e.color.some((r,a)=>r!==s[a])},b(zt,Kn),yt(zt,"_defaultColor",null),yt(zt,"_defaultOpacity",1),yt(zt,"_defaultThickness",12),yt(zt,"_type","highlight"),yt(zt,"_editorType",bt.HIGHLIGHT),yt(zt,"_freeHighlightId",-1),yt(zt,"_freeHighlight",null),yt(zt,"_freeHighlightClipId","");let ff=zt;var $o,Wo,ji,Ss,qn,Vo,Go,Xo,Es,Fl,qo,Yo,br,Y,D1,N1,O1,z1,$m,H1,Wm,B1,j1,U1,$1,W1,Qr,Vm,Gm,Xm,tf,ef,za,qm,nf,Fs,V1,Ym,G1,X1,Km,sf,Uu;const ne=class ne extends $t{constructor(e){super({...e,name:"inkEditor"});b(this,Y);b(this,$o,0);b(this,Wo,0);b(this,ji,null);b(this,Ss,new Path2D);b(this,qn,!1);b(this,Vo,null);b(this,Go,!1);b(this,Xo,!1);b(this,Es,null);b(this,Fl,null);b(this,qo,0);b(this,Yo,0);b(this,br,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,s){$t.initialize(e,s)}static updateDefaultParams(e,s){switch(e){case At.INK_THICKNESS:ne._defaultThickness=s;break;case At.INK_COLOR:ne._defaultColor=s;break;case At.INK_OPACITY:ne._defaultOpacity=s/100;break}}updateParams(e,s){switch(e){case At.INK_THICKNESS:S(this,Y,D1).call(this,s);break;case At.INK_COLOR:S(this,Y,N1).call(this,s);break;case At.INK_OPACITY:S(this,Y,O1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[At.INK_THICKNESS,ne._defaultThickness],[At.INK_COLOR,ne._defaultColor||$t._defaultLineColor],[At.INK_OPACITY,Math.round(ne._defaultOpacity*100)]]}get propertiesToUpdate(){return[[At.INK_THICKNESS,this.thickness||ne._defaultThickness],[At.INK_COLOR,this.color||ne._defaultColor||$t._defaultLineColor],[At.INK_OPACITY,Math.round(100*(this.opacity??ne._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(S(this,Y,tf).call(this),S(this,Y,ef).call(this)),this.isAttachedToDOM||(this.parent.add(this),S(this,Y,za).call(this)),S(this,Y,Uu).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,l(this,ji)&&(clearTimeout(l(this,ji)),w(this,ji,null)),(e=l(this,Es))==null||e.disconnect(),w(this,Es,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,s]=this.parentDimensions,r=this.width*e,a=this.height*s;this.setDimensions(r,a)}enableEditMode(){l(this,qn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,S(this,Y,Vm).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),S(this,Y,Gm).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){l(this,qn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),w(this,qn,!0),this.div.classList.add("disabled"),S(this,Y,Uu).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||l(this,qn)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),S(this,Y,H1).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),S(this,Y,Wm).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),S(this,Y,Xm).call(this,e)}canvasPointerleave(e){S(this,Y,Xm).call(this,e)}get isResizable(){return!this.isEmpty()&&l(this,qn)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,a,u,c]=S(this,Y,z1).call(this);if(this.setAt(r,a,0,0),this.setDims(u,c),S(this,Y,tf).call(this),this.width){const[d,p]=this.parentDimensions;this.setAspectRatio(this.width*d,this.height*p),this.setAt(e*d,s*p,this.width*d,this.height*p),w(this,Xo,!0),S(this,Y,za).call(this),this.setDims(this.width*d,this.height*p),S(this,Y,Qr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return S(this,Y,ef).call(this),this.div}setDimensions(e,s){const r=Math.round(e),a=Math.round(s);if(l(this,qo)===r&&l(this,Yo)===a)return;w(this,qo,r),w(this,Yo,a),this.canvas.style.visibility="hidden";const[u,c]=this.parentDimensions;this.width=e/u,this.height=s/c,this.fixAndSetPosition(),l(this,qn)&&S(this,Y,qm).call(this,e,s),S(this,Y,za).call(this),S(this,Y,Qr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,s,r){var R,T,F;if(e instanceof wv)return null;const a=await super.deserialize(e,s,r);a.thickness=e.thickness,a.color=lt.makeHexColor(...e.color),a.opacity=e.opacity;const[u,c]=a.pageDimensions,d=a.width*u,p=a.height*c,g=a.parentScale,y=e.thickness/2;w(a,qn,!0),w(a,qo,Math.round(d)),w(a,Yo,Math.round(p));const{paths:A,rect:E,rotation:C}=e;for(let{bezier:N}of A){N=S(R=ne,Fs,G1).call(R,N,E,C);const O=[];a.paths.push(O);let j=g*(N[0]-y),H=g*(N[1]-y);for(let q=2,st=N.length;q<st;q+=6){const pt=g*(N[q]-y),ut=g*(N[q+1]-y),xt=g*(N[q+2]-y),vt=g*(N[q+3]-y),Et=g*(N[q+4]-y),kt=g*(N[q+5]-y);O.push([[j,H],[pt,ut],[xt,vt],[Et,kt]]),j=Et,H=kt}const V=S(this,Fs,V1).call(this,O);a.bezierPath2D.push(V)}const x=S(T=a,Y,Km).call(T);return w(a,Wo,Math.max($t.MIN_SIZE,x[2]-x[0])),w(a,$o,Math.max($t.MIN_SIZE,x[3]-x[1])),S(F=a,Y,qm).call(F,d,p),a}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),s=$t._colorManager.convert(this.ctx.strokeStyle);return{annotationType:bt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:S(this,Y,X1).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};$o=new WeakMap,Wo=new WeakMap,ji=new WeakMap,Ss=new WeakMap,qn=new WeakMap,Vo=new WeakMap,Go=new WeakMap,Xo=new WeakMap,Es=new WeakMap,Fl=new WeakMap,qo=new WeakMap,Yo=new WeakMap,br=new WeakMap,Y=new WeakSet,D1=function(e){const s=a=>{this.thickness=a,S(this,Y,Uu).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:At.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},N1=function(e){const s=a=>{this.color=a,S(this,Y,Qr).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:At.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},O1=function(e){const s=a=>{this.opacity=a,S(this,Y,Qr).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:At.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},z1=function(){const{parentRotation:e,parentDimensions:[s,r]}=this;switch(e){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},$m=function(){const{ctx:e,color:s,opacity:r,thickness:a,parentScale:u,scaleFactor:c}=this;e.lineWidth=a*u/c,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${s}${TE(r)}`},H1=function(e,s){this.canvas.addEventListener("contextmenu",Zn,{signal:this._uiManager._signal}),S(this,Y,Gm).call(this),w(this,Vo,new AbortController);const r=this._uiManager.combinedSignal(l(this,Vo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,l(this,Xo)||(w(this,Xo,!0),S(this,Y,za).call(this),this.thickness||(this.thickness=ne._defaultThickness),this.color||(this.color=ne._defaultColor||$t._defaultLineColor),this.opacity??(this.opacity=ne._defaultOpacity)),this.currentPath.push([e,s]),w(this,Go,!1),S(this,Y,$m).call(this),w(this,br,()=>{S(this,Y,U1).call(this),l(this,br)&&window.requestAnimationFrame(l(this,br))}),window.requestAnimationFrame(l(this,br))},Wm=function(e,s){const[r,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&s===a)return;const u=this.currentPath;let c=l(this,Ss);if(u.push([e,s]),w(this,Go,!0),u.length<=2){c.moveTo(...u[0]),c.lineTo(e,s);return}u.length===3&&(w(this,Ss,c=new Path2D),c.moveTo(...u[0])),S(this,Y,$1).call(this,c,...u.at(-3),...u.at(-2),e,s)},B1=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);l(this,Ss).lineTo(...e)},j1=function(e,s){w(this,br,null),e=Math.min(Math.max(e,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),S(this,Y,Wm).call(this,e,s),S(this,Y,B1).call(this);let r;if(this.currentPath.length!==1)r=S(this,Y,W1).call(this);else{const p=[e,s];r=[[p,p.slice(),p.slice(),p]]}const a=l(this,Ss),u=this.currentPath;this.currentPath=[],w(this,Ss,new Path2D);const c=()=>{this.allRawPaths.push(u),this.paths.push(r),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},d=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(S(this,Y,tf).call(this),S(this,Y,ef).call(this)),S(this,Y,Uu).call(this))};this.addCommands({cmd:c,undo:d,mustExec:!0})},U1=function(){if(!l(this,Go))return;w(this,Go,!1);const e=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(c=>c[0]),a=s.map(c=>c[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...a)-e,Math.max(...a)+e;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)u.stroke(c);u.stroke(l(this,Ss)),u.restore()},$1=function(e,s,r,a,u,c,d){const p=(s+a)/2,g=(r+u)/2,y=(a+c)/2,A=(u+d)/2;e.bezierCurveTo(p+2*(a-p)/3,g+2*(u-g)/3,y+2*(a-y)/3,A+2*(u-A)/3,y,A)},W1=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const s=[];let r,[a,u]=e[0];for(r=1;r<e.length-2;r++){const[E,C]=e[r],[x,R]=e[r+1],T=(E+x)/2,F=(C+R)/2,N=[a+2*(E-a)/3,u+2*(C-u)/3],O=[T+2*(E-T)/3,F+2*(C-F)/3];s.push([[a,u],N,O,[T,F]]),[a,u]=[T,F]}const[c,d]=e[r],[p,g]=e[r+1],y=[a+2*(c-a)/3,u+2*(d-u)/3],A=[p+2*(c-p)/3,g+2*(d-g)/3];return s.push([[a,u],y,A,[p,g]]),s},Qr=function(){if(this.isEmpty()){S(this,Y,nf).call(this);return}S(this,Y,$m).call(this);const{canvas:e,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),S(this,Y,nf).call(this);for(const r of this.bezierPath2D)s.stroke(r)},Vm=function(){if(l(this,Fl))return;w(this,Fl,new AbortController);const e=this._uiManager.combinedSignal(l(this,Fl));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Gm=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Xm=function(e){var s;(s=l(this,Vo))==null||s.abort(),w(this,Vo,null),S(this,Y,Vm).call(this),l(this,ji)&&clearTimeout(l(this,ji)),w(this,ji,setTimeout(()=>{w(this,ji,null),this.canvas.removeEventListener("contextmenu",Zn)},10)),S(this,Y,j1).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},tf=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ef=function(){w(this,Es,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),l(this,Es).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=l(this,Es))==null||e.disconnect(),w(this,Es,null)},{once:!0})},za=function(){if(!l(this,Xo))return;const[e,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*s),S(this,Y,nf).call(this)},qm=function(e,s){const r=S(this,Y,sf).call(this),a=(e-r)/l(this,Wo),u=(s-r)/l(this,$o);this.scaleFactor=Math.min(a,u)},nf=function(){const e=S(this,Y,sf).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Fs=new WeakSet,V1=function(e){const s=new Path2D;for(let r=0,a=e.length;r<a;r++){const[u,c,d,p]=e[r];r===0&&s.moveTo(...u),s.bezierCurveTo(c[0],c[1],d[0],d[1],p[0],p[1])}return s},Ym=function(e,s,r){const[a,u,c,d]=s;switch(r){case 0:for(let p=0,g=e.length;p<g;p+=2)e[p]+=a,e[p+1]=d-e[p+1];break;case 90:for(let p=0,g=e.length;p<g;p+=2){const y=e[p];e[p]=e[p+1]+a,e[p+1]=y+u}break;case 180:for(let p=0,g=e.length;p<g;p+=2)e[p]=c-e[p],e[p+1]+=u;break;case 270:for(let p=0,g=e.length;p<g;p+=2){const y=e[p];e[p]=c-e[p+1],e[p+1]=d-y}break;default:throw new Error("Invalid rotation")}return e},G1=function(e,s,r){const[a,u,c,d]=s;switch(r){case 0:for(let p=0,g=e.length;p<g;p+=2)e[p]-=a,e[p+1]=d-e[p+1];break;case 90:for(let p=0,g=e.length;p<g;p+=2){const y=e[p];e[p]=e[p+1]-u,e[p+1]=y-a}break;case 180:for(let p=0,g=e.length;p<g;p+=2)e[p]=c-e[p],e[p+1]-=u;break;case 270:for(let p=0,g=e.length;p<g;p+=2){const y=e[p];e[p]=d-e[p+1],e[p+1]=c-y}break;default:throw new Error("Invalid rotation")}return e},X1=function(e,s,r,a){var g,y;const u=[],c=this.thickness/2,d=e*s+c,p=e*r+c;for(const A of this.paths){const E=[],C=[];for(let x=0,R=A.length;x<R;x++){const[T,F,N,O]=A[x];if(T[0]===O[0]&&T[1]===O[1]&&R===1){const vt=e*T[0]+d,Et=e*T[1]+p;E.push(vt,Et),C.push(vt,Et);break}const j=e*T[0]+d,H=e*T[1]+p,V=e*F[0]+d,q=e*F[1]+p,st=e*N[0]+d,pt=e*N[1]+p,ut=e*O[0]+d,xt=e*O[1]+p;x===0&&(E.push(j,H),C.push(j,H)),E.push(V,q,st,pt,ut,xt),C.push(V,q),x===R-1&&C.push(ut,xt)}u.push({bezier:S(g=ne,Fs,Ym).call(g,E,a,this.rotation),points:S(y=ne,Fs,Ym).call(y,C,a,this.rotation)})}return u},Km=function(){let e=1/0,s=-1/0,r=1/0,a=-1/0;for(const u of this.paths)for(const[c,d,p,g]of u){const y=lt.bezierBoundingBox(...c,...d,...p,...g);e=Math.min(e,y[0]),r=Math.min(r,y[1]),s=Math.max(s,y[2]),a=Math.max(a,y[3])}return[e,r,s,a]},sf=function(){return l(this,qn)?Math.ceil(this.thickness*this.parentScale):0},Uu=function(e=!1){if(this.isEmpty())return;if(!l(this,qn)){S(this,Y,Qr).call(this);return}const s=S(this,Y,Km).call(this),r=S(this,Y,sf).call(this);w(this,Wo,Math.max($t.MIN_SIZE,s[2]-s[0])),w(this,$o,Math.max($t.MIN_SIZE,s[3]-s[1]));const a=Math.ceil(r+l(this,Wo)*this.scaleFactor),u=Math.ceil(r+l(this,$o)*this.scaleFactor),[c,d]=this.parentDimensions;this.width=a/c,this.height=u/d,this.setAspectRatio(a,u);const p=this.translationX,g=this.translationY;this.translationX=-s[0],this.translationY=-s[1],S(this,Y,za).call(this),S(this,Y,Qr).call(this),w(this,qo,a),w(this,Yo,u),this.setDims(a,u);const y=e?r/this.scaleFactor/2:0;this.translate(p-this.translationX-y,g-this.translationY-y)},b(ne,Fs),yt(ne,"_defaultColor",null),yt(ne,"_defaultOpacity",1),yt(ne,"_defaultThickness",1),yt(ne,"_type","ink"),yt(ne,"_editorType",bt.INK);let Um=ne;var se,ze,Cr,bs,xr,Dl,Ui,Cs,$i,Mn,Nl,It,$u,Wu,rf,Zm,q1,of,Jm,af,Y1,K1;const Xu=class Xu extends $t{constructor(e){super({...e,name:"stampEditor"});b(this,It);b(this,se,null);b(this,ze,null);b(this,Cr,null);b(this,bs,null);b(this,xr,null);b(this,Dl,"");b(this,Ui,null);b(this,Cs,null);b(this,$i,null);b(this,Mn,!1);b(this,Nl,!1);w(this,bs,e.bitmapUrl),w(this,xr,e.bitmapFile)}static initialize(e,s){$t.initialize(e,s)}static get supportedTypes(){return Dt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Dt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(bt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:u,height:c}=e||this.copyCanvas(null,null,!0).imageData,d=await r.guess({name:"altText",request:{data:a,width:u,height:c,channels:a.length/(u*c)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const p=d.output;return await this.setGuessedAltText(p),s&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e,s;l(this,ze)&&(w(this,se,null),this._uiManager.imageManager.deleteId(l(this,ze)),(e=l(this,Ui))==null||e.remove(),w(this,Ui,null),(s=l(this,Cs))==null||s.disconnect(),w(this,Cs,null),l(this,$i)&&(clearTimeout(l(this,$i)),w(this,$i,null))),super.remove()}rebuild(){if(!this.parent){l(this,ze)&&S(this,It,rf).call(this);return}super.rebuild(),this.div!==null&&(l(this,ze)&&l(this,Ui)===null&&S(this,It,rf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(l(this,Cr)||l(this,se)||l(this,bs)||l(this,xr)||l(this,ze))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),l(this,se)?S(this,It,Zm).call(this):S(this,It,rf).call(this),this.width&&!this.annotationElementId){const[r,a]=this.parentDimensions;this.setAt(e*r,s*a,this.width*r,this.height*a)}return this.div}copyCanvas(e,s,r=!1){var E;e||(e=224);const{width:a,height:u}=l(this,se),c=new qg;let d=l(this,se),p=a,g=u,y=null;if(s){if(a>s||u>s){const q=Math.min(s/a,s/u);p=Math.floor(a*q),g=Math.floor(u*q)}y=document.createElement("canvas");const C=y.width=Math.ceil(p*c.sx),x=y.height=Math.ceil(g*c.sy);l(this,Mn)||(d=S(this,It,of).call(this,C,x));const R=y.getContext("2d");R.filter=this._uiManager.hcmFilter;let T="white",F="#cfcfd8";this._uiManager.hcmFilter!=="none"?F="black":(E=window.matchMedia)!=null&&E.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",F="#42414d");const N=15,O=N*c.sx,j=N*c.sy,H=new OffscreenCanvas(O*2,j*2),V=H.getContext("2d");V.fillStyle=T,V.fillRect(0,0,O*2,j*2),V.fillStyle=F,V.fillRect(0,0,O,j),V.fillRect(O,j,O,j),R.fillStyle=R.createPattern(H,"repeat"),R.fillRect(0,0,C,x),R.drawImage(d,0,0,d.width,d.height,0,0,C,x)}let A=null;if(r){let C,x;if(c.symmetric&&d.width<e&&d.height<e)C=d.width,x=d.height;else if(d=l(this,se),a>e||u>e){const F=Math.min(e/a,e/u);C=Math.floor(a*F),x=Math.floor(u*F),l(this,Mn)||(d=S(this,It,of).call(this,C,x))}const T=new OffscreenCanvas(C,x).getContext("2d",{willReadFrequently:!0});T.drawImage(d,0,0,d.width,d.height,0,0,C,x),A={width:C,height:x,data:T.getImageData(0,0,C,x).data}}return{canvas:y,width:p,height:g,imageData:A}}getImageForAltText(){return l(this,Ui)}static async deserialize(e,s,r){var x;let a=null;if(e instanceof o1){const{data:{rect:R,rotation:T,id:F,structParent:N,popupRef:O},container:j,parent:{page:{pageNumber:H}}}=e,V=j.querySelector("canvas"),q=r.imageManager.getFromCanvas(j.id,V);V.remove();const st=((x=await s._structTree.getAriaAttributes(`${uv}${F}`))==null?void 0:x.get("aria-label"))||"";a=e={annotationType:bt.STAMP,bitmapId:q.id,bitmap:q.bitmap,pageIndex:H-1,rect:R.slice(0),rotation:T,id:F,deleted:!1,accessibilityData:{decorative:!1,altText:st},isSvg:!1,structParent:N,popupRef:O}}const u=await super.deserialize(e,s,r),{rect:c,bitmap:d,bitmapUrl:p,bitmapId:g,isSvg:y,accessibilityData:A}=e;g&&r.imageManager.isValidId(g)?(w(u,ze,g),d&&w(u,se,d)):w(u,bs,p),w(u,Mn,y);const[E,C]=u.pageDimensions;return u.width=(c[2]-c[0])/E,u.height=(c[3]-c[1])/C,u.annotationElementId=e.id||null,A&&(u.altTextData=A),u._initialData=a,w(u,Nl,!!a),u}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:bt.STAMP,bitmapId:l(this,ze),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:l(this,Mn),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=S(this,It,af).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:a,altText:u}=this.serializeAltText(!1);if(!a&&u&&(r.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const d=S(this,It,K1).call(this,r);if(d.isSame)return null;d.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const c=l(this,Mn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(l(this,ze)))s.stamps.set(l(this,ze),{area:c,serialized:r}),r.bitmap=S(this,It,af).call(this,!1);else if(l(this,Mn)){const d=s.stamps.get(l(this,ze));c>d.area&&(d.area=c,d.serialized.bitmap.close(),d.serialized.bitmap=S(this,It,af).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};se=new WeakMap,ze=new WeakMap,Cr=new WeakMap,bs=new WeakMap,xr=new WeakMap,Dl=new WeakMap,Ui=new WeakMap,Cs=new WeakMap,$i=new WeakMap,Mn=new WeakMap,Nl=new WeakMap,It=new WeakSet,$u=function(e,s=!1){if(!e){this.remove();return}w(this,se,e.bitmap),s||(w(this,ze,e.id),w(this,Mn,e.isSvg)),e.file&&w(this,Dl,e.file.name),S(this,It,Zm).call(this)},Wu=function(){if(w(this,Cr,null),this._uiManager.enableWaiting(!1),!!l(this,Ui)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,se)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,se)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},rf=function(){if(l(this,ze)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,ze)).then(r=>S(this,It,$u).call(this,r,!0)).finally(()=>S(this,It,Wu).call(this));return}if(l(this,bs)){const r=l(this,bs);w(this,bs,null),this._uiManager.enableWaiting(!0),w(this,Cr,this._uiManager.imageManager.getFromUrl(r).then(a=>S(this,It,$u).call(this,a)).finally(()=>S(this,It,Wu).call(this)));return}if(l(this,xr)){const r=l(this,xr);w(this,xr,null),this._uiManager.enableWaiting(!0),w(this,Cr,this._uiManager.imageManager.getFromFile(r).then(a=>S(this,It,$u).call(this,a)).finally(()=>S(this,It,Wu).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Xu.supportedTypesStr;const s=this._uiManager._signal;w(this,Cr,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),S(this,It,$u).call(this,a)}r()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>S(this,It,Wu).call(this))),e.click()},Zm=function(){const{div:e}=this;let{width:s,height:r}=l(this,se);const[a,u]=this.pageDimensions,c=.75;if(this.width)s=this.width*a,r=this.height*u;else if(s>c*a||r>c*u){const y=Math.min(c*a/s,c*u/r);s*=y,r*=y}const[d,p]=this.parentDimensions;this.setDims(s*d/a,r*p/u),this._uiManager.enableWaiting(!1);const g=w(this,Ui,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),S(this,It,Jm).call(this,s,r),S(this,It,Y1).call(this),l(this,Nl)||(this.parent.addUndoableEditor(this),w(this,Nl,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,Dl)&&g.setAttribute("aria-label",l(this,Dl))},q1=function(e,s){var c;const[r,a]=this.parentDimensions;this.width=e/r,this.height=s/a,(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,l(this,$i)!==null&&clearTimeout(l(this,$i)),w(this,$i,setTimeout(()=>{w(this,$i,null),S(this,It,Jm).call(this,e,s)},200))},of=function(e,s){const{width:r,height:a}=l(this,se);let u=r,c=a,d=l(this,se);for(;u>2*e||c>2*s;){const p=u,g=c;u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),c>2*s&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const y=new OffscreenCanvas(u,c);y.getContext("2d").drawImage(d,0,0,p,g,0,0,u,c),d=y.transferToImageBitmap()}return d},Jm=function(e,s){const r=new qg,a=Math.ceil(e*r.sx),u=Math.ceil(s*r.sy),c=l(this,Ui);if(!c||c.width===a&&c.height===u)return;c.width=a,c.height=u;const d=l(this,Mn)?l(this,se):S(this,It,of).call(this,a,u),p=c.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(d,0,0,d.width,d.height,0,0,a,u)},af=function(e){if(e){if(l(this,Mn)){const a=this._uiManager.imageManager.getSvgUrl(l(this,ze));if(a)return a}const s=document.createElement("canvas");return{width:s.width,height:s.height}=l(this,se),s.getContext("2d").drawImage(l(this,se),0,0),s.toDataURL()}if(l(this,Mn)){const[s,r]=this.pageDimensions,a=Math.round(this.width*s*Pr.PDF_TO_CSS_UNITS),u=Math.round(this.height*r*Pr.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(a,u);return c.getContext("2d").drawImage(l(this,se),0,0,l(this,se).width,l(this,se).height,0,0,a,u),c.transferToImageBitmap()}return structuredClone(l(this,se))},Y1=function(){this._uiManager._signal&&(w(this,Cs,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&S(this,It,q1).call(this,s.width,s.height)})),l(this,Cs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=l(this,Cs))==null||e.disconnect(),w(this,Cs,null)},{once:!0}))},K1=function(e){var p;const{rect:s,pageIndex:r,accessibilityData:{altText:a}}=this._initialData,u=e.rect.every((g,y)=>Math.abs(g-s[y])<1),c=e.pageIndex===r,d=(((p=e.accessibilityData)==null?void 0:p.alt)||"")===a;return{isSame:u&&c&&d,isSameAltText:d}},yt(Xu,"_type","stamp"),yt(Xu,"_editorType",bt.STAMP);let Qm=Xu;var Ko,Ol,Wi,kr,xs,In,Tr,zl,Hl,Ye,ks,ct,Rr,He,Q1,ev,nv,iv,lf;const oi=class oi{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:r,accessibilityManager:a,annotationLayer:u,drawLayer:c,textLayer:d,viewport:p,l10n:g}){b(this,He);b(this,Ko);b(this,Ol,!1);b(this,Wi,null);b(this,kr,null);b(this,xs,null);b(this,In,new Map);b(this,Tr,!1);b(this,zl,!1);b(this,Hl,!1);b(this,Ye,null);b(this,ks,null);b(this,ct);const y=[...l(oi,Rr).values()];if(!oi._initialized){oi._initialized=!0;for(const A of y)A.initialize(g,t)}t.registerEditorTypes(y),w(this,ct,t),this.pageIndex=e,this.div=s,w(this,Ko,a),w(this,Wi,u),this.viewport=p,w(this,Ye,d),this.drawLayer=c,this._structTree=r,l(this,ct).addLayer(this)}get isEmpty(){return l(this,In).size===0}get isInvisible(){return this.isEmpty&&l(this,ct).getMode()===bt.NONE}updateToolbar(t){l(this,ct).updateToolbar(t)}updateMode(t=l(this,ct).getMode()){switch(S(this,He,lf).call(this),t){case bt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case bt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case bt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of l(oi,Rr).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=l(this,Ye))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(l(this,ct).getMode()!==bt.INK)return;if(!t){for(const s of l(this,In).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){l(this,ct).setEditingState(t)}addCommands(t){l(this,ct).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=l(this,Wi))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of l(this,In).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(l(this,ct).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!l(this,Wi))return;const e=l(this,Wi).getEditableAnnotations();for(const s of e){if(s.hide(),l(this,ct).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;w(this,Hl,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of l(this,In).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);(r=this.getEditableAnnotation(a.annotationElementId))==null||r.show(),a.remove()}if(l(this,Wi)){const a=l(this,Wi).getEditableAnnotations();for(const u of a){const{id:c}=u.data;if(l(this,ct).isDeletedAnnotationElement(c))continue;let d=e.get(c);if(d){d.resetAnnotationElement(u),d.show(!1),u.show();continue}d=t.get(c),d&&(l(this,ct).addChangedExistingAnnotation(d),d.renderAnnotationElement(u)&&d.show(!1)),u.show()}}S(this,He,lf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const a of l(oi,Rr).values())s.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),w(this,Hl,!1)}getEditableAnnotation(t){var e;return((e=l(this,Wi))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){l(this,ct).getActive()!==t&&l(this,ct).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=l(this,Ye))!=null&&t.div&&!l(this,ks)){w(this,ks,new AbortController);const e=l(this,ct).combinedSignal(l(this,ks));l(this,Ye).div.addEventListener("pointerdown",S(this,He,Q1).bind(this),{signal:e}),l(this,Ye).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=l(this,Ye))!=null&&t.div&&l(this,ks)&&(l(this,ks).abort(),w(this,ks,null),l(this,Ye).div.classList.remove("highlighting"))}enableClick(){if(l(this,kr))return;w(this,kr,new AbortController);const t=l(this,ct).combinedSignal(l(this,kr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=l(this,kr))==null||t.abort(),w(this,kr,null)}attach(t){l(this,In).set(t.id,t);const{annotationElementId:e}=t;e&&l(this,ct).isDeletedAnnotationElement(e)&&l(this,ct).removeDeletedAnnotationElement(t)}detach(t){var e;l(this,In).delete(t.id),(e=l(this,Ko))==null||e.removePointerInTextLayer(t.contentDiv),!l(this,Hl)&&t.annotationElementId&&l(this,ct).addDeletedAnnotationElement(t)}remove(t){this.detach(t),l(this,ct).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,l(this,zl)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(l(this,ct).addDeletedAnnotationElement(t.annotationElementId),$t.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),l(this,ct).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),l(this,ct).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!l(this,xs)&&(t._focusEventsAllowed=!1,w(this,xs,setTimeout(()=>{w(this,xs,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:l(this,ct)._signal}),e.focus())},0))),t._structTreeParentId=(s=l(this,Ko))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return l(this,ct).getId()}combinedSignal(t){return l(this,ct).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=l(this,He,ev))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){l(this,ct).updateToolbar(t),l(this,ct).updateMode(t);const{offsetX:s,offsetY:r}=S(this,He,iv).call(this),a=this.getNextId(),u=S(this,He,nv).call(this,{parent:this,id:a,x:s,y:r,uiManager:l(this,ct),isCentered:!0,...e});u&&this.add(u)}async deserialize(t){var e;return await((e=l(oi,Rr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,l(this,ct)))||null}createAndAddNewEditor(t,e,s={}){const r=this.getNextId(),a=S(this,He,nv).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:l(this,ct),isCentered:e,...s});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(S(this,He,iv).call(this),!0)}setSelected(t){l(this,ct).setSelected(t)}toggleSelected(t){l(this,ct).toggleSelected(t)}unselect(t){l(this,ct).unselect(t)}pointerup(t){const{isMac:e}=rn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&l(this,Tr)){if(w(this,Tr,!1),!l(this,Ol)){w(this,Ol,!0);return}if(l(this,ct).getMode()===bt.STAMP){l(this,ct).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(l(this,ct).getMode()===bt.HIGHLIGHT&&this.enableTextSelection(),l(this,Tr)){w(this,Tr,!1);return}const{isMac:e}=rn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;w(this,Tr,!0);const s=l(this,ct).getActive();w(this,Ol,!s||s.isEmpty())}findNewParent(t,e,s){const r=l(this,ct).findParent(e,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=l(this,ct).getActive())==null?void 0:t.parent)===this&&(l(this,ct).commitOrRemove(),l(this,ct).setActiveEditor(null)),l(this,xs)&&(clearTimeout(l(this,xs)),w(this,xs,null));for(const s of l(this,In).values())(e=l(this,Ko))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,l(this,In).clear(),l(this,ct).removeLayer(this)}render({viewport:t}){this.viewport=t,Zo(this.div,t);for(const e of l(this,ct).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){l(this,ct).commitOrRemove(),S(this,He,lf).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Zo(this.div,{rotation:s}),e!==s)for(const r of l(this,In).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return l(this,ct).viewParameters.realScale}};Ko=new WeakMap,Ol=new WeakMap,Wi=new WeakMap,kr=new WeakMap,xs=new WeakMap,In=new WeakMap,Tr=new WeakMap,zl=new WeakMap,Hl=new WeakMap,Ye=new WeakMap,ks=new WeakMap,ct=new WeakMap,Rr=new WeakMap,He=new WeakSet,Q1=function(t){l(this,ct).unselectAll();const{target:e}=t;if(e===l(this,Ye).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&l(this,Ye).div.contains(e)){const{isMac:s}=rn.platform;if(t.button!==0||t.ctrlKey&&s)return;l(this,ct).showAllEditors("highlight",!0,!0),l(this,Ye).div.classList.add("free"),this.toggleDrawing(),ff.startHighlighting(this,l(this,ct).direction==="ltr",{target:l(this,Ye).div,x:t.x,y:t.y}),l(this,Ye).div.addEventListener("pointerup",()=>{l(this,Ye).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,ct)._signal}),t.preventDefault()}},ev=function(){return l(oi,Rr).get(l(this,ct).getMode())},nv=function(t){const e=l(this,He,ev);return e?new e.prototype.constructor(t):null},iv=function(){const{x:t,y:e,width:s,height:r}=this.div.getBoundingClientRect(),a=Math.max(0,t),u=Math.max(0,e),c=Math.min(window.innerWidth,t+s),d=Math.min(window.innerHeight,e+r),p=(a+c)/2-t,g=(u+d)/2-e,[y,A]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:y,offsetY:A}},lf=function(){w(this,zl,!0);for(const t of l(this,In).values())t.isEmpty()&&t.remove();w(this,zl,!1)},yt(oi,"_initialized",!1),b(oi,Rr,new Map([Im,Um,Qm,ff].map(t=>[t._editorType,t])));let tv=oi;var Vi,uh,pe,Ts,ch,rv,na,ov,Z1;const De=class De{constructor({pageIndex:t}){b(this,na);b(this,Vi,null);b(this,uh,0);b(this,pe,new Map);b(this,Ts,new Map);this.pageIndex=t}setParent(t){if(!l(this,Vi)){w(this,Vi,t);return}if(l(this,Vi)!==t){if(l(this,pe).size>0)for(const e of l(this,pe).values())e.remove(),t.append(e);w(this,Vi,t)}}static get _svgFactory(){return Dt(this,"_svgFactory",new Av)}draw(t,e,s,r=!1){const a=tn(this,uh)._++,u=S(this,na,ov).call(this,t.box);u.classList.add(...t.classNamesForDrawing);const c=De._svgFactory.createElement("defs");u.append(c);const d=De._svgFactory.createElement("path");c.append(d);const p=`path_p${this.pageIndex}_${a}`;d.setAttribute("id",p),d.setAttribute("d",t.toSVGPath()),r&&l(this,Ts).set(a,d);const g=S(this,na,Z1).call(this,c,p),y=De._svgFactory.createElement("use");return u.append(y),u.setAttribute("fill",e),u.setAttribute("fill-opacity",s),y.setAttribute("href",`#${p}`),l(this,pe).set(a,u),{id:a,clipPathId:`url(#${g})`}}drawOutline(t){const e=tn(this,uh)._++,s=S(this,na,ov).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=De._svgFactory.createElement("defs");s.append(r);const a=De._svgFactory.createElement("path");r.append(a);const u=`path_p${this.pageIndex}_${e}`;a.setAttribute("id",u),a.setAttribute("d",t.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(t.mustRemoveSelfIntersections){const g=De._svgFactory.createElement("mask");r.append(g),c=`mask_p${this.pageIndex}_${e}`,g.setAttribute("id",c),g.setAttribute("maskUnits","objectBoundingBox");const y=De._svgFactory.createElement("rect");g.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const A=De._svgFactory.createElement("use");g.append(A),A.setAttribute("href",`#${u}`),A.setAttribute("stroke","none"),A.setAttribute("fill","black"),A.setAttribute("fill-rule","nonzero"),A.classList.add("mask")}const d=De._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${u}`),c&&d.setAttribute("mask",`url(#${c})`);const p=d.cloneNode();return s.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),l(this,pe).set(e,s),e}finalizeLine(t,e){const s=l(this,Ts).get(t);l(this,Ts).delete(t),this.updateBox(t,e.box),s.setAttribute("d",e.toSVGPath())}updateLine(t,e){l(this,pe).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){l(this,Ts).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var s;S(s=De,ch,rv).call(s,l(this,pe).get(t),e)}show(t,e){l(this,pe).get(t).classList.toggle("hidden",!e)}rotate(t,e){l(this,pe).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){l(this,pe).get(t).setAttribute("fill",e)}changeOpacity(t,e){l(this,pe).get(t).setAttribute("fill-opacity",e)}addClass(t,e){l(this,pe).get(t).classList.add(e)}removeClass(t,e){l(this,pe).get(t).classList.remove(e)}getSVGRoot(t){return l(this,pe).get(t)}remove(t){l(this,Ts).delete(t),l(this,Vi)!==null&&(l(this,pe).get(t).remove(),l(this,pe).delete(t))}destroy(){w(this,Vi,null);for(const t of l(this,pe).values())t.remove();l(this,pe).clear(),l(this,Ts).clear()}};Vi=new WeakMap,uh=new WeakMap,pe=new WeakMap,Ts=new WeakMap,ch=new WeakSet,rv=function(t,{x:e=0,y:s=0,width:r=1,height:a=1}={}){const{style:u}=t;u.top=`${100*s}%`,u.left=`${100*e}%`,u.width=`${100*r}%`,u.height=`${100*a}%`},na=new WeakSet,ov=function(t){var s;const e=De._svgFactory.create(1,1,!0);return l(this,Vi).append(e),e.setAttribute("aria-hidden",!0),S(s=De,ch,rv).call(s,e,t),e},Z1=function(t,e){const s=De._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${e}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const a=De._svgFactory.createElement("use");return s.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),r},b(De,ch);let sv=De;_t.AbortException;_t.AnnotationEditorLayer;_t.AnnotationEditorParamsType;_t.AnnotationEditorType;_t.AnnotationEditorUIManager;_t.AnnotationLayer;_t.AnnotationMode;_t.ColorPicker;_t.DOMSVGFactory;_t.DrawLayer;_t.FeatureTest;var aC=_t.GlobalWorkerOptions;_t.ImageKind;_t.InvalidPDFException;_t.MissingPDFException;_t.OPS;_t.OutputScale;_t.PDFDataRangeTransport;_t.PDFDateString;_t.PDFWorker;_t.PasswordResponses;_t.PermissionFlag;_t.PixelsPerInch;_t.RenderingCancelledException;_t.TextLayer;_t.UnexpectedResponseException;_t.Util;_t.VerbosityLevel;_t.XfaLayer;_t.build;_t.createValidAbsoluteUrl;_t.fetchData;var lC=_t.getDocument;_t.getFilenameFromUrl;_t.getPdfFilenameFromUrl;_t.getXfaPageViewport;_t.isDataScheme;_t.isPdfFile;_t.noContextMenu;_t.normalizeUnicode;_t.setLayerDimensions;_t.shadow;_t.version;aC.workerSrc="/pdf.worker.min.mjs";const uC=({url:m,scale:t=1.5})=>{const e=Ld.useRef(null),s=Ld.useRef(null);return Ld.useEffect(()=>((async()=>{try{s.current&&await s.current.destroy(),s.current=lC(m);const u=await(await s.current.promise).getPage(1),c=u.getViewport({scale:t}),d=e.current;if(!d)return;const p=d.getContext("2d");if(!p)return;const g=window.devicePixelRatio||1;d.width=Math.floor(c.width*g),d.height=Math.floor(c.height*g),d.style.width=Math.floor(c.width)+"px",d.style.height=Math.floor(c.height)+"px";const A={canvasContext:p,transform:g!==1?[g,0,0,g,0,0]:[1,0,0,1,0,0],viewport:c};await u.render(A).promise}catch(a){console.error("Error loading PDF:",a)}})(),()=>{s.current&&s.current.destroy().catch(console.error)}),[m,t]),Qo.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"20px"},children:Qo.jsx("canvas",{ref:e,style:{border:"1px solid #ccc"}})})},cC="/assets/test-Cd3k-oan.pdf";function hC(){return Qo.jsx(Qo.Fragment,{children:Qo.jsx(uC,{url:cC})})}sE.createRoot(document.getElementById("root")).render(Qo.jsx(Ld.StrictMode,{children:Qo.jsx(hC,{})}));
